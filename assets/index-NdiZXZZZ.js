(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},Rl={};var M_;function wb(){if(M_)return Rl;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var V_;function Rb(){return V_||(V_=1,xd.exports=wb()),xd.exports}var b=Rb(),Nd={exports:{}},Se={};var k_;function Ib(){if(k_)return Se;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,J={};function he(M,Y,ie){this.props=M,this.context=Y,this.refs=J,this.updater=ie||ee}he.prototype.isReactComponent={},he.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},he.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function be(){}be.prototype=he.prototype;function ge(M,Y,ie){this.props=M,this.context=Y,this.refs=J,this.updater=ie||ee}var Ze=ge.prototype=new be;Ze.constructor=ge,se(Ze,he.prototype),Ze.isPureReactComponent=!0;var et=Array.isArray;function Ue(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,Y,ie){var re=ie.ref;return{$$typeof:r,type:M,key:Y,ref:re!==void 0?re:null,props:ie}}function V(M,Y){return I(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function ft(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Y.toString(36)}function Tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ue,Ue):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,Y,ie,re,ye){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case r:case e:Me=!0;break;case A:return Me=M._init,q(Me(M._payload),Y,ie,re,ye)}}if(Me)return ye=ye(M),Me=re===""?"."+ft(M,0):re,et(ye)?(ie="",Me!=null&&(ie=Me.replace(R,"$&/")+"/"),q(ye,Y,ie,"",function(_i){return _i})):ye!=null&&(N(ye)&&(ye=V(ye,ie+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Me)),Y.push(ye)),1;Me=0;var bt=re===""?".":re+":";if(et(M))for(var mt=0;mt<M.length;mt++)re=M[mt],Re=bt+ft(re,mt),Me+=q(re,Y,ie,Re,ye);else if(mt=F(M),typeof mt=="function")for(M=mt.call(M),mt=0;!(re=M.next()).done;)re=re.value,Re=bt+ft(re,mt++),Me+=q(re,Y,ie,Re,ye);else if(Re==="object"){if(typeof M.then=="function")return q(Tt(M),Y,ie,re,ye);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(M,Y,ie){if(M==null)return M;var re=[],ye=0;return q(M,re,"","",function(Re){return Y.call(ie,Re,ye++)}),re}function ce(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:ne,forEach:function(M,Y,ie){ne(M,function(){Y.apply(this,arguments)},ie)},count:function(M){var Y=0;return ne(M,function(){Y++}),Y},toArray:function(M){return ne(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=S,Se.Children=Ye,Se.Component=he,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=ge,Se.StrictMode=a,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Y,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=se({},M.props),ye=M.key;if(Y!=null)for(Re in Y.key!==void 0&&(ye=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(re[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)re.children=ie;else if(1<Re){for(var Me=Array(Re),bt=0;bt<Re;bt++)Me[bt]=arguments[bt+2];re.children=Me}return I(M.type,ye,re)},Se.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Se.createElement=function(M,Y,ie){var re,ye={},Re=null;if(Y!=null)for(re in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=Y[re]);var Me=arguments.length-2;if(Me===1)ye.children=ie;else if(1<Me){for(var bt=Array(Me),mt=0;mt<Me;mt++)bt[mt]=arguments[mt+2];ye.children=bt}if(M&&M.defaultProps)for(re in Me=M.defaultProps,Me)ye[re]===void 0&&(ye[re]=Me[re]);return I(M,Re,ye)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:y,render:M}},Se.isValidElement=N,Se.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ce}},Se.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},Se.startTransition=function(M){var Y=x.T,ie={};x.T=ie;try{var re=M(),ye=x.S;ye!==null&&ye(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ue,Oe)}catch(Re){Oe(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),x.T=Y}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(M){return x.H.use(M)},Se.useActionState=function(M,Y,ie){return x.H.useActionState(M,Y,ie)},Se.useCallback=function(M,Y){return x.H.useCallback(M,Y)},Se.useContext=function(M){return x.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Y){return x.H.useDeferredValue(M,Y)},Se.useEffect=function(M,Y){return x.H.useEffect(M,Y)},Se.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(M,Y,ie){return x.H.useImperativeHandle(M,Y,ie)},Se.useInsertionEffect=function(M,Y){return x.H.useInsertionEffect(M,Y)},Se.useLayoutEffect=function(M,Y){return x.H.useLayoutEffect(M,Y)},Se.useMemo=function(M,Y){return x.H.useMemo(M,Y)},Se.useOptimistic=function(M,Y){return x.H.useOptimistic(M,Y)},Se.useReducer=function(M,Y,ie){return x.H.useReducer(M,Y,ie)},Se.useRef=function(M){return x.H.useRef(M)},Se.useState=function(M){return x.H.useState(M)},Se.useSyncExternalStore=function(M,Y,ie){return x.H.useSyncExternalStore(M,Y,ie)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.3",Se}var U_;function Am(){return U_||(U_=1,Nd.exports=Ib()),Nd.exports}var ht=Am(),Dd={exports:{}},Il={},Od={exports:{}},Md={};var L_;function Cb(){return L_||(L_=1,(function(r){function e(q,ne){var ce=q.length;q.push(ne);e:for(;0<ce;){var Oe=ce-1>>>1,Ye=q[Oe];if(0<l(Ye,ne))q[Oe]=ne,q[ce]=Ye,ce=Oe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ne=q[0],ce=q.pop();if(ce!==ne){q[0]=ce;e:for(var Oe=0,Ye=q.length,M=Ye>>>1;Oe<M;){var Y=2*(Oe+1)-1,ie=q[Y],re=Y+1,ye=q[re];if(0>l(ie,ce))re<Ye&&0>l(ye,ie)?(q[Oe]=ye,q[re]=ce,Oe=re):(q[Oe]=ie,q[Y]=ce,Oe=Y);else if(re<Ye&&0>l(ye,ce))q[Oe]=ye,q[re]=ce,Oe=re;else break e}}return ne}function l(q,ne){var ce=q.sortIndex-ne.sortIndex;return ce!==0?ce:q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],_=[],A=1,S=null,D=3,F=!1,ee=!1,se=!1,J=!1,he=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Ze(q){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=q)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function et(q){if(se=!1,Ze(q),!ee)if(i(g)!==null)ee=!0,Ue||(Ue=!0,U());else{var ne=i(_);ne!==null&&Tt(et,ne.startTime-q)}}var Ue=!1,x=-1,w=5,I=-1;function V(){return J?!0:!(r.unstable_now()-I<w)}function N(){if(J=!1,Ue){var q=r.unstable_now();I=q;var ne=!0;try{e:{ee=!1,se&&(se=!1,be(x),x=-1),F=!0;var ce=D;try{t:{for(Ze(q),S=i(g);S!==null&&!(S.expirationTime>q&&V());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,D=S.priorityLevel;var Ye=Oe(S.expirationTime<=q);if(q=r.unstable_now(),typeof Ye=="function"){S.callback=Ye,Ze(q),ne=!0;break t}S===i(g)&&a(g),Ze(q)}else a(g);S=i(g)}if(S!==null)ne=!0;else{var M=i(_);M!==null&&Tt(et,M.startTime-q),ne=!1}}break e}finally{S=null,D=ce,F=!1}ne=void 0}}finally{ne?U():Ue=!1}}}var U;if(typeof ge=="function")U=function(){ge(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ft=R.port2;R.port1.onmessage=N,U=function(){ft.postMessage(null)}}else U=function(){he(N,0)};function Tt(q,ne){x=he(function(){q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var ce=D;D=ne;try{return q()}finally{D=ce}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=D;D=q;try{return ne()}finally{D=ce}},r.unstable_scheduleCallback=function(q,ne,ce){var Oe=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Oe+ce:Oe):ce=Oe,q){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ce+Ye,q={id:A++,callback:ne,priorityLevel:q,startTime:ce,expirationTime:Ye,sortIndex:-1},ce>Oe?(q.sortIndex=ce,e(_,q),i(g)===null&&q===i(_)&&(se?(be(x),x=-1):se=!0,Tt(et,ce-Oe))):(q.sortIndex=Ye,e(g,q),ee||F||(ee=!0,Ue||(Ue=!0,U()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var ne=D;return function(){var ce=D;D=ne;try{return q.apply(this,arguments)}finally{D=ce}}}})(Md)),Md}var P_;function xb(){return P_||(P_=1,Od.exports=Cb()),Od.exports}var Vd={exports:{}},cn={};var z_;function Nb(){if(z_)return cn;z_=1;var r=Am();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,A)},cn.flushSync=function(g){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=A,a.d.f()}},cn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},cn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},cn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:F}):A==="script"&&a.d.X(g,{crossOrigin:S,integrity:D,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},cn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(g,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},cn.requestFormReset=function(g){a.d.r(g)},cn.unstable_batchedUpdates=function(g,_){return g(_)},cn.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var j_;function Db(){if(j_)return Vd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=Nb(),Vd.exports}var B_;function Ob(){if(B_)return Il;B_=1;var r=xb(),e=Am(),i=Db();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Ze=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case he:return"Profiler";case J:return"StrictMode";case et:return"Suspense";case Ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ge:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ze:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var Tt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Oe=[],Ye=-1;function M(t){return{current:t}}function Y(t){0>Ye||(t.current=Oe[Ye],Oe[Ye]=null,Ye--)}function ie(t,n){Ye++,Oe[Ye]=t.current,t.current=n}var re=M(null),ye=M(null),Re=M(null),Me=M(null);function bt(t,n){switch(ie(Re,n),ie(ye,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n_(n),t=i_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function mt(){Y(re),Y(ye),Y(Re)}function _i(t){t.memoizedState!==null&&ie(Me,t);var n=re.current,s=i_(n,t.type);n!==s&&(ie(ye,t),ie(re,s))}function Ss(t){ye.current===t&&(Y(re),Y(ye)),Me.current===t&&(Y(Me),bl._currentValue=ce)}var ws,Rs;function Hn(t){if(ws===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ws=n&&n[1]||"",Rs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Rs}var Sr=!1;function qn(t,n){if(!t||Sr)return"";Sr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){j=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Hn(s):""}function wr(t,n){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return t.child!==n&&n!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return qn(t.type,!1);case 11:return qn(t.type.render,!1);case 1:return qn(t.type,!0);case 31:return Hn("Activity");default:return""}}function Rr(t){try{var n="",s=null;do n+=wr(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Rt=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,vi=r.unstable_cancelCallback,ma=r.unstable_shouldYield,Nn=r.unstable_requestPaint,Kt=r.unstable_now,Ei=r.unstable_getCurrentPriorityLevel,Ir=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,G=r.unstable_NormalPriority,W=r.unstable_LowPriority,Ee=r.unstable_IdlePriority,Ie=r.log,gt=r.unstable_setDisableYieldValue,at=null,Te=null;function Fe(t){if(typeof Ie=="function"&&gt(t),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(at,t)}catch{}}var He=Math.clz32?Math.clz32:Nt,qe=Math.log,At=Math.LN2;function Nt(t){return t>>>=0,t===0?32:31-(qe(t)/At|0)|0}var Dt=256,Gn=262144,Ke=4194304;function _n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function De(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=_n(o):(p&=E,p!==0?h=_n(p):s||(s=E&~t,s!==0&&(h=_n(s))))):(E=o&~f,E!==0?h=_n(E):p!==0?h=_n(p):s||(s=o&~t,s!==0&&(h=_n(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function _e(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),t}function Ti(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-He(s),X=1<<Q;E[Q]=0,C[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Dr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-He(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Io(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-He(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Co(t,n){var s=n&-n;return s=(s&42)!==0?1:Or(s),(s&(t.suspendedLanes|n))!==0?0:s}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function ri(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var ai=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ai,Zt="__reactProps$"+ai,bi="__reactContainer$"+ai,ga="__reactEvents$"+ai,Vh="__reactListeners$"+ai,ou="__reactHandles$"+ai,lu="__reactResources$"+ai,Ai="__reactMarker$"+ai;function pa(t){delete t[Ut],delete t[Zt],delete t[ga],delete t[Vh],delete t[ou]}function Si(t){var n=t[Ut];if(n)return n;for(var s=t.parentNode;s;){if(n=s[bi]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=c_(t);t!==null;){if(s=t[Ut])return s;t=c_(t)}return n}t=s,s=t.parentNode}return null}function Fn(t){if(t=t[Ut]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ai]=!0}var xo=new Set,No={};function Ri(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(No[t]=n,t=0;t<n.length;t++)xo.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function uu(t){return Rt.call(Mo,t)?!0:Rt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function ya(t,n,s){if(uu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function On(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Pt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function vn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?ko(t,p,Jt(n)):s!=null?ko(t,p,Jt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function cu(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}s=s!=null?""+Jt(s):"",n=n!=null?""+Jt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),it(t)}function ko(t,n,s){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Cs(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Jt(s):""}function xs(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Tt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Jt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),it(t)}function En(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Lo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Uo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Uo(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Po=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,xi=null;function kr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var s=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Zt]||null;if(!h)throw Error(a(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Mr(o)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cs(t,!!s.multiple,n,!1)}}}var Ta=!1;function Os(t,n,s){if(Ta)return t(n,s);Ta=!0;try{var o=t(n);return o}finally{if(Ta=!1,(Ds!==null||xi!==null)&&(ac(),Ds&&(n=Ds,t=xi,xi=Ds=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function li(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Zt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Kn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Ur=!1}var Ni=null,zo=null,Lr=null;function jo(){if(Lr)return Lr;var t,n=zo,s=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ui(){return!1}function tn(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ui,this.isPropagationStopped=ui,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=tn(Zi),Ms=S({},Zi,{view:0,detail:0}),Bo=tn(Ms),Vs,ba,Oi,Aa=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Vs=t.screenX-Oi.screenX,ba=t.screenY-Oi.screenY):ba=Vs=0,Oi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Ho=tn(Aa),zr=S({},Aa,{dataTransfer:0}),mu=tn(zr),gu=S({},Ms,{relatedTarget:0}),jr=tn(gu),qo=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=tn(qo),Sa=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=tn(Sa),_u=S({},Zi,{data:0}),Mi=tn(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ks(){return bu}var gn=S({},Ms,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=tn(gn),Su=S({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=tn(Su),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=tn(u),v=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),L=S({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(L),te=S({},Zi,{newState:0,oldState:0}),Ce=tn(te),Ot=[9,13,27,32],Je=Kn&&"CompositionEvent"in window,vt=null;Kn&&"documentMode"in document&&(vt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!vt,Vi=Kn&&(!Je||vt&&8<vt&&11>=vt),ci=" ",hi=!1;function Br(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function XE(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function $E(t,n){if(Ra)return t==="compositionend"||!Je&&Br(t,n)?(t=jo(),Lr=zo=Ni=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var ZE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ZE[t.type]:n==="textarea"}function mg(t,n,s,o){Ds?xi?xi.push(o):xi=[o]:Ds=o,n=dc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Go=null,Fo=null;function JE(t){$y(t,0)}function wu(t){var n=Dn(t);if(Mr(n))return t}function gg(t,n){if(t==="change")return n}var pg=!1;if(Kn){var kh;if(Kn){var Uh="oninput"in document;if(!Uh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Uh=typeof yg.oninput=="function"}kh=Uh}else kh=!1;pg=kh&&(!document.documentMode||9<document.documentMode)}function _g(){Go&&(Go.detachEvent("onpropertychange",vg),Fo=Go=null)}function vg(t){if(t.propertyName==="value"&&wu(Fo)){var n=[];mg(n,Fo,t,Qn(t)),Os(JE,n)}}function WE(t,n,s){t==="focusin"?(_g(),Go=n,Fo=s,Go.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Fo)}function tT(t,n){if(t==="click")return wu(n)}function nT(t,n){if(t==="input"||t==="change")return wu(n)}function iT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:iT;function Qo(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Rt.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,n){var s=Eg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Eg(s)}}function bg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sT=Kn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Ph=null,Ko=null,zh=!1;function Sg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Ia==null||Ia!==Ci(o)||(o=Ia,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Qo(Ko,o)||(Ko=o,o=dc(Ph,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ia)))}function Hr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ca={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},jh={},wg={};Kn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function qr(t){if(jh[t])return jh[t];if(!Ca[t])return t;var n=Ca[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return jh[t]=n[s];return t}var Rg=qr("animationend"),Ig=qr("animationiteration"),Cg=qr("animationstart"),rT=qr("transitionrun"),aT=qr("transitionstart"),oT=qr("transitioncancel"),xg=qr("transitionend"),Ng=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function fi(t,n){Ng.set(t,n),Ri(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],xa=0,Hh=0;function Iu(){for(var t=xa,n=Hh=xa=0;n<t;){var s=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Dg(s,h,f)}}function Cu(t,n,s,o){Xn[xa++]=t,Xn[xa++]=n,Xn[xa++]=s,Xn[xa++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qh(t,n,s,o){return Cu(t,n,s,o),xu(t)}function Gr(t,n){return Cu(t,null,null,n),xu(t)}function Dg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-He(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function xu(t){if(50<gl)throw gl=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function lT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,s,o){return new lT(t,n,s,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var s=t.alternate;return s===null?(s=Vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Og(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")Gh(t)&&(p=1);else if(typeof t=="string")p=db(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Vn(31,s,n,h),t.elementType=I,t.lanes=f,t;case se:return Fr(s.children,h,f,n);case J:p=8,h|=24;break;case he:return t=Vn(12,s,n,h|2),t.elementType=he,t.lanes=f,t;case et:return t=Vn(13,s,n,h),t.elementType=et,t.lanes=f,t;case Ue:return t=Vn(19,s,n,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:p=10;break e;case be:p=9;break e;case Ze:p=11;break e;case x:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Vn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,s,o){return t=Vn(7,t,o,n),t.lanes=s,t}function Fh(t,n,s){return t=Vn(6,t,null,n),t.lanes=s,t}function Mg(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,s){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vg=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=Vg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Rr(n)},Vg.set(t,n),n)}return{value:t,source:n,stack:Rr(n)}}var Da=[],Oa=0,Du=null,Yo=0,Zn=[],Jn=0,Us=null,ki=1,Ui="";function es(t,n){Da[Oa++]=Yo,Da[Oa++]=Du,Du=t,Yo=n}function kg(t,n,s){Zn[Jn++]=ki,Zn[Jn++]=Ui,Zn[Jn++]=Us,Us=t;var o=ki;t=Ui;var h=32-He(o)-1;o&=~(1<<h),s+=1;var f=32-He(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ki=1<<32-He(n)+h|s<<h|o,Ui=f+t}else ki=1<<f|s<<h|o,Ui=t}function Kh(t){t.return!==null&&(es(t,1),kg(t,1,0))}function Yh(t){for(;t===Du;)Du=Da[--Oa],Da[Oa]=null,Yo=Da[--Oa],Da[Oa]=null;for(;t===Us;)Us=Zn[--Jn],Zn[Jn]=null,Ui=Zn[--Jn],Zn[Jn]=null,ki=Zn[--Jn],Zn[Jn]=null}function Ug(t,n){Zn[Jn++]=ki,Zn[Jn++]=Ui,Zn[Jn++]=Us,ki=n.id,Ui=n.overflow,Us=t}var nn=null,pt=null,Ge=!1,Ls=null,Wn=!1,Xh=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo($n(n,t)),Xh}function Lg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Ut]=t,n[Zt]=o,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<yl.length;s++)ke(yl[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),xs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Ps(t,!0)}function Pg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:nn=nn.return}}function Ma(t){if(t!==nn)return!1;if(!Ge)return Pg(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&pt&&Ps(t),Pg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=u_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=u_(t)}else n===27?(n=pt,Js(t.type)?(t=vd,vd=null,pt=t):pt=n):pt=nn?ti(t.stateNode.nextSibling):null;return!0}function Qr(){pt=nn=null,Ge=!1}function $h(){var t=Ls;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ls=null),t}function Xo(t){Ls===null?Ls=[t]:Ls.push(t)}var Zh=M(null),Kr=null,ts=null;function zs(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function ns(t){t._currentValue=Zh.current,Y(Zh)}function Jh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Wh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Jh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Mn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Wh(n,t,s,o),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Kr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return zg(Kr,t)}function Mu(t,n){return Kr===null&&Yr(t),zg(t,n)}function zg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ts===null){if(t===null)throw Error(a(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return s}var uT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},cT=r.unstable_scheduleCallback,hT=r.unstable_NormalPriority,zt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new uT,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&cT(hT,function(){t.controller.abort()})}var Zo=null,tf=0,ka=0,Ua=null;function fT(t,n){if(Zo===null){var s=Zo=[];tf=0,ka=rd(),Ua={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(jg,jg),n}function jg(){if(--tf===0&&Zo!==null){Ua!==null&&(Ua.status="fulfilled");var t=Zo;Zo=null,ka=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=q.S;q.S=function(t,n){Sy=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fT(t,n),Bg!==null&&Bg(t,n)};var Xr=M(null);function nf(){var t=Xr.current;return t!==null?t:dt.pooledCache}function Vu(t,n){n===null?ie(Xr,Xr.current):ie(Xr,n.pool)}function Hg(){var t=nf();return t===null?null:{parent:zt._currentValue,pool:t}}var La=Error(a(460)),sf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(oi,oi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t}throw Zr=n,La}}function $r(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zr=s,La):s}}var Zr=null;function Fg(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}function Qg(t){if(t===La||t===ku)throw Error(a(483))}var Pa=null,Jo=0;function Lu(t){var n=Jo;return Jo+=1,Pa===null&&(Pa=[]),Gg(Pa,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kg(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Wi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Fh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,K){var fe=P.type;return fe===se?Q(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&$r(fe)===O.type)?(O=h(O,P.props),Wo(O,P),O.return=k,O):(O=Nu(P.type,P.key,P.props,null,k.mode,K),Wo(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Qh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,K,fe){return O===null||O.tag!==7?(O=Fr(P,k.mode,K,fe),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Nu(O.type,O.key,O.props,null,k.mode,P),Wo(P,O),P.return=k,P;case ee:return O=Qh(O,k.mode,P),O.return=k,O;case w:return O=$r(O),X(k,O,P)}if(Tt(O)||U(O))return O=Fr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Lu(O),P);if(O.$$typeof===ge)return X(k,Mu(k,O),P);Pu(k,O)}return null}function j(k,O,P,K){var fe=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===fe?C(k,O,P,K):null;case ee:return P.key===fe?z(k,O,P,K):null;case w:return P=$r(P),j(k,O,P,K)}if(Tt(P)||U(P))return fe!==null?null:Q(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,Lu(P),K);if(P.$$typeof===ge)return j(k,O,Mu(k,P),K);Pu(k,P)}return null}function H(k,O,P,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?P:K.key)||null,C(O,k,K,fe);case ee:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,fe);case w:return K=$r(K),H(k,O,P,K,fe)}if(Tt(K)||U(K))return k=k.get(P)||null,Q(O,k,K,fe,null);if(typeof K.then=="function")return H(k,O,P,Lu(K),fe);if(K.$$typeof===ge)return H(k,O,P,Mu(O,K),fe);Pu(O,K)}return null}function oe(k,O,P,K){for(var fe=null,Xe=null,le=O,Ne=O=0,Pe=null;le!==null&&Ne<P.length;Ne++){le.index>Ne?(Pe=le,le=null):Pe=le.sibling;var $e=j(k,le,P[Ne],K);if($e===null){le===null&&(le=Pe);break}t&&le&&$e.alternate===null&&n(k,le),O=f($e,O,Ne),Xe===null?fe=$e:Xe.sibling=$e,Xe=$e,le=Pe}if(Ne===P.length)return s(k,le),Ge&&es(k,Ne),fe;if(le===null){for(;Ne<P.length;Ne++)le=X(k,P[Ne],K),le!==null&&(O=f(le,O,Ne),Xe===null?fe=le:Xe.sibling=le,Xe=le);return Ge&&es(k,Ne),fe}for(le=o(le);Ne<P.length;Ne++)Pe=H(le,k,Ne,P[Ne],K),Pe!==null&&(t&&Pe.alternate!==null&&le.delete(Pe.key===null?Ne:Pe.key),O=f(Pe,O,Ne),Xe===null?fe=Pe:Xe.sibling=Pe,Xe=Pe);return t&&le.forEach(function(ir){return n(k,ir)}),Ge&&es(k,Ne),fe}function me(k,O,P,K){if(P==null)throw Error(a(151));for(var fe=null,Xe=null,le=O,Ne=O=0,Pe=null,$e=P.next();le!==null&&!$e.done;Ne++,$e=P.next()){le.index>Ne?(Pe=le,le=null):Pe=le.sibling;var ir=j(k,le,$e.value,K);if(ir===null){le===null&&(le=Pe);break}t&&le&&ir.alternate===null&&n(k,le),O=f(ir,O,Ne),Xe===null?fe=ir:Xe.sibling=ir,Xe=ir,le=Pe}if($e.done)return s(k,le),Ge&&es(k,Ne),fe;if(le===null){for(;!$e.done;Ne++,$e=P.next())$e=X(k,$e.value,K),$e!==null&&(O=f($e,O,Ne),Xe===null?fe=$e:Xe.sibling=$e,Xe=$e);return Ge&&es(k,Ne),fe}for(le=o(le);!$e.done;Ne++,$e=P.next())$e=H(le,k,Ne,$e.value,K),$e!==null&&(t&&$e.alternate!==null&&le.delete($e.key===null?Ne:$e.key),O=f($e,O,Ne),Xe===null?fe=$e:Xe.sibling=$e,Xe=$e);return t&&le.forEach(function(Sb){return n(k,Sb)}),Ge&&es(k,Ne),fe}function ct(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var fe=P.key;O!==null;){if(O.key===fe){if(fe=P.type,fe===se){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&$r(fe)===O.type){s(k,O.sibling),K=h(O,P.props),Wo(K,P),K.return=k,k=K;break e}s(k,O);break}else n(k,O);O=O.sibling}P.type===se?(K=Fr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Nu(P.type,P.key,P.props,null,k.mode,K),Wo(K,P),K.return=k,k=K)}return p(k);case ee:e:{for(fe=P.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break e}else{s(k,O);break}else n(k,O);O=O.sibling}K=Qh(P,k.mode,K),K.return=k,k=K}return p(k);case w:return P=$r(P),ct(k,O,P,K)}if(Tt(P))return oe(k,O,P,K);if(U(P)){if(fe=U(P),typeof fe!="function")throw Error(a(150));return P=fe.call(P),me(k,O,P,K)}if(typeof P.then=="function")return ct(k,O,Lu(P),K);if(P.$$typeof===ge)return ct(k,O,Mu(k,P),K);Pu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Fh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,O)}return function(k,O,P,K){try{Jo=0;var fe=ct(k,O,P,K);return Pa=null,fe}catch(le){if(le===La||le===ku)throw le;var Xe=Vn(29,le,null,k.mode);return Xe.lanes=K,Xe.return=k,Xe}}}var Jr=Kg(!0),Yg=Kg(!1),js=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(t),Dg(t,null,s),n}return Cu(t,o,n,s),xu(t)}function el(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Io(t,s)}}function of(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var lf=!1;function tl(){if(lf){var t=Ua;if(t!==null)throw t}}function nl(t,n,s,o){lf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,Q=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Le&j)===j:(o&j)===j){j!==0&&j===ka&&(lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,me=E;j=n;var ct=s;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){X=oe.call(ct,X,j);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,j=typeof oe=="function"?oe.call(ct,X,j):oe,j==null)break e;X=S({},X,j);break e;case 2:js=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,C=X):Q=Q.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ks|=p,t.lanes=p,t.memoizedState=X}}function Xg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xg(s[t],n)}var za=M(null),zu=M(0);function Zg(t,n){t=hs,ie(zu,t),ie(za,n),hs=t|n.baseLanes}function uf(){ie(zu,hs),ie(za,za.current)}function cf(){hs=zu.current,Y(za),Y(zu)}var kn=M(null),ei=null;function qs(t){var n=t.alternate;ie(Mt,Mt.current&1),ie(kn,t),ei===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(ei=t)}function hf(t){ie(Mt,Mt.current),ie(kn,t),ei===null&&(ei=t)}function Jg(t){t.tag===22?(ie(Mt,Mt.current),ie(kn,t),ei===null&&(ei=t)):Gs()}function Gs(){ie(Mt,Mt.current),ie(kn,kn.current)}function Un(t){Y(kn),ei===t&&(ei=null),Y(Mt)}var Mt=M(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,xe=null,lt=null,jt=null,Bu=!1,ja=!1,Wr=!1,Hu=0,il=0,Ba=null,mT=0;function It(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Mn(t[s],n[s]))return!1;return!0}function df(t,n,s,o,h,f){return is=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?kp:Cf,Wr=!1,f=s(o,h),Wr=!1,ja&&(f=ep(n,s,o,h)),Wg(t),f}function Wg(t){q.H=al;var n=lt!==null&&lt.next!==null;if(is=0,jt=lt=xe=null,Bu=!1,il=0,Ba=null,n)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Ou(t)&&(Bt=!0))}function ep(t,n,s,o){xe=t;var h=0;do{if(ja&&(Ba=null),il=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,jt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Up,f=n(s,o)}while(ja);return f}function gT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(xe.flags|=1024),n}function mf(){var t=Hu!==0;return Hu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}is=0,jt=lt=xe=null,ja=!1,il=Hu=0,Ba=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?xe.memoizedState=jt=t:jt=jt.next=t,jt}function Vt(){if(lt===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=jt===null?xe.memoizedState:jt.next;if(n!==null)jt=n,lt=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},jt===null?xe.memoizedState=jt=t:jt=jt.next=t}return jt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,Ba===null&&(Ba=[]),t=Gg(Ba,t,n),n=xe,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?kp:Cf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ge)return sn(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,s=xe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),xe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function ss(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Vt();return _f(n,lt,t)}function _f(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Le&X)===X:(is&X)===X){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ka&&(Q=!0);else if((is&j)===j){z=z.next,j===ka&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,p=f):C=C.next=X,xe.lanes|=j,Ks|=j;X=z.action,Wr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,xe.lanes|=X,Ks|=X;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!Mn(f,t.memoizedState)&&(Bt=!0,Q&&(s=Ua,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var n=Vt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Mn(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(t,n,s){var o=xe,h=Vt(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Mn((lt||h).memoizedState,s);if(p&&(h.memoizedState=s,Bt=!0),h=h.queue,bf(sp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},ip.bind(null,o,h,s,n),null),dt===null)throw Error(a(349));f||(is&127)!==0||np(o,n,s)}return s}function np(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n=qu(),xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ip(t,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&ap(t)}function sp(t,n,s){return s(function(){rp(n)&&ap(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Mn(t,s)}catch{return!0}}function ap(t){var n=Gr(t,2);n!==null&&wn(n,t,2)}function Ef(t){var n=pn();if(typeof t=="function"){var s=t;if(t=s(),Wr){Fe(!0);try{s()}finally{Fe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function op(t,n,s,o){return t.baseState=s,_f(t,lt,typeof o=="function"?o:ss)}function pT(t,n,s,o,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=s(h,o),C=q.S;C!==null&&C(p,E),up(t,n,E)}catch(z){Tf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=s(h,o),up(t,n,f)}catch(z){Tf(t,n,z)}}function up(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(t,n,o)},function(o){return Tf(t,n,o)}):cp(t,n,s)}function cp(t,n,s){n.status="fulfilled",n.value=s,hp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,lp(t,s)))}function Tf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}t.action=null}function hp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function dp(t,n){if(Ge){var s=dt.formState;if(s!==null){e:{var o=xe;if(Ge){if(pt){t:{for(var h=pt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ti(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=o,s=Op.bind(null,xe,o),o.dispatch=s,o=Ef(!1),f=If.bind(null,xe,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=pT.bind(null,xe,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function mp(t){var n=Vt();return gp(n,lt,t)}function gp(t,n,s){if(n=_f(t,n,fp)[0],t=Fu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(p){throw p===La?ku:p}else o=n;n=Vt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xe.flags|=2048,Ha(9,{destroy:void 0},yT.bind(null,h,s),null)),[o,f,t]}function yT(t,n){t.action=n}function pp(t){var n=Vt(),s=lt;if(s!==null)return gp(n,s,t);Vt(),n=n.memoizedState,s=Vt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ha(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=qu(),xe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function yp(){return Vt().memoizedState}function Qu(t,n,s,o){var h=pn();xe.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(t,n,s,o){var h=Vt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&ff(o,lt.memoizedState.deps)?h.memoizedState=Ha(n,f,s,o):(xe.flags|=t,h.memoizedState=Ha(1|n,f,s,o))}function _p(t,n){Qu(8390656,8,t,n)}function bf(t,n){Ku(2048,8,t,n)}function _T(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=qu(),xe.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vp(t){var n=Vt().memoizedState;return _T({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(t,n){return Ku(4,2,t,n)}function Tp(t,n){return Ku(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ap(t,n,s){s=s!=null?s.concat([t]):null,Ku(4,4,bp.bind(null,n,t),s)}function Af(){}function Sp(t,n){var s=Vt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function wp(t,n){var s=Vt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=t(),Wr){Fe(!0);try{t()}finally{Fe(!1)}}return s.memoizedState=[o,n],o}function Sf(t,n,s){return s===void 0||(is&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ry(),xe.lanes|=t,Ks|=t,s)}function Rp(t,n,s,o){return Mn(s,n)?s:za.current!==null?(t=Sf(t,s,o),Mn(t,n)||(Bt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Le&261930)===0?(Bt=!0,t.memoizedState=s):(t=Ry(),xe.lanes|=t,Ks|=t,n)}function Ip(t,n,s,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,If(t,!1,n,s);try{var C=h(),z=q.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=dT(C,o);rl(t,n,Q,zn(t))}else rl(t,n,o,zn(t))}catch(X){rl(t,n,{then:function(){},status:"rejected",reason:X},zn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function vT(){}function wf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Cp(t).queue;Ip(t,h,n,ce,s===null?vT:function(){return xp(t),s(o)})}function Cp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xp(t){var n=Cp(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},zn())}function Rf(){return sn(bl)}function Np(){return Vt().memoizedState}function Dp(){return Vt().memoizedState}function ET(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=zn();t=Bs(s);var o=Hs(n,t,s);o!==null&&(wn(o,n,s),el(o,n,s)),n={cache:ef()},t.payload=n;return}n=n.return}}function TT(t,n,s){var o=zn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Mp(n,s):(s=qh(t,n,s,o),s!==null&&(wn(s,t,o),Vp(s,n,o)))}function Op(t,n,s){var o=zn();rl(t,n,s,o)}function rl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Mp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,p))return Cu(t,n,h,0),dt===null&&Iu(),!1}catch{}if(s=qh(t,n,h,o),s!==null)return wn(s,t,o),Vp(s,n,o),!0}return!1}function If(t,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=qh(t,s,o,2),n!==null&&wn(n,t,2)}function Yu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Mp(t,n){ja=Bu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Vp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Io(t,s)}}var al={readContext:sn,use:Gu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};al.useEffectEvent=It;var kp={readContext:sn,use:Gu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:_p,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,bp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var s=pn();n=n===void 0?null:n;var o=t();if(Wr){Fe(!0);try{t()}finally{Fe(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=pn();if(s!==void 0){var h=s(n);if(Wr){Fe(!0);try{s(n)}finally{Fe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=TT.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,s=Op.bind(null,xe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(t,n){var s=pn();return Sf(s,t,n)},useTransition:function(){var t=Ef(!1);return t=Ip.bind(null,xe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=xe,h=pn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),dt===null)throw Error(a(349));(Le&127)!==0||np(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,o,f,t),[t]),o.flags|=2048,Ha(9,{destroy:void 0},ip.bind(null,o,f,s,n),null),s},useId:function(){var t=pn(),n=dt.identifierPrefix;if(Ge){var s=Ui,o=ki;s=(o&~(1<<32-He(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=mT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,xe,!0,s),s.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return pn().memoizedState=ET.bind(null,xe)},useEffectEvent:function(t){var n=pn(),s={impl:t};return n.memoizedState=s,function(){if((We&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:sn,use:Gu,useCallback:Sp,useContext:sn,useEffect:bf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Fu,useRef:yp,useState:function(){return Fu(ss)},useDebugValue:Af,useDeferredValue:function(t,n){var s=Vt();return Rp(s,lt.memoizedState,t,n)},useTransition:function(){var t=Fu(ss)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Rf,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var s=Vt();return op(s,lt,t,n)},useMemoCache:yf,useCacheRefresh:Dp};Cf.useEffectEvent=vp;var Up={readContext:sn,use:Gu,useCallback:Sp,useContext:sn,useEffect:bf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:vf,useRef:yp,useState:function(){return vf(ss)},useDebugValue:Af,useDeferredValue:function(t,n){var s=Vt();return lt===null?Sf(s,t,n):Rp(s,lt.memoizedState,t,n)},useTransition:function(){var t=vf(ss)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Rf,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var s=Vt();return lt!==null?op(s,lt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Dp};Up.useEffectEvent=vp;function xf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=zn(),h=Bs(o);h.payload=n,s!=null&&(h.callback=s),n=Hs(t,h,o),n!==null&&(wn(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=zn(),h=Bs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Hs(t,h,o),n!==null&&(wn(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zn(),o=Bs(s);o.tag=2,n!=null&&(o.callback=n),n=Hs(t,o,s),n!==null&&(wn(n,t,s),el(n,t,s))}};function Lp(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Qo(s,o)||!Qo(h,f):!0}function Pp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zp(t){Ru(t)}function jp(t){console.error(t)}function Bp(t){Ru(t)}function Xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,n)},s}function qp(t){return t=Bs(t),t.tag=3,t}function Gp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Hp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Hp(n,s,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function bT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Va(n,s,h,!0),s=kn.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?oc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(t,o,h)),!1}throw Error(a(435,s.tag))}return nd(t,o,h),oc(),!1}if(Ge)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(t=Error(a(422),{cause:o}),Xo($n(t,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Xo($n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$n(o,s),h=Df(t.stateNode,o,h),of(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,s),ml===null?ml=[f]:ml.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=$n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Df(s.stateNode,o,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qp(h),Gp(h,t,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Bt=!1;function rn(t,n,s,o){n.child=t===null?Yg(n,null,s,o):Jr(n,t.child,s,o)}function Fp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Yr(n),o=df(t,n,s,p,f,h),E=mf(),t!==null&&!Bt?(gf(t,n,h),rs(t,n,h)):(Ge&&E&&Kh(n),n.flags|=1,rn(t,n,o,h),n.child)}function Qp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(t,n,f,o,h)):(t=Nu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(p,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Kp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Qo(f,o)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=o=f,jf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Mf(t,n,s,o,h)}function Yp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):uf(),Jg(n);else return o=n.lanes=536870912,Xp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),Zg(n,f),Gs(),n.memoizedState=null):(t!==null&&Vu(n,null),uf(),Gs());return rn(t,n,h,s),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(t,n,s,o,h){var f=nf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Vu(n,null),uf(),Jg(n),t!==null&&Va(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $p(t,n,s){return Jr(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,Un(n),n.memoizedState=null,t}function AT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,ol(null,t);if(hf(n),(t=pt)?(t=l_(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=$p(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Bt||Va(t,n,s,!1),h=(s&t.childLanes)!==0,Bt||h){if(o=dt,o!==null&&(p=Co(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(t,p),wn(o,t,p),Of;oc(),n=$p(t,n,s)}else t=f.treeContext,pt=ti(p.nextSibling),nn=n,Ge=!0,Ls=null,Wn=!1,t!==null&&Ug(n,t),n=$u(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mf(t,n,s,o,h){return Yr(n),s=df(t,n,s,o,void 0,h),o=mf(),t!==null&&!Bt?(gf(t,n,h),rs(t,n,h)):(Ge&&o&&Kh(n),n.flags|=1,rn(t,n,s,h),n.child)}function Zp(t,n,s,o,h,f){return Yr(n),n.updateQueue=null,s=ep(n,o,s,h),Wg(t),o=mf(),t!==null&&!Bt?(gf(t,n,f),rs(t,n,f)):(Ge&&o&&Kh(n),n.flags|=1,rn(t,n,s,f),n.child)}function Jp(t,n,s,o,h){if(Yr(n),n.stateNode===null){var f=Na,p=s.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Na,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Nf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ea(s,E);f.props=C;var z=f.context,Q=s.contextType;p=Na,typeof Q=="object"&&Q!==null&&(p=sn(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Pp(n,f,o,p),js=!1;var j=n.memoizedState;f.state=j,nl(n,o,f,h),tl(),z=n.memoizedState,E||j!==z||js?(typeof X=="function"&&(xf(n,s,X,o),z=n.memoizedState),(C=js||Lp(n,s,C,o,j,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(t,n),p=n.memoizedProps,Q=ea(s,p),f.props=Q,X=n.pendingProps,j=f.context,z=s.contextType,C=Na,typeof z=="object"&&z!==null&&(C=sn(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==C)&&Pp(n,f,o,C),js=!1,j=n.memoizedState,f.state=j,nl(n,o,f,h),tl();var H=n.memoizedState;p!==X||j!==H||js||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(xf(n,s,E,o),H=n.memoizedState),(Q=js||Lp(n,s,Q,o,j,H,C)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Jr(n,t.child,null,h),n.child=Jr(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function Wp(t,n,s,o){return Qr(),n.flags|=256,rn(t,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Hg()}}function Uf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Pn),t}function ey(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?qs(n):Gs(),(t=pt)?(t=l_(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw Ps(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Gs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Fr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(t,p,s),n.memoizedState=Vf,ol(null,o)):(qs(n),Lf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Fr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Jr(n,t.child,null,s),o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(t,p,s),n.memoizedState=Vf,n=ol(null,o));else if(qs(n),_d(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Xo({value:o,source:null,stack:null}),n=Pf(t,n,s)}else if(Bt||Va(t,n,s,!1),p=(s&t.childLanes)!==0,Bt||p){if(p=dt,p!==null&&(o=Co(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Gr(t,o),wn(p,t,o),Of;yd(E)||oc(),n=Pf(t,n,s)}else yd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=ti(E.nextSibling),nn=n,Ge=!0,Ls=null,Wn=!1,t!==null&&Ug(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Gs(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Wi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Wi(z,E):(E=Fr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=kf(s):(h=E.cachePool,h!==null?(C=zt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Hg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(t,p,s),n.memoizedState=Vf,ol(t.child,o)):(qs(n),s=t.child,t=s.sibling,s=Wi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Lf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return Jr(n,t.child,null,s),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Jh(t.return,n,s)}function zf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ny(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(Mt,p),rn(t,n,o,s),o=Ge?Yo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,s,n);else if(t.tag===19)ty(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Va(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Wi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Wi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function ST(t,n,s){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),zs(n,zt,t.memoizedState.cache),Qr();break;case 27:case 5:_i(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(t,n,s):(qs(n),t=rs(t,n,s),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Va(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Mt,Mt.current),o)break;return null;case 22:return n.lanes=0,Yp(t,n,s,n.pendingProps);case 24:zs(n,zt,t.memoizedState.cache)}return rs(t,n,s)}function iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!jf(t,s)&&(n.flags&128)===0)return Bt=!1,ST(t,n,s);Bt=(t.flags&131072)!==0}else Bt=!1,Ge&&(n.flags&1048576)!==0&&kg(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")Gh(t)?(o=ea(t,o),n.tag=1,n=Jp(null,n,t,o,s)):(n.tag=0,n=Mf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Ze){n.tag=11,n=Fp(null,n,t,o,s);break e}else if(h===x){n.tag=14,n=Qp(null,n,t,o,s);break e}}throw n=ft(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ea(o,n.pendingProps),Jp(t,n,o,h,s);case 3:e:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),nl(n,o,null,s);var p=n.memoizedState;if(o=p.cache,zs(n,zt,o),o!==f.cache&&Wh(n,[zt],s,!0),tl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(t,n,o,s);break e}else if(o!==h){h=$n(Error(a(424)),n),Xo(h),n=Wp(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ti(t.firstChild),nn=n,Ge=!0,Ls=null,Wn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qr(),o===h){n=rs(t,n,s);break e}rn(t,n,o,s)}n=n.child}return n;case 26:return Zu(t,n),t===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,o=mc(Re.current).createElement(s),o[Ut]=n,o[Zt]=t,an(o,s,t),Lt(o),n.stateNode=o):n.memoizedState=m_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return _i(n),t===null&&Ge&&(o=n.stateNode=h_(n.type,n.pendingProps,Re.current),nn=n,Wn=!0,h=pt,Js(n.type)?(vd=h,pt=ti(o.firstChild)):pt=h),rn(t,n,n.pendingProps.children,s),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=pt)&&(o=eb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,nn=n,pt=ti(o.firstChild),Wn=!1,h=!0):h=!1),h||Ps(n)),_i(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,md(h,f)?o=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,gT,null,null,s),bl._currentValue=h),Zu(t,n),rn(t,n,o,s),n.child;case 6:return t===null&&Ge&&((t=s=pt)&&(s=tb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,nn=n,pt=null,t=!0):t=!1),t||Ps(n)),null;case 13:return ey(t,n,s);case 4:return bt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Jr(n,null,o,s):rn(t,n,o,s),n.child;case 11:return Fp(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),rn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,s),n.child;case 14:return Qp(t,n,n.type,n.pendingProps,s);case 15:return Kp(t,n,n.type,n.pendingProps,s);case 19:return ny(t,n,s);case 31:return AT(t,n,s);case 22:return Yp(t,n,s,n.pendingProps);case 24:return Yr(n),o=sn(zt),t===null?(h=nf(),h===null&&(h=dt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),zs(n,zt,h)):((t.lanes&s)!==0&&(af(t,n),nl(n,null,null,s),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,zt,o)):(o=f.cache,zs(n,zt,o),o!==h.cache&&Wh(n,[zt],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(t){t.flags|=4}function Bf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ny())t.flags|=8192;else throw Zr=Uu,sf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(n))if(Ny())t.flags|=8192;else throw Zr=Uu,sf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Qa|=n)}function ll(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function wT(t,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(zt),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(yt(n),sy(n,f)):(yt(n),Bf(n,h,null,o,s))):f?f!==t.memoizedState?(as(n),yt(n),sy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),yt(n),Bf(n,h,t,o,s)),null;case 27:if(Ss(n),s=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=re.current,Ma(n)?Lg(n):(t=h_(h,o,s),n.stateNode=t,as(n))}return yt(n),null;case 5:if(Ss(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=re.current,Ma(n))Lg(n);else{var p=mc(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ut]=n,f[Zt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return yt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Ma(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(t.nodeValue,s)),t||Ps(n,!0)}else t=mc(t).createTextNode(o),t[Ut]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ut]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ut]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),yt(n),null);case 4:return mt(),t===null&&ud(n.stateNode.containerInfo),yt(n),null;case 10:return ns(n.type),yt(n),null;case 19:if(Y(Mt),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Og(s,t),s=s.sibling;return ie(Mt,Mt.current&1|2),Ge&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Kt()>sc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return yt(n),null}else 2*Kt()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Kt(),t.sibling=null,s=Mt.current,ie(Mt,h?s&1|2:s&1),Ge&&es(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return Un(n),cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ns(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function RT(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(zt),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ss(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Mt),null;case 4:return mt(),null;case 10:return ns(n.type),null;case 22:case 23:return Un(n),cf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(zt),null;case 25:return null;default:return null}}function ry(t,n){switch(Yh(n),n.tag){case 3:ns(zt),mt();break;case 26:case 27:case 5:Ss(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:Y(Mt);break;case 10:ns(n.type);break;case 22:case 23:Un(n),cf(),t!==null&&Y(Xr);break;case 24:ns(zt)}}function ul(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){rt(n,n.return,E)}}function Fs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(Q){rt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){rt(n,n.return,Q)}}function ay(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$g(n,s)}catch(o){rt(t,t.return,o)}}}function oy(t,n,s){s.props=ea(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){rt(t,n,o)}}function cl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){rt(t,n,h)}}function Li(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){rt(t,n,h)}else s.current=null}function ly(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){rt(t,t.return,h)}}function Hf(t,n,s){try{var o=t.stateNode;YT(o,t.type,s,n),o[Zt]=n}catch(h){rt(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oi));else if(o!==4&&(o===27&&Js(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,s),t=t.sibling;t!==null;)Gf(t,n,s),t=t.sibling}function ec(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,n,s),t=t.sibling;t!==null;)ec(t,n,s),t=t.sibling}function cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[Ut]=t,n[Zt]=s}catch(f){rt(t,t.return,f)}}var os=!1,Ht=!1,Ff=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function IT(t,n){if(t=t.containerInfo,fd=Tc,t=Ag(t),Lh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,C=-1,z=0,Q=0,X=t,j=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===t)break t;if(j===s&&++z===h&&(E=p),j===f&&++Q===o&&(C=p),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},Tc=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var oe=ea(s.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){rt(s,s.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function fy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:us(t,s),o&4&&ul(5,s);break;case 1:if(us(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){rt(s,s.return,p)}else{var h=ea(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(s,s.return,p)}}o&64&&ay(s),o&512&&cl(s,s.return);break;case 3:if(us(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(t,n)}catch(p){rt(s,s.return,p)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:us(t,s),n===null&&o&4&&ly(s),o&512&&cl(s,s.return);break;case 12:us(t,s);break;case 31:us(t,s),o&4&&gy(t,s);break;case 13:us(t,s),o&4&&py(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=UT.bind(null,s),nb(t,s))));break;case 22:if(o=s.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||Ht,h=os;var f=Ht;os=o,(Ht=n)&&!f?cs(t,s,(s.subtreeFlags&8772)!==0):us(t,s),os=h,Ht=f}break;case 30:break;default:us(t,s)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Tn=!1;function ls(t,n,s){for(s=s.child;s!==null;)my(t,n,s),s=s.sibling}function my(t,n,s){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(at,s)}catch{}switch(s.tag){case 26:Ht||Li(s,n),ls(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ht||Li(s,n);var o=Et,h=Tn;Js(s.type)&&(Et=s.stateNode,Tn=!1),ls(t,n,s),vl(s.stateNode),Et=o,Tn=h;break;case 5:Ht||Li(s,n);case 6:if(o=Et,h=Tn,Et=null,ls(t,n,s),Et=o,Tn=h,Et!==null)if(Tn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(s.stateNode)}catch(f){rt(s,n,f)}else try{Et.removeChild(s.stateNode)}catch(f){rt(s,n,f)}break;case 18:Et!==null&&(Tn?(t=Et,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),eo(t)):a_(Et,s.stateNode));break;case 4:o=Et,h=Tn,Et=s.stateNode.containerInfo,Tn=!0,ls(t,n,s),Et=o,Tn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),Ht||Fs(4,s,n),ls(t,n,s);break;case 1:Ht||(Li(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),ls(t,n,s);break;case 21:ls(t,n,s);break;case 22:Ht=(o=Ht)||s.memoizedState!==null,ls(t,n,s),Ht=o;break;default:ls(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(s){rt(n,n.return,s)}}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(s){rt(n,n.return,s)}}function CT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var s=CT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=LT.bind(null,t,o);o.then(h,h)}})}function bn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){Et=E.stateNode,Tn=!1;break e}break;case 5:Et=E.stateNode,Tn=!1;break e;case 3:case 4:Et=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(Et===null)throw Error(a(160));my(f,p,h),Et=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var di=null;function yy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),An(t),o&4&&(Fs(3,t,t.return),ul(3,t),Fs(5,t,t.return));break;case 1:bn(n,t),An(t),o&512&&(Ht||s===null||Li(s,s.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=di;if(bn(n,t),An(t),o&512&&(Ht||s===null||Li(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[Ut]=t,Lt(f),o=f;break e;case"link":var p=y_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(p=y_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ut]=t,Lt(f),o=f}t.stateNode=o}else __(h,t.type,t.stateNode);else t.stateNode=p_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,t.type,t.stateNode):p_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(n,t),An(t),o&512&&(Ht||s===null||Li(s,s.return)),s!==null&&o&4&&Hf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(n,t),An(t),o&512&&(Ht||s===null||Li(s,s.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(oe){rt(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(bn(n,t),An(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(oe){rt(t,t.return,oe)}}break;case 3:if(yc=null,h=di,di=gc(n.containerInfo),bn(n,t),di=h,An(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(oe){rt(t,t.return,oe)}Ff&&(Ff=!1,_y(t));break;case 4:o=di,di=gc(t.stateNode.containerInfo),bn(n,t),An(t),di=o;break;case 12:bn(n,t),An(t);break;case 31:bn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:bn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=Kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=os,Q=Ht;if(os=z||h,Ht=Q||C,bn(n,t),Ht=Q,os=z,An(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||os||Ht||ta(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(oe){rt(C,C.return,oe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){rt(C,C.return,oe)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?o_(H,!0):o_(C.stateNode,!1)}catch(oe){rt(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(t,s))));break;case 19:bn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:bn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(t);ec(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(En(p,""),s.flags&=-33);var E=qf(t);ec(t,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=qf(t);Gf(t,z,C);break;default:throw Error(a(161))}}catch(Q){rt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),ta(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),ta(n);break;case 27:vl(n.stateNode);case 26:case 5:Li(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function cs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,s),ul(4,f);break;case 1:if(cs(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Xg(C[h],E)}catch(z){rt(o,o.return,z)}}s&&p&64&&ay(f),cl(f,f.return);break;case 27:cy(f);case 26:case 5:cs(h,f,s),s&&o===null&&p&4&&ly(f),cl(f,f.return);break;case 12:cs(h,f,s);break;case 31:cs(h,f,s),s&&p&4&&gy(h,f);break;case 13:cs(h,f,s),s&&p&4&&py(h,f);break;case 22:f.memoizedState===null&&cs(h,f,s),cl(f,f.return);break;case 30:break;default:cs(h,f,s)}n=n.sibling}}function Qf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&$o(s))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function mi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,s,o),n=n.sibling}function vy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,s,o),h&2048&&ul(9,n);break;case 1:mi(t,n,s,o);break;case 3:mi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){mi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else mi(t,n,s,o);break;case 31:mi(t,n,s,o);break;case 13:mi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,s,o):hl(t,n):f._visibility&2?mi(t,n,s,o):(f._visibility|=2,qa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(p,n);break;case 24:mi(t,n,s,o),h&2048&&Kf(n.alternate,n);break;default:mi(t,n,s,o)}}function qa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,C=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,E,C,h),ul(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?qa(f,p,E,C,h):hl(f,p):(Q._visibility|=2,qa(f,p,E,C,h)),h&&z&2048&&Qf(p.alternate,p);break;case 24:qa(f,p,E,C,h),h&&z&2048&&Kf(p.alternate,p);break;default:qa(f,p,E,C,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:hl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:hl(s,o),h&2048&&Kf(o.alternate,o);break;default:hl(s,o)}n=n.sibling}}var fl=8192;function Ga(t,n,s){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Ey(t,n,s),t=t.sibling}function Ey(t,n,s){switch(t.tag){case 26:Ga(t,n,s),t.flags&fl&&t.memoizedState!==null&&mb(s,di,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,s);break;case 3:case 4:var o=di;di=gc(t.stateNode.containerInfo),Ga(t,n,s),di=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ga(t,n,s),fl=o):Ga(t,n,s));break;default:Ga(t,n,s)}}function Ty(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Wt=o,Ay(o,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):dl(t);break;default:dl(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Wt=o,Ay(o,t)}Ty(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Ay(t,n){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Wt=o;else e:for(s=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(dy(o),o===s){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var xT={getCacheForType:function(t){var n=sn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return sn(zt).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,We=0,dt=null,Ve=null,Le=0,st=0,Ln=null,Qs=!1,Fa=!1,Yf=!1,hs=0,Ct=0,Ks=0,na=0,Xf=0,Pn=0,Qa=0,ml=null,Sn=null,$f=!1,ic=0,Sy=0,sc=1/0,rc=null,Ys=null,Yt=0,Xs=null,Ka=null,fs=0,Zf=0,Jf=null,wy=null,gl=0,Wf=null;function zn(){return(We&2)!==0&&Le!==0?Le&-Le:q.T!==null?rd():au()}function Ry(){if(Pn===0)if((Le&536870912)===0||Ge){var t=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),Pn=t}else Pn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Pn}function wn(t,n,s){(t===dt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),$s(t,Le,Pn,!1)),Nr(t,s),((We&2)===0||t!==dt)&&(t===dt&&((We&2)===0&&(na|=s),Ct===4&&$s(t,Le,Pn,!1)),Pi(t))}function Iy(t,n,s){if((We&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||_e(t,n),h=o?MT(t,n):td(t,n,!0),f=o;do{if(h===0){Fa&&!o&&$s(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!DT(s)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=ml;var C=E.current.memoizedState.isDehydrated;if(C&&(Ya(E,p).flags|=256),p=td(E,p,!1),p!==2){if(Yf&&!C){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,Pn,!Qs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Kt(),10<h)){if($s(o,n,Pn,!Qs),De(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=s_(Cy.bind(null,o,s,Sn,rc,$f,n,Pn,na,Qa,Qs,f,"Throttled",-0,0),h);break e}Cy(o,s,Sn,rc,$f,n,Pn,na,Qa,Qs,f,null,-0,0)}}break}while(!0);Pi(t)}function Cy(t,n,s,o,h,f,p,E,C,z,Q,X,j,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Ey(n,f,X);var oe=(f&62914560)===f?ic-Kt():(f&4194048)===f?Sy-Kt():0;if(oe=gb(X,oe),oe!==null){fs=f,t.cancelPendingCommit=oe(Uy.bind(null,t,n,f,s,o,h,p,E,C,Q,X,null,j,H)),$s(t,f,p,!z);return}}Uy(t,n,f,s,o,h,p,E,C)}function DT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,s,o){n&=~Xf,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-He(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Dr(t,s,n)}function ac(){return(We&6)===0?(pl(0),!1):!0}function ed(){if(Ve!==null){if(st===0)var t=Ve.return;else t=Ve,ts=Kr=null,pf(t),Pa=null,Jo=0,t=Ve;for(;t!==null;)ry(t.alternate,t),t=t.return;Ve=null}}function Ya(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ZT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),fs=0,ed(),dt=t,Ve=s=Wi(t.current,null),Le=n,st=0,Ln=null,Qs=!1,Fa=_e(t,n),Yf=!1,Qa=Pn=Xf=na=Ks=Ct=0,Sn=ml=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-He(o),f=1<<h;n|=t[h],o&=~f}return hs=n,Iu(),s}function xy(t,n){xe=null,q.H=al,n===La||n===ku?(n=Fg(),st=3):n===sf?(n=Fg(),st=4):st=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Ve===null&&(Ct=1,Xu(t,$n(n,t.current)))}function Ny(){var t=kn.current;return t===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?t===ei:!1}function Dy(){var t=q.H;return q.H=al,t===null?al:t}function Oy(){var t=q.A;return q.A=xT,t}function oc(){Ct=4,Qs||(Le&4194048)!==Le&&kn.current!==null||(Fa=!0),(Ks&134217727)===0&&(na&134217727)===0||dt===null||$s(dt,Le,Pn,!1)}function td(t,n,s){var o=We;We|=2;var h=Dy(),f=Oy();(dt!==t||Le!==n)&&(rc=null,Ya(t,n)),n=!1;var p=Ct;e:do try{if(st!==0&&Ve!==null){var E=Ve,C=Ln;switch(st){case 8:ed(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var z=st;if(st=0,Ln=null,Xa(t,E,C,z),s&&Fa){p=0;break e}break;default:z=st,st=0,Ln=null,Xa(t,E,C,z)}}OT(),p=Ct;break}catch(Q){xy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ts=Kr=null,We=o,q.H=h,q.A=f,Ve===null&&(dt=null,Le=0,Iu()),p}function OT(){for(;Ve!==null;)My(Ve)}function MT(t,n){var s=We;We|=2;var o=Dy(),h=Oy();dt!==t||Le!==n?(rc=null,sc=Kt()+500,Ya(t,n)):Fa=_e(t,n);e:do try{if(st!==0&&Ve!==null){n=Ve;var f=Ln;t:switch(st){case 1:st=0,Ln=null,Xa(t,n,f,1);break;case 2:case 9:if(qg(f)){st=0,Ln=null,Vy(n);break}n=function(){st!==2&&st!==9||dt!==t||(st=7),Pi(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:qg(f)?(st=0,Ln=null,Vy(n)):(st=0,Ln=null,Xa(t,n,f,7));break;case 5:var p=null;switch(Ve.tag){case 26:p=Ve.memoizedState;case 5:case 27:var E=Ve;if(p?v_(p):E.stateNode.complete){st=0,Ln=null;var C=E.sibling;if(C!==null)Ve=C;else{var z=E.return;z!==null?(Ve=z,lc(z)):Ve=null}break t}}st=0,Ln=null,Xa(t,n,f,5);break;case 6:st=0,Ln=null,Xa(t,n,f,6);break;case 8:ed(),Ct=6;break e;default:throw Error(a(462))}}VT();break}catch(Q){xy(t,Q)}while(!0);return ts=Kr=null,q.H=o,q.A=h,We=s,Ve!==null?0:(dt=null,Le=0,Iu(),Ct)}function VT(){for(;Ve!==null&&!ma();)My(Ve)}function My(t){var n=iy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?lc(t):Ve=n}function Vy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:pf(n);default:ry(s,n),n=Ve=Og(n,hs),n=iy(s,n,hs)}t.memoizedProps=t.pendingProps,n===null?lc(t):Ve=n}function Xa(t,n,s,o){ts=Kr=null,pf(n),Pa=null,Jo=0;var h=n.return;try{if(bT(t,h,n,s,Le)){Ct=1,Xu(t,$n(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Ct=1,Xu(t,$n(s,t.current)),Ve=null;return}n.flags&32768?(Ge||o===1?t=!0:Fa||(Le&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,Qs);return}t=n.return;var s=wT(n.alternate,n,hs);if(s!==null){Ve=s;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Ct===0&&(Ct=5)}function ky(t,n){do{var s=RT(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);Ct=6,Ve=null}function Uy(t,n,s,o,h,f,p,E,C){t.cancelPendingCommit=null;do uc();while(Yt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(t,s,f,p,E,C),t===dt&&(Ve=dt=null,Le=0),Ka=n,Xs=t,fs=s,Zf=f,Jf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PT(G,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=ne.p,ne.p=2,p=We,We|=4;try{IT(t,n,s)}finally{We=p,ne.p=h,q.T=o}}Yt=1,Ly(),Py(),zy()}}function Ly(){if(Yt===1){Yt=0;var t=Xs,n=Ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var h=We;We|=4;try{yy(n,t);var f=dd,p=Ag(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(C!==null&&Lh(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),oe=E.textContent.length,me=Math.min(C.start,oe),ct=C.end===void 0?me:Math.min(C.end,oe);!H.extend&&me>ct&&(p=ct,ct=me,me=p);var k=Tg(E,me),O=Tg(E,ct);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),me>ct?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!fd,dd=fd=null}finally{We=h,ne.p=o,q.T=s}}t.current=n,Yt=2}}function Py(){if(Yt===2){Yt=0;var t=Xs,n=Ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var h=We;We|=4;try{fy(t,n.alternate,n)}finally{We=h,ne.p=o,q.T=s}}Yt=3}}function zy(){if(Yt===4||Yt===3){Yt=0,Nn();var t=Xs,n=Ka,s=fs,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Ka=Xs=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Xi(s),n=n.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(at,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=ne.p,ne.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ne.p=h}}(fs&3)!==0&&uc(),Pi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Wf?gl++:(gl=0,Wf=t):gl=0,pl(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function uc(){return Ly(),Py(),zy(),By()}function By(){if(Yt!==5)return!1;var t=Xs,n=Zf;Zf=0;var s=Xi(fs),o=q.T,h=ne.p;try{ne.p=32>s?32:s,q.T=null,s=Jf,Jf=null;var f=Xs,p=fs;if(Yt=0,Ka=Xs=null,fs=0,(We&6)!==0)throw Error(a(331));var E=We;if(We|=4,by(f.current),vy(f,f.current,p,s),We=E,pl(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(at,f)}catch{}return!0}finally{ne.p=h,q.T=o,jy(t,n)}}function Hy(t,n,s){n=$n(s,n),n=Df(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Nr(t,2),Pi(t))}function rt(t,n,s){if(t.tag===3)Hy(t,t,s);else for(;n!==null;){if(n.tag===3){Hy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=$n(s,t),s=qp(2),o=Hs(n,s,2),o!==null&&(Gp(s,o,n,t),Nr(o,2),Pi(o));break}}n=n.return}}function nd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new NT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),t=kT.bind(null,t,n,s),n.then(t,t))}function kT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,dt===t&&(Le&s)===s&&(Ct===4||Ct===3&&(Le&62914560)===Le&&300>Kt()-ic?(We&2)===0&&Ya(t,0):Xf|=s,Qa===Le&&(Qa=0)),Pi(t)}function qy(t,n){n===0&&(n=ru()),t=Gr(t,n),t!==null&&(Nr(t,n),Pi(t))}function UT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(t,s)}function LT(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(t,s)}function PT(t,n){return xt(t,n)}var cc=null,$a=null,id=!1,hc=!1,sd=!1,Zs=0;function Pi(t){t!==$a&&t.next===null&&($a===null?cc=$a=t:$a=$a.next=t),hc=!0,id||(id=!0,jT())}function pl(t,n){if(!sd&&hc){sd=!0;do for(var s=!1,o=cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(o,f))}else f=Le,f=De(o,o===dt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||_e(o,f)||(s=!0,Ky(o,f));o=o.next}while(s);sd=!1}}function zT(){Gy()}function Gy(){hc=id=!1;var t=0;Zs!==0&&$T()&&(t=Zs);for(var n=Kt(),s=null,o=cc;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&($a=s)):(s=o,(t!==0||(f&3)!==0)&&(hc=!0)),o=h}Yt!==0&&Yt!==5||pl(t),Zs!==0&&(Zs=0)}function Fy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-He(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=xr(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=dt,s=Le,s=De(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&vi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||_e(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&vi(o),Xi(s)){case 2:case 8:s=Cr;break;case 32:s=G;break;case 268435456:s=Ee;break;default:s=G}return o=Qy.bind(null,t),s=xt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&vi(o),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(uc()&&t.callbackNode!==s)return null;var o=Le;return o=De(t,t===dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,n),Fy(t,Kt()),t.callbackNode!=null&&t.callbackNode===s?Qy.bind(null,t):null)}function Ky(t,n){if(uc())return null;Iy(t,n,!0)}function jT(){JT(function(){(We&6)!==0?xt(Ir,zT):Gy()})}function rd(){if(Zs===0){var t=ka;t===0&&(t=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),Zs=t}return Zs}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function Xy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function BT(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[Zt]||null).action),p=o.submitter;p&&(n=(n=p[Zt]||null)?Yy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Di("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var C=p?Xy(h,p):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Xy(h,p):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],HT=od.toLowerCase(),qT=od[0].toUpperCase()+od.slice(1);fi(HT,"on"+qT)}fi(Rg,"onAnimationEnd"),fi(Ig,"onAnimationIteration"),fi(Cg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(rT,"onTransitionRun"),fi(aT,"onTransitionStart"),fi(oT,"onTransitionCancel"),fi(xg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function $y(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=C}}}}function ke(t,n){var s=n[ga];s===void 0&&(s=n[ga]=new Set);var o=t+"__bubble";s.has(o)||(Zy(n,t,2,!1),s.add(o))}function ld(t,n,s){var o=0;n&&(o|=4),Zy(s,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[fc]){t[fc]=!0,xo.forEach(function(s){s!=="selectionchange"&&(GT.has(s)||ld(s,!1,t),ld(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,ld("selectionchange",!1,n))}}function Zy(t,n,s,o){switch(R_(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=Sd}s=h.bind(null,n,s,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function cd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Si(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Os(function(){var z=f,Q=Qn(s),X=[];e:{var j=Ng.get(t);if(j!==void 0){var H=Di,oe=t;switch(t){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":H=Au;break;case"focusin":oe="focus",H=jr;break;case"focusout":oe="blur",H=jr;break;case"beforeblur":case"afterblur":H=jr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Rg:case Ig:case Cg:H=pu;break;case xg:H=T;break;case"scroll":case"scrollend":H=Bo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ce}var me=(n&4)!==0,ct=!me&&(t==="scroll"||t==="scrollend"),k=me?j!==null?j+"Capture":null:j;me=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=li(O,k),K!=null&&me.push(_l(O,K,P))),ct)break;O=O.return}0<me.length&&(j=new H(j,oe,null,s,Q),X.push({event:j,listeners:me}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&s!==Po&&(oe=s.relatedTarget||s.fromElement)&&(Si(oe)||oe[bi]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(oe=s.relatedTarget||s.toElement,H=z,oe=oe?Si(oe):null,oe!==null&&(ct=c(oe),me=oe.tag,oe!==ct||me!==5&&me!==27&&me!==6)&&(oe=null)):(H=null,oe=z),H!==oe)){if(me=Ho,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=Ji,K="onPointerLeave",k="onPointerEnter",O="pointer"),ct=H==null?j:Dn(H),P=oe==null?j:Dn(oe),j=new me(K,O+"leave",H,s,Q),j.target=ct,j.relatedTarget=P,K=null,Si(Q)===z&&(me=new me(k,O+"enter",oe,s,Q),me.target=P,me.relatedTarget=ct,K=me),ct=K,H&&oe)t:{for(me=FT,k=H,O=oe,P=0,K=k;K;K=me(K))P++;K=0;for(var fe=O;fe;fe=me(fe))K++;for(;0<P-K;)k=me(k),P--;for(;0<K-P;)O=me(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){me=k;break t}k=me(k),O=me(O)}me=null}else me=null;H!==null&&Jy(X,j,H,me,!1),oe!==null&&ct!==null&&Jy(X,ct,oe,me,!0)}}e:{if(j=z?Dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Xe=gg;else if(dg(j))if(pg)Xe=nT;else{Xe=eT;var le=WE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&va(z.elementType)&&(Xe=gg):Xe=tT;if(Xe&&(Xe=Xe(t,z))){mg(X,Xe,s,Q);break e}le&&le(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ko(j,"number",j.value)}switch(le=z?Dn(z):window,t){case"focusin":(dg(le)||le.contentEditable==="true")&&(Ia=le,Ph=z,Ko=null);break;case"focusout":Ko=Ph=Ia=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Sg(X,s,Q);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Sg(X,s,Q)}var Ne;if(Je)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ra?Br(t,s)&&(Pe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Pe="onCompositionStart");Pe&&(Vi&&s.locale!=="ko"&&(Ra||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ra&&(Ne=jo()):(Ni=Q,zo="value"in Ni?Ni.value:Ni.textContent,Ra=!0)),le=dc(z,Pe),0<le.length&&(Pe=new Mi(Pe,t,null,s,Q),X.push({event:Pe,listeners:le}),Ne?Pe.data=Ne:(Ne=wa(s),Ne!==null&&(Pe.data=Ne)))),(Ne=Yn?XE(t,s):$E(t,s))&&(Pe=dc(z,"onBeforeInput"),0<Pe.length&&(le=new Mi("onBeforeInput","beforeinput",null,s,Q),X.push({event:le,listeners:Pe}),le.data=Ne)),BT(X,t,z,s,Q)}$y(X,n)})}function _l(t,n,s){return{instance:t,listener:n,currentTarget:s}}function dc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(t,s),h!=null&&o.unshift(_l(t,h,f)),h=li(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function FT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=li(s,f),z!=null&&p.unshift(_l(s,z,C))):h||(z=li(s,f),z!=null&&p.push(_l(s,z,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var QT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(QT,`
`).replace(KT,"")}function e_(t,n){return n=Wy(n),Wy(t)===n}function ut(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(t,""+o);break;case"className":On(t,"class",o);break;case"tabIndex":On(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,s,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){On(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ea(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ea(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=oi);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ya(t,s,o))}}function hd(t,n,s,o,h,f){switch(s){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ya(t,s,o)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,f,p,s,null)}}h&&ut(t,n,"srcSet",s.srcSet,s,null),o&&ut(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var E=f=p=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ut(t,n,o,Q,s,null)}}cu(t,f,E,C,z,p,h,!1);return;case"select":ke("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ut(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Cs(t,!!o,n,!1):s!=null&&Cs(t,!!o,s,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ut(t,n,p,E,s,null)}xs(t,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ut(t,n,C,o,s,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)ke(yl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,z,o,s,null)}return;default:if(va(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&hd(t,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ut(t,n,E,o,s,null))}function YT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ut(t,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=s[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ut(t,n,j,H,o,X)}}_a(t,p,E,C,z,Q,f,h);return;case"select":H=p=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ut(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&ut(t,n,h,f,o,C)}n=E,s=p,o=H,j!=null?Cs(t,!!s,j,!1):!!o!=!!s&&(n!=null?Cs(t,!!s,n,!0):Cs(t,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ut(t,n,p,h,o,f)}hu(t,j,H);return;case"option":for(var oe in s)j=s[oe],s.hasOwnProperty(oe)&&j!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ut(t,n,oe,null,o,j));for(C in o)j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":ut(t,n,C,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)j=s[me],s.hasOwnProperty(me)&&j!=null&&!o.hasOwnProperty(me)&&ut(t,n,me,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ut(t,n,z,j,o,H)}return;default:if(va(n)){for(var ct in s)j=s[ct],s.hasOwnProperty(ct)&&j!==void 0&&!o.hasOwnProperty(ct)&&hd(t,n,ct,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||hd(t,n,Q,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ut(t,n,k,null,o,j);for(X in o)j=o[X],H=s[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||ut(t,n,X,j,o,H)}function t_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&t_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&t_(X)&&(C=C.responseEnd,p+=Q*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function $T(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(WT)}:s_;function WT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function a_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),eo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,vl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&vl(t.ownerDocument.body);s=h}while(s);eo(n)}function o_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),pa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function eb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function tb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function l_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function u_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ti(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function c_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function h_(t,n,s){switch(n=mc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var ni=new Map,f_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ne.d;ne.d={f:ib,r:sb,D:rb,C:ab,L:ob,m:lb,X:cb,S:ub,M:hb};function ib(){var t=ds.f(),n=ac();return t||n}function sb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?xp(n):ds.r(t)}var Za=typeof document>"u"?null:document;function d_(t,n,s){var o=Za;if(o&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function rb(t){ds.D(t),d_("dns-prefetch",t,null)}function ab(t,n){ds.C(t,n),d_("preconnect",t,n)}function ob(t,n,s){ds.L(t,n,s);var o=Za;if(o&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+vn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+vn(s.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Wa(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function lb(t,n){ds.m(t,n);var s=Za;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(f)))return}o=s.createElement("link"),an(o,"link",t),Lt(o),s.head.appendChild(o)}}}function ub(t,n,s){ds.S(t,n,s);var o=Za;if(o&&t){var h=wi(o).hoistableStyles,f=Ja(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(El(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&Ed(t,s);var C=p=o.createElement("link");Lt(C),an(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function cb(t,n){ds.X(t,n);var s=Za;if(s&&t){var o=wi(s).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=s.querySelector(Tl(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&Td(t,n),f=s.createElement("script"),Lt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hb(t,n){ds.M(t,n);var s=Za;if(s&&t){var o=wi(s).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=s.querySelector(Tl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&Td(t,n),f=s.createElement("script"),Lt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(t,n,s,o){var h=(h=Re.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ja(s.href),s=wi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ja(s.href);var f=wi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(El(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||fb(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(s),s=wi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+vn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function fb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Lt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+vn(t)+'"]'}function Tl(t){return"script[async]"+t}function p_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+vn(s.href)+'"]');if(o)return n.instance=o,Lt(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Lt(o),an(o,"style",h),pc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ja(s.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;o=g_(s),(h=ni.get(h))&&Ed(o,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),an(f,"link",o),n.state.loading|=4,pc(f,s.precedence,t),n.instance=f;case"script":return f=Wa(s.src),(h=t.querySelector(Tl(f)))?(n.instance=h,Lt(h),h):(o=s,(h=ni.get(f))&&(o=S({},s),Td(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,t));return n.instance}function pc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function y_(t,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function __(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function db(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ja(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Lt(f);return}f=n.ownerDocument||n,o=g_(o),(h=ni.get(h))&&Ed(o,h),f=f.createElement("link"),Lt(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),an(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_c.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function gb(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*XT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(pb,t),vc=null,_c.call(t))}function pb(t,n){if(!(n.state.loading&4)){var s=vc.get(t);if(s)var o=s.get(null);else{s=new Map,vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function yb(t,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function E_(t,n,s,o,h,f,p,E,C,z,Q,X){return t=new yb(t,n,s,p,C,z,Q,X,E),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),t}function T_(t){return t?(t=Na,t):Na}function b_(t,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Hs(t,o,n),s!==null&&(wn(s,t,n),el(s,t,n))}function A_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ad(t,n){A_(t,n),(t=t.alternate)&&A_(t,n)}function S_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&wn(n,t,67108864),Ad(t,67108864)}}function w_(t){if(t.tag===13||t.tag===31){var n=zn();n=Or(n);var s=Gr(t,n);s!==null&&wn(s,t,n),Ad(t,n)}}var Tc=!0;function _b(t,n,s,o){var h=q.T;q.T=null;var f=ne.p;try{ne.p=2,Sd(t,n,s,o)}finally{ne.p=f,q.T=h}}function vb(t,n,s,o){var h=q.T;q.T=null;var f=ne.p;try{ne.p=8,Sd(t,n,s,o)}finally{ne.p=f,q.T=h}}function Sd(t,n,s,o){if(Tc){var h=wd(o);if(h===null)cd(t,n,o,bc,s),I_(t,o);else if(Tb(h,t,n,s,o))o.stopPropagation();else if(I_(t,o),n&4&&-1<Eb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=_n(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-He(p);E.entanglements[1]|=C,p&=~C}Pi(f),(We&6)===0&&(sc=Kt()+500,pl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&wn(E,f,2),ac(),Ad(f,2)}if(f=wd(o),f===null&&cd(t,n,o,bc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(t,n,o,null,s)}}function wd(t){return t=Qn(t),Rd(t)}var bc=null;function Rd(t){if(bc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case Ir:return 2;case Cr:return 8;case G:case W:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Id=!1,Ws=null,er=null,tr=null,Al=new Map,Sl=new Map,nr=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function wl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&S_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Tb(t,n,s,o,h){switch(n){case"focusin":return Ws=wl(Ws,t,n,s,o,h),!0;case"dragenter":return er=wl(er,t,n,s,o,h),!0;case"mouseover":return tr=wl(tr,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,wl(Al.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,wl(Sl.get(f)||null,t,n,s,o,h)),!0}return!1}function C_(t){var n=Si(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ri(t.priority,function(){w_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,ri(t.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Po=o,s.target.dispatchEvent(o),Po=null}else return n=Fn(s),n!==null&&S_(n),t.blockedOn=s,!1;n.shift()}return!0}function x_(t,n,s){Ac(t)&&s.delete(n)}function bb(){Id=!1,Ws!==null&&Ac(Ws)&&(Ws=null),er!==null&&Ac(er)&&(er=null),tr!==null&&Ac(tr)&&(tr=null),Al.forEach(x_),Sl.forEach(x_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var wc=null;function N_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Fn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function eo(t){function n(C){return Sc(C,t)}Ws!==null&&Sc(Ws,t),er!==null&&Sc(er,t),tr!==null&&Sc(tr,t),Al.forEach(n),Sl.forEach(n);for(var s=0;s<nr.length;s++){var o=nr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&nr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Zt]||null;if(typeof f=="function")p||N_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Zt]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),N_(s)}}}function D_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Rc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=zn();b_(s,o,t,n,null,null)},Rc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;b_(t.current,2,null,t,null,null),ac(),n[bi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var s=0;s<nr.length&&n!==0&&n<nr[s].priority;s++);nr.splice(s,0,t),s===0&&C_(t)}};var O_=e.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{at=Ic.inject(Ab),Te=Ic}catch{}}return Il.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=zp,f=jp,p=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=E_(t,1,!1,null,null,s,o,null,h,f,p,D_),t[bi]=n.current,ud(t),new Cd(n)},Il.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=zp,p=jp,E=Bp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=E_(t,1,!0,n,s??null,o,h,C,f,p,E,D_),n.context=T_(null),s=n.current,o=zn(),o=Or(o),h=Bs(o),h.callback=null,Hs(s,h,o),s=o,n.current.lanes=s,Nr(n,s),Pi(n),t[bi]=n.current,ud(t),new Rc(n)},Il.version="19.2.3",Il}var H_;function Mb(){if(H_)return Dd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=Ob(),Dd.exports}var Vb=Mb();const kb=()=>{};var q_={};const bv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Ub=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let D=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(D=64)),a.push(i[A],i[S],i[D],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Lb;const D=c<<2|y>>4;if(a.push(D),_!==64){const F=y<<4&240|_>>2;if(a.push(F),S!==64){const ee=_<<6&192|S;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(r){const e=bv(r);return Av.encodeByteArray(e,!0)},Fc=function(r){return Pb(r).replace(/\./g,"")},Sv=function(r){try{return Av.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jb=()=>zb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Sv(r[1]);return e&&JSON.parse(e)},fh=()=>{try{return kb()||jb()||Bb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wv=r=>fh()?.emulatorHosts?.[r],qb=r=>{const e=wv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Rv=()=>fh()?.config,Iv=r=>fh()?.[`_${r}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function Fb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Ol={};function Qb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?r.emulator.push(e):r.prod.push(e);return r}function Kb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let G_=!1;function xv(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ol[r]===e||Ol[r]||G_)return;Ol[r]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=Qb().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{G_=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=Kb(a),F=i("text"),ee=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),J=document.getElementById(se)||document.createElement("a"),he=i("preprendIcon"),be=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ge=D.element;y(ge),A(J,se);const Ze=_();g(be,he),ge.append(be,ee,J,Ze),document.body.appendChild(ge)}c?(ee.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Xb(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eA(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const iA="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=iA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?sA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new As(l,y,a)}}function sA(r,e){return r.replace(rA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const rA=/\{\$([^}]+)}/g;function aA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(F_(c)&&F_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}function Kl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function oA(r,e){const i=new lA(r,e);return i.subscribe.bind(i)}class lA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");uA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function yn(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class cA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Gb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(r){return r===ia?void 0:r}function fA(r){return r.instantiationMode==="EAGER"}class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const mA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},gA=ze.INFO,pA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},yA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=pA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const _A=(r,e)=>e.some(i=>r instanceof i);let Q_,K_;function vA(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Xd=new WeakMap,Dv=new WeakMap,Ud=new WeakMap,wm=new WeakMap;function TA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(cr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Nv.set(i,r)}).catch(()=>{}),wm.set(e,r),e}function bA(r){if(Xd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,e)}let $d={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Dv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AA(r){$d=r($d)}function SA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ld(this),e,...i);return Dv.set(a,e.sort?e.sort():[e]),cr(a)}:EA().includes(r)?function(...e){return r.apply(Ld(this),e),cr(Nv.get(this))}:function(...e){return cr(r.apply(Ld(this),e))}}function wA(r){return typeof r=="function"?SA(r):(r instanceof IDBTransaction&&bA(r),_A(r,vA())?new Proxy(r,$d):r)}function cr(r){if(r instanceof IDBRequest)return TA(r);if(Ud.has(r))return Ud.get(r);const e=wA(r);return e!==r&&(Ud.set(r,e),wm.set(e,r)),e}const Ld=r=>wm.get(r);function RA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),y=cr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(cr(d.result),g.oldVersion,g.newVersion,cr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const IA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Pd=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=CA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Pd.set(e,c),c}AA(r=>({...r,get:(e,i,a)=>Y_(e,i)||r.get(e,i,a),has:(e,i)=>!!Y_(e,i)||r.has(e,i)}));class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",X_="0.14.6";const ys=new Sm("@firebase/app"),DA="@firebase/app-compat",OA="@firebase/analytics-compat",MA="@firebase/analytics",VA="@firebase/app-check-compat",kA="@firebase/app-check",UA="@firebase/auth",LA="@firebase/auth-compat",PA="@firebase/database",zA="@firebase/data-connect",jA="@firebase/database-compat",BA="@firebase/functions",HA="@firebase/functions-compat",qA="@firebase/installations",GA="@firebase/installations-compat",FA="@firebase/messaging",QA="@firebase/messaging-compat",KA="@firebase/performance",YA="@firebase/performance-compat",XA="@firebase/remote-config",$A="@firebase/remote-config-compat",ZA="@firebase/storage",JA="@firebase/storage-compat",WA="@firebase/firestore",eS="@firebase/ai",tS="@firebase/firestore-compat",nS="firebase",iS="12.6.0";const Jd="[DEFAULT]",sS={[Zd]:"fire-core",[DA]:"fire-core-compat",[MA]:"fire-analytics",[OA]:"fire-analytics-compat",[kA]:"fire-app-check",[VA]:"fire-app-check-compat",[UA]:"fire-auth",[LA]:"fire-auth-compat",[PA]:"fire-rtdb",[zA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[BA]:"fire-fn",[HA]:"fire-fn-compat",[qA]:"fire-iid",[GA]:"fire-iid-compat",[FA]:"fire-fcm",[QA]:"fire-fcm-compat",[KA]:"fire-perf",[YA]:"fire-perf-compat",[XA]:"fire-rc",[$A]:"fire-rc-compat",[ZA]:"fire-gcs",[JA]:"fire-gcs-compat",[WA]:"fire-fst",[tS]:"fire-fst-compat",[eS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};const Qc=new Map,rS=new Map,Wd=new Map;function $_(r,e){try{r.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ho(r){const e=r.name;if(Wd.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const i of Qc.values())$_(i,r);for(const i of rS.values())$_(i,r);return!0}function Rm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r==null?!1:r.settings!==void 0}const aS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Ql("app","Firebase",aS);class oS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const To=iS;function Ov(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Jd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(i||(i=Rv()),!i)throw hr.create("no-options");const c=Qc.get(l);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw hr.create("duplicate-app",{appName:l})}const d=new dA(l);for(const g of Wd.values())d.addComponent(g);const y=new oS(i,a,d);return Qc.set(l,y),y}function Mv(r=Jd){const e=Qc.get(r);if(!e&&r===Jd&&Rv())return Ov();if(!e)throw hr.create("no-app",{appName:r});return e}function fr(r,e,i){let a=sS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}ho(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const lS="firebase-heartbeat-database",uS=1,Pl="firebase-heartbeat-store";let zd=null;function Vv(){return zd||(zd=RA(lS,uS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function cS(r){try{const i=(await Vv()).transaction(Pl),a=await i.objectStore(Pl).get(kv(r));return await i.done,a}catch(e){if(e instanceof As)ys.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function Z_(r,e){try{const a=(await Vv()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(e,kv(r)),await a.done}catch(i){if(i instanceof As)ys.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}const hS=1024,fS=30;class dS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fS){const l=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:i,unsentEntries:a}=mS(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ys.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function mS(r,e=hS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class gS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function W_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function pS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function yS(r){ho(new oa("platform-logger",e=>new xA(e),"PRIVATE")),ho(new oa("heartbeat",e=>new dS(e),"PRIVATE")),fr(Zd,X_,r),fr(Zd,X_,"esm2020"),fr("fire-js","")}yS("");var _S="firebase",vS="12.7.0";fr(_S,vS,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ES=Uv,Lv=new Ql("auth","Firebase",Uv());const Kc=new Sm("@firebase/auth");function TS(r,...e){Kc.logLevel<=ze.WARN&&Kc.warn(`Auth (${To}): ${r}`,...e)}function kc(r,...e){Kc.logLevel<=ze.ERROR&&Kc.error(`Auth (${To}): ${r}`,...e)}function _s(r,...e){throw Im(r,...e)}function Bi(r,...e){return Im(r,...e)}function Pv(r,e,i){const a={...ES(),[e]:i};return new Ql("auth","Firebase",a).create(e,{appName:r.name})}function ps(r){return Pv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Lv.create(r,...e)}function ve(r,e,...i){if(!r)throw Im(e,...i)}function ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kc(e),new Error(e)}function vs(r,e){r||ms(e)}function em(){return typeof self<"u"&&self.location?.href||""}function bS(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function AS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bS()||Zb()||"connection"in navigator)?navigator.onLine:!0}function SS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=Yb()||Jb()}get(){return AS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,e){vs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class zv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IS=new Yl(3e4,6e4);function Xl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bo(r,e,i,a,l={}){return jv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Kl({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...c};return $b()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(_.credentials="include"),zv.fetch()(await Bv(r,r.config.apiHost,i,y),_)})}async function jv(r,e,i){r._canInitEmulator=!1;const a={...wS,...e};try{const l=new CS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Cc(r,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Pv(r,A,_);_s(r,A)}}catch(l){if(l instanceof As)throw l;_s(r,"network-request-failed",{message:String(l)})}}async function xm(r,e,i,a,l={}){const c=await bo(r,e,i,a,l);return"mfaPendingCredential"in c&&_s(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Bv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,l):`${r.config.apiScheme}://${l}`;return RS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class CS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),IS.get())})}}function Cc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Bi(r,e,a);return l.customData._tokenResponse=i,l}async function xS(r,e){return bo(r,"POST","/v1/accounts:delete",e)}async function Yc(r,e){return bo(r,"POST","/v1/accounts:lookup",e)}function Ml(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NS(r,e=!1){const i=yn(r),a=await i.getIdToken(e),l=Nm(a);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ml(jd(l.auth_time)),issuedAtTime:Ml(jd(l.iat)),expirationTime:Ml(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Nm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Sv(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function t0(r){const e=Nm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&DS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function DS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const e=r.auth,i=await r.getIdToken(),a=await zl(r,Yc(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=VS(r.providerData,c),y=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=y?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function MS(r){const e=yn(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Hv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kS(r,e){const i=await jv(r,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Bv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),zv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function US(r,e){return bo(r,"POST","/v2/accounts:revokeToken",Xl(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=t0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ao;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ms("not implemented")}}function sr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new OS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await zl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NS(this,e)}reload(){return MS(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await zl(this,xS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:F,providerData:ee,stsTokenManager:se}=i;ve(S&&se,e,"internal-error");const J=ao.fromJSON(this.name,se);ve(typeof S=="string",e,"internal-error"),sr(a,e.name),sr(l,e.name),ve(typeof D=="boolean",e,"internal-error"),ve(typeof F=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(y,e.name),sr(g,e.name),sr(_,e.name),sr(A,e.name);const he=new gi({uid:S,auth:e,email:l,emailVerified:D,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:J,createdAt:_,lastLoginAt:A});return ee&&Array.isArray(ee)&&(he.providerData=ee.map(be=>({...be}))),g&&(he._redirectEventId=g),he}static async _fromIdTokenResponse(e,i,a=!1){const l=new ao;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ao;y.updateFromIdToken(a);const g=new gi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const n0=new Map;function gs(r){vs(r instanceof Function,"Expected a class definition");let e=n0.get(r);return e?(vs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,n0.set(r,e),e)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}qv.type="NONE";const i0=qv;function Uc(r,e,i){return`firebase:${r}:${e}:${i}`}class oo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new oo(gs(i0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||gs(i0);const d=Uc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const D=await Yc(e,{idToken:A}).catch(()=>{});if(!D)break;S=await gi._fromGetAccountInfoResponse(e,D,A)}else S=gi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new oo(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new oo(c,e,a))}}function s0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xv(e))return"Blackberry";if($v(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||Qv(e))&&!e.includes("edge/"))return"Chrome";if(Yv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Gv(r=mn()){return/firefox\//i.test(r)}function Fv(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qv(r=mn()){return/crios\//i.test(r)}function Kv(r=mn()){return/iemobile/i.test(r)}function Yv(r=mn()){return/android/i.test(r)}function Xv(r=mn()){return/blackberry/i.test(r)}function $v(r=mn()){return/webos/i.test(r)}function Dm(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LS(r=mn()){return Dm(r)&&!!window.navigator?.standalone}function PS(){return Wb()&&document.documentMode===10}function Zv(r=mn()){return Dm(r)||Yv(r)||$v(r)||Xv(r)||/windows phone/i.test(r)||Kv(r)}function Jv(r,e=[]){let i;switch(r){case"Browser":i=s0(mn());break;case"Worker":i=`${s0(mn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${a}`}class zS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jS(r,e={}){return bo(r,"GET","/v2/passwordPolicy",Xl(r,e))}const BS=6;class HS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new zS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ps(this));const i=e?yn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jS(this),i=new HS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await US(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(r){return yn(r)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=oA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GS(r){Om=r}function FS(r){return Om.loadJS(r)}function QS(){return Om.gapiScript}function KS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function YS(r,e){const i=Rm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(gr(c,e??{}))return l;_s(l,"already-initialized")}return i.initialize({options:e})}function XS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function $S(r,e,i){const a=$l(r);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Wv(e),{host:d,port:y}=ZS(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(gr(_,a.config.emulator)&&gr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(Cv(`${c}//${d}${g}`),xv("Auth",!0)):JS()}function Wv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZS(r){const e=Wv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:a0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a0(d)}}}function a0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class e1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function lo(r,e){return xm(r,"POST","/v1/accounts:signInWithIdp",Xl(r,e))}const WS="http://localhost";class la extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new la(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,lo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:WS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends Zl{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class or extends Zl{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends Zl{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function e2(r,e){return xm(r,"POST","/v1/accounts:signUp",Xl(r,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await gi._fromIdTokenResponse(e,a,l),d=o0(a);return new Es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=o0(a);return new Es({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function t2(r){if(ii(r.app))return Promise.reject(ps(r));const e=$l(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Es({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await e2(e,{returnSecureToken:!0}),a=await Es._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class $c extends As{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new $c(e,i,a,l)}}function n1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,e,a):c})}async function n2(r,e,i=!1){const a=await zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Es._forOperation(r,"link",a)}async function i2(r,e,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(ps(a));const l="reauthenticate";try{const c=await zl(r,n1(a,l,e,r),i);ve(c.idToken,a,"internal-error");const d=Nm(c.idToken);ve(d,a,"internal-error");const{sub:y}=d;return ve(r.uid===y,a,"user-mismatch"),Es._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function s2(r,e,i=!1){if(ii(r.app))return Promise.reject(ps(r));const a="signIn",l=await n1(r,a,e),c=await Es._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function r2(r,e){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Xl(r,e))}async function a2(r,e){if(ii(r.app))return Promise.reject(ps(r));const i=$l(r),a=await r2(i,{token:e,returnSecureToken:!0}),l=await Es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function o2(r,e,i,a){return yn(r).onIdTokenChanged(e,i,a)}function l2(r,e,i){return yn(r).beforeAuthStateChanged(e,i)}function u2(r,e,i,a){return yn(r).onAuthStateChanged(e,i,a)}const Zc="__sak";class i1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const c2=1e3,h2=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);PS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,h2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const f2=s1;class r1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}r1.type="SESSION";const a1=r1;function d2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await d2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Mm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class m2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Mm("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(D.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function g2(r){Hi().location.href=r}function o1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function p2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y2(){return navigator?.serviceWorker?.controller||null}function _2(){return o1()?self:null}const l1="firebaseLocalStorageDb",v2=1,Jc="firebaseLocalStorage",u1="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,e){return r.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function E2(){const r=indexedDB.deleteDatabase(l1);return new Jl(r).toPromise()}function nm(){const r=indexedDB.open(l1,v2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:u1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await E2(),e(await nm()))})})}async function l0(r,e,i){const a=mh(r,!0).put({[u1]:e,value:i});return new Jl(a).toPromise()}async function T2(r,e){const i=mh(r,!1).get(e),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function u0(r,e){const i=mh(r,!0).delete(e);return new Jl(i).toPromise()}const b2=800,A2=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>A2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(_2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new m2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await l0(e,Zc,"1"),await u0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>l0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>T2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>u0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Jl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const S2=c1;new Yl(3e4,6e4);function w2(r,e){return e?gs(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vm extends e1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function R2(r){return s2(r.auth,new Vm(r),r.bypassAuthState)}function I2(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),i2(i,new Vm(r),r.bypassAuthState)}async function C2(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),n2(i,new Vm(r),r.bypassAuthState)}class h1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x2=new Yl(2e3,1e4);class ro extends h1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x2.get())};e()}}ro.currentPopupAction=null;const N2="pendingRedirect",Lc=new Map;class D2 extends h1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await O2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O2(r,e){const i=k2(e),a=V2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function M2(r,e){Lc.set(r._key(),e)}function V2(r){return gs(r._redirectPersistence)}function k2(r){return Uc(N2,r.config.apiKey,r.name)}async function U2(r,e,i=!1){if(ii(r.app))return Promise.reject(ps(r));const a=$l(r),l=w2(a,e),d=await new D2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const L2=600*1e3;class P2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!f1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function f1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function z2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(r);default:return!1}}async function j2(r,e={}){return bo(r,"GET","/v1/projects",e)}const B2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function q2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await j2(r);for(const i of e)try{if(G2(i))return}catch{}_s(r,"unauthorized-domain")}function G2(r){const e=em(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!H2.test(i))return!1;if(B2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const F2=new Yl(3e4,6e4);function h0(){const r=Hi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Q2(r){return new Promise((e,i)=>{function a(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(Bi(r,"network-request-failed"))},timeout:F2.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const l=KS("iframefcb");return Hi()[l]=()=>{gapi.load?a():i(Bi(r,"network-request-failed"))},FS(`${QS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function K2(r){return Pc=Pc||Q2(r),Pc}const Y2=new Yl(5e3,15e3),X2="__/auth/iframe",$2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Cm(e,$2):`https://${r.config.authDomain}/${X2}`,a={apiKey:e.apiKey,appName:r.name,v:To},l=J2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function ew(r){const e=await K2(r),i=Hi().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:W2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(r,"network-request-failed"),y=Hi().setTimeout(()=>{c(d)},Y2.get());function g(){Hi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const tw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nw=500,iw=600,sw="_blank",rw="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aw(r,e,i,a=nw,l=iw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...tw,width:a.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(y=Qv(_)?sw:i),Gv(_)&&(e=e||rw,g.scrollbars="yes");const A=Object.entries(g).reduce((D,[F,ee])=>`${D}${F}=${ee},`,"");if(LS(_)&&y!=="_self")return ow(e||"",y),new f0(null);const S=window.open(e||"",y,A);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new f0(S)}function ow(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const lw="__/auth/handler",uw="emulator/auth/handler",cw=encodeURIComponent("fac");async function d0(r,e,i,a,l,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:To,eventId:l};if(e instanceof t1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",aA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Zl){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const g=await r._getAppCheckToken(),_=g?`#${cw}=${encodeURIComponent(g)}`:"";return`${hw(r)}?${Kl(y).slice(1)}${_}`}function hw({config:r}){return r.emulator?Cm(r,uw):`https://${r.authDomain}/${lw}`}const Bd="webStorageSupport";class fw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=U2,this._overrideRedirectResult=M2}async _openPopup(e,i,a,l){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d0(e,i,a,em(),l);return aw(e,c,Mm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await d0(e,i,a,em(),l);return g2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ew(e),a=new P2(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=q2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Fv()||Dm()}}const dw=fw;var m0="@firebase/auth",g0="1.12.0";class mw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pw(r){ho(new oa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(r)},_=new qS(a,l,c,g);return XS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ho(new oa("auth-internal",e=>{const i=$l(e.getProvider("auth").getImmediate());return(a=>new mw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(m0,g0,gw(r)),fr(m0,g0,"esm2020")}const yw=300,_w=Iv("authIdTokenMaxAge")||yw;let p0=null;const vw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>_w)return;const l=i?.token;p0!==l&&(p0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ew(r=Mv()){const e=Rm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=YS(r,{popupRedirectResolver:dw,persistence:[S2,f2,a1]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=vw(c.toString());l2(i,d,()=>d(i.currentUser)),o2(i,y=>d(y))}}const l=wv("auth");return l&&$S(i,`http://${l}`),i}function Tw(){return document.getElementsByTagName("head")?.[0]??document}GS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Tw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pw("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,d1;(function(){var r;function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,U){for(var R=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)R[ft-2]=arguments[ft];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],N=x.g[2];let U=x.g[3],R;R=w+(U^I&(N^U))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(I^N))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^U)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~U))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=I;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<w;)if(V[N++]=x.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=x[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function c(x,w){var I=y;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function d(x,w){this.h=w;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;V&&U==w||(I[N]=U,V=!1)}this.g=I}var y={};function g(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return J(_(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return J(A(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=S;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var S=g(0),D=g(1),F=g(16777216);r=d.prototype,r.m=function(){if(se(this))return-J(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(ee(this))return"0";if(se(this))return"-"+J(this).toString(x);const w=_(Math.pow(x,6));var I=this;let V="";for(;;){const N=Ze(I,w).g;I=he(I,N.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,ee(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function ee(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function se(x){return x.h==-1}r.l=function(x){return x=he(this,x),se(x)?-1:ee(x)?0:1};function J(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new d(I,~x.h).add(D)}r.abs=function(){return se(this)?J(this):this},r.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(x.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,I[N]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function he(x,w){return x.add(J(w))}r.j=function(x){if(ee(this)||ee(x))return S;if(se(this))return se(x)?J(this).j(J(x)):J(J(this).j(x));if(se(x))return J(this.j(J(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,ft=x.i(N)>>>16,Tt=x.i(N)&65535;I[2*V+2*N]+=R*Tt,be(I,2*V+2*N),I[2*V+2*N+1]+=U*Tt,be(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ft,be(I,2*V+2*N+1),I[2*V+2*N+2]+=U*ft,be(I,2*V+2*N+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new d(I,0)};function be(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ge(x,w){this.g=x,this.h=w}function Ze(x,w){if(ee(w))throw Error("division by zero");if(ee(x))return new ge(S,S);if(se(x))return w=Ze(J(x),w),new ge(J(w.g),J(w.h));if(se(w))return w=Ze(x,J(w)),new ge(J(w.g),w.h);if(x.g.length>30){if(se(x)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,V=w;V.l(x)<=0;)I=et(I),V=et(V);var N=Ue(I,1),U=Ue(V,1);for(V=Ue(V,2),I=Ue(I,2);!ee(V);){var R=U.add(V);R.l(x)<=0&&(N=N.add(I),U=R),V=Ue(V,1),I=Ue(I,1)}return w=he(x,N.j(w)),new ge(N,w)}for(N=S;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(w);se(R)||R.l(x)>0;)I-=V,U=_(I),R=U.j(w);ee(U)&&(U=D),N=N.add(U),x=he(x,R)}return new ge(N,x)}r.B=function(x){return Ze(this,x).h},r.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function et(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ue(x,w){const I=w>>5;w%=32;const V=x.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=w>0?x.i(U+I)>>>w|x.i(U+I+1)<<32-w:x.i(U+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,dr=d}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m1,Cl,g1,zc,im,p1,y1,_1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[L].apply(T,te)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function he(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const T=ge.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new se(()=>new Ze,u=>u.reset());class Ze{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,Ue=!1,x=new be,w=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(I)}};function I(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){J(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ft,N),ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),q=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),bt={};function mt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)mt(u,m[B],v,T,L);return null}return v=Rr(v),u&&u[Tt]?u.J(m,v,y(T)?!!T.capture:!1,L):_i(u,m,v,!1,T,L)}function _i(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let Ce=qn(u);if(Ce||(u[Me]=Ce=new re(u)),v=Ce.add(m,v,T,te,B),v.proxy)return v;if(T=Ss(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Hn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ss(){function u(v){return m.call(u.src,u.listener,v)}const m=Sr;return u}function ws(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ws(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=Rr(v),u&&u[Tt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,T,L),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=qn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,T,L)),(v=u>-1?m[u]:null)&&Rs(v))}function Rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Tt])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Hn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=qn(m))?(ye(v,u),v.h==0&&(v.src=null,m[Me]=null)):ce(u)}}}function Hn(u){return u in bt?bt[u]:bt[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Rs(u),u=v.call(T,m)}return u}function qn(u){return u=u[Me],u instanceof re?u:null}var wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(u){return typeof u=="function"?u:(u[wr]||(u[wr]=function(m){return u.handleEvent(m)}),u[wr])}function Rt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(Rt,V),Rt.prototype[Tt]=!0,Rt.prototype.removeEventListener=function(u,m,v,T){ws(this,u,m,v,T)};function xt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),ie(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=vi(B,T,!0,m)&&L;if(B=m.g=u,L=vi(B,T,!0,m)&&L,L=vi(B,T,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=vi(B,T,!1,m)&&L}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},Rt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Rt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function vi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ce=te.listener,Ot=te.ha||te.src;te.fa&&ye(u.i,te),L=Ce.call(Ot,T)!==!1&&L}}return L&&!T.defaultPrevented}function ma(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Nn(u){u.g=ma(()=>{u.g=null,u.i&&(u.i=!1,Nn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Kt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(u){V.call(this),this.h=u,this.g={}}S(Ei,V);var Ir=[];function Cr(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Rs(m)},u),u.g={}}Ei.prototype.N=function(){Ei.Z.N.call(this),Cr(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var G=d.JSON.stringify,W=d.JSON.parse,Ee=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ie(){}function gt(){}var at={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){N.call(this,"d")}S(Te,N);function Fe(){N.call(this,"c")}S(Fe,N);var He={},qe=null;function At(){return qe=qe||new Rt}He.Ia="serverreachability";function Nt(u){N.call(this,He.Ia,u)}S(Nt,N);function Dt(u){const m=At();xt(m,new Nt(m))}He.STAT_EVENT="statevent";function Gn(u,m){N.call(this,He.STAT_EVENT,u),this.stat=m}S(Gn,N);function Ke(u){const m=At();xt(m,new Gn(m,u))}He.Ja="timingevent";function _n(u,m){N.call(this,He.Ja,u),this.size=m}S(_n,N);function De(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function _e(){this.g=!0}_e.prototype.ua=function(){this.g=!1};function xr(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var te="",Ce=B.split("&");for(let Je=0;Je<Ce.length;Je++){var Ot=Ce[Je].split("=");if(Ot.length>1){const vt=Ot[0];Ot=Ot[1];const Yn=vt.split("_");te=Yn.length>=2&&Yn[1]=="type"?te+(vt+"="+Ot+"&"):te+(vt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function ru(u,m,v,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function Ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}_e.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return G(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Or(){}S(Or,Ie),Or.prototype.g=function(){return new XMLHttpRequest},Co=new Or;function Xi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ut={},Zt={};function bi(u,m,v){u.M=1,u.A=Mr(Pt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ai(u),u.B=Pt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ai,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Kt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ir[0]=L.toString()),L=Ir);for(let B=0;B<L.length;B++){const te=mt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Dt(),xr(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=ui(this.g),Ot=this.g.ya(),Je=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ce!=4||Ot==7||(Ot==8||Je<=0?Dt(3):Dt(2)),Si(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Ke(12),Dn(this),Fn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=lu(this,v),vt==Zt){Ce==4&&(this.m=4,Ke(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Ut){this.m=4,Ke(15),Ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,vt,null),wi(this,vt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Ke(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(te),te.P=!0,Ke(11))}}else Ti(this.i,this.l,v,null),wi(this,v);Ce==4&&Dn(this),this.o&&!this.K&&(Ce==4?yu(this.j,this):(this.o=!1,Ai(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),Dn(this),Fn(this)}}}catch{}};function Vh(u){if(!ou(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,L=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Zt:(v=Number(m.substring(v,T)),isNaN(v)?Ut:(T+=1,T+v>m.length?Zt:(m=m.slice(T,T+v),u.C=T+v,m)))}ri.prototype.cancel=function(){this.K=!0,Dn(this)};function Ai(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=De(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(Dt(),Ke(17)),Dn(this),this.m=2,Fn(this)):pa(this,this.T-u)};function Fn(u){u.j.I==0||u.K||yu(u.j,u)}function Dn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Cr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Vs(v);else break e;jr(v),Ke(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=De(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Je=L[m];const vt=Je[0];if(!(vt<=v.K))if(v.K=vt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Yn=Je[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Vi=Je[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ci=Je[5];ci!=null&&typeof ci=="number"&&ci>0&&(T=1.5*ci,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const hi=u.g;if(hi){const Br=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=T.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Do(B,B.h),B.h=null))}if(T.G){const wa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(T.wa=wa,it(T.J,T.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),te.L){Oo(T.h,te);var Ce=te,Ot=T.O;Ot&&(Ce.H=Ot),Ce.D&&(Si(Ce),Ai(Ce)),T.g=te}else gu(T);v.i.length>0&&Oi(v)}else Je[0]!="stop"&&Je[0]!="close"||Mi(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Mi(v,7):Bo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}Dt(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function On(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof On?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,Vo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Is(this,m[4]),this.h=Ci(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}On.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,_a,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?ko:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,hu)),u.join("")},On.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const Ce=L[te++];Ce=="."?T&&te==L.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(Ce),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Vo(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new On(u)}function Jt(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof xs?(u.i=m,Ea(u.i,u.l)):(v||(m=Vr(m,Cs)),u.i=new xs(m,u.l))}function it(u,m,v){u.i.set(m,v)}function Mr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,cu=/[#\?:]/g,ko=/[#\?]/g,Cs=/[#\?@]/g,hu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=xs.prototype,r.add=function(u,m){En(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){En(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return En(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Lo(u,m){En(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return En(this),this.i=null,u=Ns(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Xi(v);v=Lo(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+Xi(v[B])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ea(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),va(this,L,v))},u)),u.j=m}function oi(u,m){const v=new _e;if(d.Image){const T=new Image;T.onload=A(Qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Qn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Po(u,m){const v=new _e,T=new AbortController,L=setTimeout(()=>{T.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ds(){this.g=new Ee}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(xi,Ie),xi.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){Rt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(kr,Rt),r=kr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):li(this),this.readyState==3&&Ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},r.Na=function(u){this.g&&(this.response=u,Os(this))},r.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Oe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&Xi(v):it(u,m,v))}function ot(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,Rt);var Ni=/^https?$/i,zo=["POST","PUT"];r=ot.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Lr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Lr(this,B)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,jo(u),$i(u)}function jo(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xt(this,"complete"),xt(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},r.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(xt(u,"readystatechange"),ui(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ni.test(te?te.toLowerCase():"")}v=T}if(v)xt(u,"complete"),xt(u,"success");else{u.o=6;try{var L=ui(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",jo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),W(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ye(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ke(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Oi(this)};function Bo(u){if(ba(u),u.I==3){var m=u.V++,v=Pt(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),zr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Mr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}vu(u)}function Vs(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ba(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||w(),Ue||(et(),Ue=!0),x.add(m,u),u.D=0}}function Aa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=De(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ri(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=Pt(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),zr(this,v),B&&(this.R?m="headers="+Xi(Kn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Do(this.h,L),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),L.U=!0,bi(L,v,null)):bi(L,v,m),this.I=2}}else this.I==3&&(u?Ho(this,u):this.i.length==0||No(this.h)||Ho(this))};function Ho(u,m){var v;m?v=m.l:v=u.V++;const T=Pt(u.J);it(T,"SID",u.M),it(T,"RID",v),it(T,"AID",u.K),zr(u,T),u.u&&u.o&&Ur(T,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),bi(v,T,m)}function zr(u,m){u.H&&Oe(u.H,function(v,T){it(m,T,v)}),u.l&&Oe({},function(v,T){it(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const Ot=["count="+v];Ce==-1?v>0?(Ce=L[0].g,Ot.push("ofs="+Ce)):Ce=0:Ot.push("ofs="+Ce);let Je=!0;for(let vt=0;vt<v;vt++){var B=L[vt].g;const Yn=L[vt].map;if(B-=Ce,B<0)Ce=Math.max(0,L[vt].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var te=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Vi,ci]of te){let hi=ci;y(ci)&&(hi=G(ci)),Ot.push(B+Vi+"="+encodeURIComponent(hi))}}catch(Vi){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Yn)}}if(Je){te=Ot.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||w(),Ue||(et(),Ue=!0),x.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=De(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=De(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Vs(this),pu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(Pt(m)),v.u=null,v.R=!0,ga(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Vs(this),jr(this),Ke(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Sa(u),qo(u),u.g=null;var T=2}else if(Ii(u.h,m))v=m.G,Oo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=At(),xt(T,new _n(T,v)),Oi(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Aa(u,m)||T==2&&jr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new On(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(T,"https"),Mr(T),L?oi(T.toString(),v):Po(T.toString(),v)}else Ke(2);u.I=0,u.l&&u.l.pa(m),vu(u),ba(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof On?Pt(v):new On(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new On(null);T&&Jt(B,T),m&&(B.g=m),L&&Is(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&it(T,v,m),it(T,"VER",u.ka),zr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new xi({ab:v})):new ot(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){Rt.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}S(gn,Rt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Bo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=G(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Oi(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,gn.Z.N.call(this)};function Au(u){Te.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,Te);function Su(){Fe.call(this),this.status=1}S(Su,Fe);function Ji(u){this.g=u}S(Ji,bu),Ji.prototype.ra=function(){xt(this.g,"a")},Ji.prototype.qa=function(u){xt(this.g,new Au(u))},Ji.prototype.pa=function(u){xt(this.g,new Su)},Ji.prototype.oa=function(){xt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,_1=function(){return new ks},y1=function(){return At()},p1=He,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,zc=Dr,Io.COMPLETE="complete",g1=Io,gt.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Cl=gt,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,m1=ot}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",v0="4.9.3";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Ao="12.7.0";const ua=new Sm("@firebase/firestore");function to(){return ua.logLevel}function ae(r,...e){if(ua.logLevel<=ze.DEBUG){const i=e.map(km);ua.debug(`Firestore (${Ao}): ${r}`,...i)}}function Ts(r,...e){if(ua.logLevel<=ze.ERROR){const i=e.map(km);ua.error(`Firestore (${Ao}): ${r}`,...i)}}function fo(r,...e){if(ua.logLevel<=ze.WARN){const i=e.map(km);ua.warn(`Firestore (${Ao}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pe(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,v1(r,a,i)}function v1(r,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function tt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||v1(e,l,a)}function we(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class Aw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Sw{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new E1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class ww{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new ww(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Cw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function je(r,e){return r<e?-1:r>e?1:0}function sm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Hd(l)===Hd(c)?je(l,c):Hd(l)?1:-1}return je(r.length,e.length)}const xw=55296,Nw=57343;function Hd(r){const e=r.charCodeAt(0);return e>=xw&&e<=Nw}function mo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const T0="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&pe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),l=ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class St extends ji{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const Dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ji{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return Dw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new ln([T0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(St.fromString(e))}static fromName(e){return new de(St.fromString(e).popFirst(5))}static empty(){return new de(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new St(e.slice()))}}function Ow(r,e,i){if(!i)throw new ue(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Mw(r,e,i,a){if(e===!0&&a===!0)throw new ue(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function b0(r){if(!de.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function T1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pe(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ft(r,e){const i={typeString:r};return e&&(i.value=e),i}function Wl(r,e){if(!T1(r))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(Z.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,S0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*S0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<A0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ft("string",_t._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new _t(0,0))}static max(){return new Ae(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function Vw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new pr(l,de.empty(),e)}function kw(r){return new pr(r.readTime,r.key,jl)}class pr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(Ae.min(),de.empty(),jl)}static max(){return new pr(Ae.max(),de.empty(),jl)}}function Uw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:je(r.largestBatchId,e.largestBatchId))}const Lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Lw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function zw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const Pm=-1;function ph(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function jw(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const b1="";function Bw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=w0(e)),e=Hw(r.get(i),e);return w0(e)}function Hw(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case b1:i+="";break;default:i+=c}}return i}function w0(r){return r+b1+""}function R0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function br(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function A1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new on(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new $t(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new S1("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const i=qw.exec(r);if(tt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const w1="server_timestamp",R1="__type__",I1="__previous_value__",C1="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[R1]?.stringValue===w1}function yh(r){const e=r.mapValue.fields[I1];return zm(e)?yh(e):e}function Bl(r){const e=yr(r.mapValue.fields[C1].timestampValue);return new _t(e.seconds,e.nanos)}class Gw{constructor(e,i,a,l,c,d,y,g,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const eh="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const x1="__type__",Fw="__max__",Dc={mapValue:{}},N1="__vector__",th="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Kw(r)?9007199254740991:Qw(r)?10:11:pe(28295,{value:r})}function Ki(r,e){if(r===e)return!0;const i=vr(r);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bl(r).isEqual(Bl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),y=yr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),y=kt(c.doubleValue);return d===y?Wc(d)===Wc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(R0(d)!==R0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ki(d[g],y[g])))return!1;return!0})(r,e);default:return pe(52216,{left:r})}}function ql(r,e){return(r.values||[]).find((i=>Ki(i,e)))!==void 0}function go(r,e){if(r===e)return 0;const i=vr(r),a=vr(e);if(i!==a)return je(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),g=kt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return C0(r.timestampValue,e.timestampValue);case 4:return C0(Bl(r),Bl(e));case 5:return sm(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=_r(c),g=_r(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const A=je(y[_],g[_]);if(A!==0)return A}return je(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=je(kt(c.latitude),kt(d.latitude));return y!==0?y:je(kt(c.longitude),kt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return x0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[th]?.arrayValue,A=g[th]?.arrayValue,S=je(_?.values?.length||0,A?.values?.length||0);return S!==0?S:x0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const D=sm(g[S],A[S]);if(D!==0)return D;const F=go(y[g[S]],_[A[S]]);if(F!==0)return F}return je(g.length,A.length)})(r.mapValue,e.mapValue);default:throw pe(23264,{he:i})}}function C0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const i=yr(r),a=yr(e),l=je(i.seconds,a.seconds);return l!==0?l:je(i.nanos,a.nanos)}function x0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=go(i[l],a[l]);if(c)return c}return je(i.length,a.length)}function po(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):pe(61005,{value:r})}function jc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(r);return e?16+jc(e):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return br(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(r.mapValue);default:throw pe(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function N0(r){return!!r&&"nullValue"in r}function D0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function Qw(r){return(r?.mapValue?.fields||{})[x1]?.stringValue===N1}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return br(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Vl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vl(r.arrayValue.values[i]);return e}return{...r}}function Kw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Fw}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Vl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){br(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new xn(Vl(this.value))}}function D1(r){const e=[];return br(r.fields,((i,a)=>{const l=new ln([i]);if(Bc(a)){const c=D1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Bn(e)}class dn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),xn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,Ae.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,Ae.min(),Ae.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Ae.min(),Ae.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function O0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=de.comparator(de.fromName(d.referenceValue),i.key):a=go(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function M0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ki(r.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function Yw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class O1{}class Xt extends O1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new $w(e,i,a):i==="array-contains"?new Ww(e,a):i==="in"?new eR(e,a):i==="not-in"?new tR(e,a):i==="array-contains-any"?new nR(e,a):new Xt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Zw(e,a):new Jw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends O1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yi(e,i)}matches(e){return M1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(r){return r.op==="and"}function V1(r){return Xw(r)&&M1(r)}function Xw(r){for(const e of r.filters)if(e instanceof Yi)return!1;return!0}function om(r){if(r instanceof Xt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(V1(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function k1(r,e){return r instanceof Xt?(function(a,l){return l instanceof Xt&&a.op===l.op&&a.field.isEqual(l.field)&&Ki(a.value,l.value)})(r,e):r instanceof Yi?(function(a,l){return l instanceof Yi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&k1(d,l.filters[y])),!0):!1})(r,e):void pe(19439)}function U1(r){return r instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(r):r instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(U1).join(" ,")+"}"})(r):"Filter"}class $w extends Xt{constructor(e,i,a){super(e,i,a),this.key=de.fromName(a.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Zw extends Xt{constructor(e,i){super(e,"in",i),this.keys=L1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Jw extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=L1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function L1(r,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class Ww extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&ql(i.arrayValue,this.value)}}class eR extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class tR extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class nR extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ql(this.value.arrayValue,a)))}}class iR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function V0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new iR(r,e,i,a,l,c,d)}function Bm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>po(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>po(a))).join(",")),e.Te=i}return e.Te}function Hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Yw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!M0(r.startAt,e.startAt)&&M0(r.endAt,e.endAt)}function lm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sR(r,e,i,a,l,c,d,y){return new _h(r,e,i,a,l,c,d,y)}function vh(r){return new _h(r)}function k0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rR(r){return r.collectionGroup!==null}function kl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new $t(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new ih(ln.keyField(),a))}return e.Ie}function qi(r){const e=we(r);return e.Ee||(e.Ee=aR(e,kl(r))),e.Ee}function aR(r,e){if(r.limitType==="F")return V0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return V0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function um(r,e,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Eh(r,e){return Hm(qi(r),qi(e))&&r.limitType===e.limitType}function P1(r){return`${Bm(qi(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>U1(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(qi(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):de.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=O0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,y,g){const _=O0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,kl(a),l))})(r,e)}function oR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function z1(r){return(e,i)=>{let a=!1;for(const l of kl(r)){const c=lR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function lR(r,e,i){const a=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?go(g,_):pe(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pe(19790,{direction:r.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const uR=new wt(de.comparator);function bs(){return uR}const j1=new wt(de.comparator);function xl(...r){let e=j1;for(const i of r)e=e.insert(i.key,i);return e}function B1(r){let e=j1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ra(){return Ul()}function H1(){return Ul()}function Ul(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const cR=new wt(de.comparator),hR=new $t(de.comparator);function Be(...r){let e=hR;for(const i of r)e=e.add(i);return e}const fR=new $t(je);function dR(){return fR}function qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function q1(r){return{integerValue:""+r}}function mR(r,e){return jw(e)?q1(e):qm(r,e)}class bh{constructor(){this._=void 0}}function gR(r,e,i){return r instanceof sh?(function(l,c){const d={fields:{[R1]:{stringValue:w1},[C1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=yh(c)),c&&(d.fields[I1]=c),{mapValue:d}})(i,e):r instanceof yo?F1(r,e):r instanceof Gl?Q1(r,e):(function(l,c){const d=G1(l,c),y=U0(d)+U0(l.Ae);return am(d)&&am(l.Ae)?q1(y):qm(l.serializer,y)})(r,e)}function pR(r,e,i){return r instanceof yo?F1(r,e):r instanceof Gl?Q1(r,e):i}function G1(r,e){return r instanceof rh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class sh extends bh{}class yo extends bh{constructor(e){super(),this.elements=e}}function F1(r,e){const i=K1(e);for(const a of r.elements)i.some((l=>Ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Gl extends bh{constructor(e){super(),this.elements=e}}function Q1(r,e){let i=K1(e);for(const a of r.elements)i=i.filter((l=>!Ki(l,a)));return{arrayValue:{values:i}}}class rh extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function U0(r){return kt(r.integerValue||r.doubleValue)}function K1(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class yR{constructor(e,i){this.field=e,this.transform=i}}function _R(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof yo&&l instanceof yo||a instanceof Gl&&l instanceof Gl?mo(a.elements,l.elements,Ki):a instanceof rh&&l instanceof rh?Ki(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(r.transform,e.transform)}class vR{constructor(e,i){this.version=e,this.transformResults=i}}class yi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function Y1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gm(r.key,yi.none()):new eu(r.key,r.data,yi.none());{const i=r.data,a=xn.empty();let l=new $t(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ar(r.key,a,new Bn(l.toArray()),yi.none())}}function ER(r,e,i){r instanceof eu?(function(l,c,d){const y=l.value.clone(),g=P0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ar?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=P0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(X1(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(r,e,i,a){return r instanceof eu?(function(c,d,y,g){if(!Hc(c.precondition,d))return y;const _=c.value.clone(),A=z0(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Ar?(function(c,d,y,g){if(!Hc(c.precondition,d))return y;const _=z0(c.fieldTransforms,g,d),A=d.data;return A.setAll(X1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function TR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=G1(a.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function L0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&mo(a,l,((c,d)=>_R(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Ah{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ar extends Ah{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function X1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function P0(r,e,i){const a=new Map;tt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,pR(d,y,i[l]))}return a}function z0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,gR(c,d,e))}return a}class Gm extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ER(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=H1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=Y1(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((i,a)=>L0(i,a)))&&mo(this.baseMutations,e.baseMutations,((i,a)=>L0(i,a)))}}class Fm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return cR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(e,i,a,l)}}class SR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wR{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Qe;function RR(r){switch(r){case Z.OK:return pe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pe(15467,{code:r})}}function $1(r){if(r===void 0)return Ts("GRPC error has no .code"),Z.UNKNOWN;switch(r){case qt.OK:return Z.OK;case qt.CANCELLED:return Z.CANCELLED;case qt.UNKNOWN:return Z.UNKNOWN;case qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case qt.INTERNAL:return Z.INTERNAL;case qt.UNAVAILABLE:return Z.UNAVAILABLE;case qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case qt.NOT_FOUND:return Z.NOT_FOUND;case qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case qt.ABORTED:return Z.ABORTED;case qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case qt.DATA_LOSS:return Z.DATA_LOSS;default:return pe(39323,{code:r})}}(Qe=qt||(qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const CR=new dr([4294967295,4294967295],0);function j0(r){const e=IR().encode(r),i=new d1;return i.update(e),new Uint8Array(i.digest())}function B0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([l,c],0)]}class Qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(dr.fromNumber(a)));return l.compare(CR)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=j0(e),[a,l]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=j0(e),[a,l]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(Ae.min(),l,new wt(je),bs(),Be())}}class tu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,Be(),Be(),Be())}}class qc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class Z1{constructor(e,i){this.targetId=e,this.Ce=i}}class J1{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class H0{constructor(){this.ve=0,this.Fe=q0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pe(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=q0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xR{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Oc(),this.He=Oc(),this.Ye=new wt(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new de(c.path);this.et(i,d,dn.newNoDocument(d,Ae.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=_r(a).toUint8Array()}catch(g){if(g instanceof S1)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Qm(d,l,c)}catch(g){return fo(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&lm(y.target)){const g=new de(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Sh(e,i,this.Ye,this.je,a);return this.je=bs(),this.Je=Oc(),this.He=Oc(),this.Ye=new wt(je),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new H0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new wt(de.comparator)}function q0(){return new wt(de.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class MR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(r,e){return r.useProto3Json||ph(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function VR(r,e){return ah(r,e.toTimestamp())}function Gi(r){return tt(!!r,49232),Ae.fromTimestamp((function(i){const a=yr(i);return new _t(a.seconds,a.nanos)})(r))}function Km(r,e){return hm(r,e).canonicalString()}function hm(r,e){const i=(function(l){return new St(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function eE(r){const e=St.fromString(r);return tt(rE(e),10190,{key:e.toString()}),e}function fm(r,e){return Km(r.databaseId,e.path)}function qd(r,e){const i=eE(e);if(i.get(1)!==r.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(nE(i))}function tE(r,e){return Km(r.databaseId,e)}function kR(r){const e=eE(r);return e.length===4?St.emptyPath():nE(e)}function dm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nE(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G0(r,e,i){return{name:fm(r,e),fields:i.value.mapValue.fields}}function UR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pe(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(tt(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):(tt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:$1(_.code);return new ue(A,_.message||"")})(d);i=new J1(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Ae.min(),y=new xn({mapValue:{fields:a.document.fields}}),g=dn.newFoundDocument(l,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(_,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Gi(a.readTime):Ae.min(),d=dn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new wR(l,c),y=a.targetId;i=new Z1(y,d)}}return i}function LR(r,e){let i;if(e instanceof eu)i={update:G0(r,e.key,e.value)};else if(e instanceof Gm)i={delete:fm(r,e.key)};else if(e instanceof Ar)i={update:G0(r,e.key,e.data),updateMask:QR(e.fieldMask)};else{if(!(e instanceof bR))return pe(16599,{Vt:e.type});i={verify:fm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw pe(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:VR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe(27497)})(r,e.precondition)),i}function PR(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Gi(l.updateTime):Gi(c);return d.isEqual(Ae.min())&&(d=Gi(c)),new vR(d,l.transformResults||[])})(i,e)))):[]}function zR(r,e){return{documents:[tE(r,e.path)]}}function jR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tE(r,l);const c=(function(_){if(_.length!==0)return sE(Yi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:io(D.field),direction:qR(D.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=cm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function BR(r){let e=kR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){tt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=iE(S);return D instanceof Yi&&V1(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(ee){return new ih(so(ee.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(D)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let D;return D=typeof S=="object"?S.value:S,ph(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(S){const D=!!S.before,F=S.values||[];return new nh(F,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,F=S.values||[];return new nh(F,D)})(i.endAt)),sR(e,l,d,c,y,"F",g,_)}function HR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=so(i.unaryFilter.field);return Xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return Xt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Xt.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>iE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(i.compositeFilter.op))})(r):pe(30097,{filter:r})}function qR(r){return NR[r]}function GR(r){return DR[r]}function FR(r){return OR[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return ln.fromServerFormat(r.fieldPath)}function sE(r){return r instanceof Xt?(function(i){if(i.op==="=="){if(D0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(N0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(N0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:GR(i.op),value:i.value}}})(r):r instanceof Yi?(function(i){const a=i.getFilters().map((l=>sE(l)));return a.length===1?a[0]:{compositeFilter:{op:FR(i.op),filters:a}}})(r):pe(54877,{filter:r})}function QR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ur{constructor(e,i,a,l,c=Ae.min(),d=Ae.min(),y=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KR{constructor(e){this.yt=e}}function YR(r){const e=BR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(e,e.limit,"L"):e}class XR{constructor(){this.Cn=new $R}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(pr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class $R{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new $t(St.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new $t(St.comparator)).toArray()}}const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(aE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const Q0="LruGarbageCollector",ZR=1048576;function K0([r,e],[i,a]){const l=je(r,i);return l===0?je(e,a):l}class JR{constructor(e){this.Ir=e,this.buffer=new $t(K0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();K0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?ae(Q0,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Vr(3e5)}))}}class eI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(gh.ce);const a=new JR(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(F0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,g,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),to()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function tI(r,e){return new eI(r,e)}class nI{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class sI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ll(a.mutation,l,Bn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const l=ra();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=xl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=bs();const d=Ul(),y=(function(){return Ul()})();return i.forEach(((g,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ar)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ll(A.mutation,_,A.mutation.getFieldMask(),_t.now())):d.set(_.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new iI(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ul();let l=new wt(((d,y)=>d-y)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=a.get(g)||Bn.empty();A=y.applyToLocalView(_,A),a.set(g,A);const S=(l.get(y.batchId)||Be()).add(g);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,A=g.value,S=H1();A.forEach((D=>{if(!c.has(D)){const F=Y1(i.get(D),a.get(D));F!==null&&S.set(D,F),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):rR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ra());let y=jl,g=c;return d.next((_=>$.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{g=g.insert(A,D)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Be()))).next((A=>({batchId:y,changes:B1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(g=>{const _=(function(S,D){return new _h(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,dn.newInvalidDocument(A)))}));let y=xl();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&Ll(A.mutation,_,Bn.empty(),_t.now()),Th(i,_)&&(y=y.insert(g,_))})),y}))}}class rI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Gi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:YR(l.bundledQuery),readTime:Gi(l.readTime)}})(i)),$.resolve()}}class aI{constructor(){this.overlays=new wt(de.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ra(),c=i.length+1,d=new de(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new wt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=ra(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ra(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return $.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SR(i,a));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class oI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Ym{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new en(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new en(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new de(new St([])),a=new en(i,e),l=new en(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new St([])),a=new en(i,e),l=new en(i,e+1);let c=Be();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class lI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new en(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(je);return i.forEach((l=>{const c=new en(l,0),d=new en(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;de.isDocumentKey(c)||(c=c.child(""));const d=new en(new de(c),0);let y=new $t(je);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new en(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new en(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uI{constructor(e){this.ri=e,this.docs=(function(){return new wt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=bs();const d=i.path,y=new de(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Uw(kw(A),a)<=0||(l.has(A.key)||Th(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){pe(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new cI(this)}getSize(e){return $.resolve(this.size)}}class cI extends nI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class hI{constructor(e){this.persistence=e,this.si=new fa((i=>Bm(i)),Hm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class oE{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new oI,this.referenceDelegate=e(this),this.Pi=new hI(this),this.indexManager=new XR,this.remoteDocumentCache=(function(l){return new uI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new KR(i),this.Ii=new rI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new aI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new lI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new fI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class fI extends Pw{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=de.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.pi=new fa((a=>Bw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=tI(this,i)}static mi(e,i){return new oh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $m{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(e,i.fromCache,a,l)}}class dI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eA()?8:zw(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dI;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(to()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(to()<=ze.DEBUG&&ae("QueryEngine","Query:",no(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(to()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):$.resolve())}ys(e,i){if(k0(i))return $.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(e,um(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,l){return k0(i)||l.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(to()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(e,d,i,Vw(l,jl)).next((y=>y)))}))}Ds(e,i){let a=new $t(z1(e));return i.forEach(((l,c)=>{Th(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return to()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(e,i,pr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",gI=3e8;class pI{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new wt(je),this.xs=new fa((c=>Bm(c)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function yI(r,e,i,a){return new pI(r,e,i,a)}async function lE(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Be();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function _I(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,A){const S=_.batch,D=S.keys();let F=$.resolve();return D.forEach((ee=>{F=F.next((()=>A.getEntry(g,ee))).next((se=>{const J=_.docVersions.get(ee);tt(J!==null,48541),se.version.compareTo(J)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Be();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uE(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function vI(r,e){const i=we(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(S,F),(function(se,J,he){return se.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=gI?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(D,F,A)&&y.push(i.Pi.updateTargetData(c,F))}));let g=bs(),_=Be();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(EI(c,d,e.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!a.isEqual(Ae.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function EI(r,e,i){let a=Be(),l=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=bs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ae(Zm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function TI(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function bI(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function mm(r,e,i){const a=we(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;ae(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Y0(r,e,i){const a=we(r);let l=Ae.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const S=we(g),D=S.xs.get(A);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(_,A)})(a,d,qi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:Be()))).next((y=>(AI(a,oR(e),y),{documents:y,Qs:c})))))}function AI(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class X0{constructor(){this.activeTargetIds=dR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SI{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wI{Oo(e){}shutdown(){}}const $0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae($0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae($0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function gm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Gd="RestConnection",RI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class II{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=gm(),y=this.zo(e,i.toUriEncodedString());ae(Gd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(y),A=Eo(_);return this.Jo(e,y,g,a,A).then((S=>(ae(Gd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw fo(Gd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=RI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class CI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class xI extends II{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=gm();return new Promise(((y,g)=>{const _=new m1;_.setWithCredentials(!0),_.listenOnce(g1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const S=_.getResponseJson();ae(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case zc.TIMEOUT:ae(hn,`RPC '${e}' ${d} timed out`),g(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const D=_.getStatus();if(ae(hn,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const ee=F?.error;if(ee&&ee.status&&ee.message){const se=(function(he){const be=he.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(be)>=0?be:Z.UNKNOWN})(ee.status);g(new ue(se,ee.message))}else g(new ue(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(hn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ae(hn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_1(),y=y1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const A=c.join("");ae(hn,`Creating RPC '${e}' stream ${l}: ${A}`,g);const S=d.createWebChannel(A,g);this.I_(S);let D=!1,F=!1;const ee=new CI({Yo:J=>{F?ae(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(D||(ae(hn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),ae(hn,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),se=(J,he,be)=>{J.listen(he,(ge=>{try{be(ge)}catch(Ze){setTimeout((()=>{throw Ze}),0)}}))};return se(S,Cl.EventType.OPEN,(()=>{F||(ae(hn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),se(S,Cl.EventType.CLOSE,(()=>{F||(F=!0,ae(hn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(S))})),se(S,Cl.EventType.ERROR,(J=>{F||(F=!0,fo(hn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),ee.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),se(S,Cl.EventType.MESSAGE,(J=>{if(!F){const he=J.data[0];tt(!!he,16349);const be=he,ge=be?.error||be[0]?.error;if(ge){ae(hn,`RPC '${e}' stream ${l} received error:`,ge);const Ze=ge.status;let et=(function(w){const I=qt[w];if(I!==void 0)return $1(I)})(Ze),Ue=ge.message;et===void 0&&(et=Z.INTERNAL,Ue="Unknown error status: "+Ze+" with message "+ge.message),F=!0,ee.a_(new ue(et,Ue)),S.close()}else ae(hn,`RPC '${e}' stream ${l} received:`,he),ee.u_(he)}})),se(y,p1.STAT_EVENT,(J=>{J.stat===im.PROXY?ae(hn,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===im.NOPROXY&&ae(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function wh(r){return new MR(r,!0)}class cE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const J0="PersistentStream";class hE{constructor(e,i,a,l,c,d,y,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(J0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NI extends hE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=UR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Gi(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=lm(g)?{documents:zR(c,g)}:{query:jR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=W1(c,d.resumeToken);const _=cm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){y.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=cm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=HR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.q_(i)}}class DI extends hE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=PR(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>LR(this.serializer,a)))};this.q_(i)}}class OI{}class MI extends OI{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,hm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class kI{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{da(this)&&(ae(ca,"Restarting streams for network reachability change."),await(async function(g){const _=we(g);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new VI(a,l)}}async function Rh(r){if(da(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function fE(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tg(i)?eg(i):Ro(i).O_()&&Wm(i,e))}function Jm(r,e){const i=we(r),a=Ro(i);i.Ia.delete(e),a.O_()&&dE(i,e),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Ra.set("Unknown"))}function Wm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ro(r).Y_(e)}function dE(r,e){r.Va.Ue(e),Ro(r).Z_(e)}function eg(r){r.Va=new xR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function tg(r){return da(r)&&!Ro(r).x_()&&r.Ia.size>0}function da(r){return we(r).Ea.size===0}function mE(r){r.Va=void 0}async function UI(r){r.Ra.set("Online")}async function LI(r){r.Ia.forEach(((e,i)=>{Wm(r,e)}))}async function PI(r,e){mE(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function zI(r,e,i){if(r.Ra.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,e)}catch(a){ae(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(r,a)}else if(e instanceof qc?r.Va.Ze(e):e instanceof Z1?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await uE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),dE(c,g);const S=new ur(A.target,g,_,A.sequenceNumber);Wm(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(ca,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,e,i){if(!wo(e))throw e;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>uE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(ca,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function gE(r,e){return e().catch((i=>lh(r,i,e)))}async function Ih(r){const e=we(r),i=Er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;jI(e);)try{const l=await TI(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,BI(e,l)}catch(l){await lh(e,l)}pE(e)&&yE(e)}function jI(r){return da(r)&&r.Ta.length<10}function BI(r,e){r.Ta.push(e);const i=Er(r);i.O_()&&i.X_&&i.ea(e.mutations)}function pE(r){return da(r)&&!Er(r).x_()&&r.Ta.length>0}function yE(r){Er(r).start()}async function HI(r){Er(r).ra()}async function qI(r){const e=Er(r);for(const i of r.Ta)e.ea(i.mutations)}async function GI(r,e,i){const a=r.Ta.shift(),l=Fm.from(a,e,i);await gE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ih(r)}async function FI(r,e){e&&Er(r).X_&&await(async function(a,l){if((function(d){return RR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Er(a).B_(),await gE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(r,e),pE(r)&&yE(r)}async function W0(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),ae(ca,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function QI(r,e){const i=we(r);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(i,a,l){const c=we(i);return c.sa(),new NI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UI.bind(null,r),t_:LI.bind(null,r),r_:PI.bind(null,r),H_:zI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),mE(r))}))),r.ma}function Er(r){return r.fa||(r.fa=(function(i,a,l){const c=we(i);return c.sa(),new DI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HI.bind(null,r),r_:FI.bind(null,r),ta:qI.bind(null,r),na:GI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ih(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new ng(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(Ts("AsyncQueue",`${e}: ${r}`),wo(r))return new ue(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||de.comparator(i.key,a.key):(i,a)=>de.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ev{constructor(){this.ga=new wt(de.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new vo(e,i,uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class KI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YI{constructor(){this.queries=tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=we(i),c=l.queries;l.queries=tv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function tv(){return new fa((r=>P1(r)),Eh)}async function _E(r,e){const i=we(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new KI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=ig(d,`Initialization of query '${no(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sg(i)}async function vE(r,e){const i=we(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XI(r,e){const i=we(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function $I(r,e,i){const a=we(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function sg(r){r.Ca.forEach((e=>{e.next()}))}var pm,nv;(nv=pm||(pm={})).Ma="default",nv.Cache="cache";class EE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class TE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class ZI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=z1(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const D=l.get(A),F=Th(this.query,S)?S:null,ee=!!D&&this.mutatedKeys.has(D.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;D&&F?D.data.isEqual(F.data)?ee!==se&&(a.track({type:3,doc:F}),J=!0):this.su(D,F)||(a.track({type:2,doc:F}),J=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!D&&F?(a.track({type:0,doc:F}),J=!0):D&&!F&&(a.track({type:1,doc:D}),J=!0,(g||_)&&(y=!0)),J&&(F?(d=d.add(F),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(F,ee){const se=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:J})}};return se(F)-se(ee)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new vo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new bE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new TE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class JI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class WI{constructor(e){this.key=e,this.hu=!1}}class eC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((y=>P1(y)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(de.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(r,e,i=!0){const a=CE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AE(a,e,i,!0),l}async function nC(r,e){const i=CE(r);await AE(i,e,!0,!1)}async function AE(r,e,i,a){const l=await bI(r.localStore,qi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await iC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&fE(r.remoteStore,l),y}async function iC(r,e,i,a,l){r.pu=(S,D,F)=>(async function(se,J,he,be){let ge=J.view.ru(he);ge.Cs&&(ge=await Y0(se.localStore,J.query,!1).then((({documents:x})=>J.view.ru(x,ge))));const Ze=be&&be.targetChanges.get(J.targetId),et=be&&be.targetMismatches.get(J.targetId)!=null,Ue=J.view.applyChanges(ge,se.isPrimaryClient,Ze,et);return sv(se,J.targetId,Ue.au),Ue.snapshot})(r,S,D,F);const c=await Y0(r.localStore,e,!0),d=new ZI(e,c.Qs),y=d.ru(c.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,g);sv(r,i,_.au);const A=new JI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function sC(r,e,i){const a=we(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(So)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function rC(r,e){const i=we(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function aC(r,e,i){const a=dC(r);try{const l=await(function(d,y){const g=we(d),_=_t.now(),A=y.reduce(((F,ee)=>F.add(ee.key)),Be());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let ee=bs(),se=Be();return g.Ns.getEntries(F,A).next((J=>{ee=J,ee.forEach(((he,be)=>{be.isValidDocument()||(se=se.add(he))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,ee))).next((J=>{S=J;const he=[];for(const be of y){const ge=TR(be,S.get(be.key).overlayedDocument);ge!=null&&he.push(new Ar(be.key,ge,D1(ge.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,he,y)})).next((J=>{D=J;const he=J.applyToLocalDocumentSet(S,se);return g.documentOverlayCache.saveOverlays(F,J.batchId,he)}))})).then((()=>({batchId:D.batchId,changes:B1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new wt(je)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await iu(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function SE(r,e){const i=we(r);try{const a=await vI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await So(a)}}function iv(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=we(d);g.onlineState=y;let _=!1;g.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(y)&&(_=!0)})),_&&sg(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function oC(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new wt(de.comparator);d=d.insert(c,dn.newNoDocument(c,Ae.min()));const y=Be().add(c),g=new Sh(Ae.min(),new Map,new wt(je),d,y);await SE(a,g),a.du=a.du.remove(c),a.Au.delete(e),ag(a)}else await mm(a.localStore,e,!1).then((()=>ym(a,e,i))).catch(So)}async function lC(r,e){const i=we(r),a=e.batch.batchId;try{const l=await _I(i.localStore,e);RE(i,a,null),wE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await So(l)}}async function uC(r,e,i){const a=we(r);try{const l=await(function(d,y){const g=we(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,y).next((S=>(tt(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);RE(a,e,i),wE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,l)}catch(l){await So(l)}}function wE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function RE(r,e,i){const a=we(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||IE(r,a)}))}function IE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ag(r))}function sv(r,e,i){for(const a of i)a instanceof TE?(r.Ru.addReference(a.key,e),cC(r,a)):a instanceof bE?(ae(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||IE(r,a.key)):pe(19791,{wu:a})}function cC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(rg,"New document in limbo: "+i),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new de(St.fromString(e)),a=r.fu.next();r.Au.set(a,new WI(i)),r.du=r.du.insert(i,a),fE(r.remoteStore,new ur(qi(vh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function iu(r,e,i){const a=we(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=$m.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,_){const A=we(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(D=>$.forEach(D.Es,(F=>A.persistence.referenceDelegate.addReference(S,D.targetId,F))).next((()=>$.forEach(D.ds,(F=>A.persistence.referenceDelegate.removeReference(S,D.targetId,F)))))))))}catch(S){if(!wo(S))throw S;ae(Zm,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const F=A.Ms.get(D),ee=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(ee);A.Ms=A.Ms.insert(D,se)}}})(a.localStore,c))}async function hC(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){ae(rg,"User change. New user:",e.toKey());const a=await lE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ue(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function fC(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function CE(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oC.bind(null,e),e.Pu.H_=XI.bind(null,e.eventManager),e.Pu.yu=$I.bind(null,e.eventManager),e}function dC(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return yI(this.persistence,new mI,e.initialUser,this.serializer)}Cu(e){return new oE(Xm.mi,this.serializer)}Du(e){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class mC extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new oE((a=>oh.mi(a,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hC.bind(null,this.syncEngine),await QI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YI})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),a=(function(c){return new xI(c)})(e.databaseInfo);return(function(c,d,y,g){return new MI(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new kI(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>iv(this.syncEngine,i,0)),(function(){return Z0.v()?new Z0:new wI})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,A){const S=new eC(l,c,d,y,g,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ae(ca,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class gC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Tr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await pC(r);ae(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>W0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>W0(e.remoteStore,l))),r._onlineComponents=e}async function pC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Tr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else ae(Tr,"Using default OfflineComponentProvider"),await Qd(r,new mC(void 0));return r._offlineComponents}async function NE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Tr,"Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(ae(Tr,"Using default OnlineComponentProvider"),await rv(r,new _m))),r._onlineComponents}function yC(r){return NE(r).then((e=>e.syncEngine))}async function vm(r){const e=await NE(r),i=e.eventManager;return i.onListen=tC.bind(null,e.syncEngine),i.onUnlisten=sC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=nC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rC.bind(null,e.syncEngine),i}function _C(r,e,i={}){const a=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const A=new xE({next:D=>{A.Nu(),d.enqueueAndForget((()=>vE(c,S)));const F=D.docs.has(y);!F&&D.fromCache?_.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&g&&g.source==="server"?_.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new EE(vh(y.path),A,{includeMetadataChanges:!0,qa:!0});return _E(c,S)})(await vm(r),r.asyncQueue,e,i,a))),a.promise}function DE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const av=new Map;const OE="firestore.googleapis.com",ov=!0;class lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=ov}else this.host=e.host,this.ssl=e.ssl??ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZR)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new bw;switch(a.type){case"firstParty":return new Rw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=av.get(i);a&&(ae("ComponentProvider","Removing Datastore"),av.delete(i),a.terminate())})(this),Promise.resolve()}}function vC(r,e,i,a={}){r=pi(r,og);const l=Eo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;l&&(Cv(`https://${y}`),xv("Firestore",!0)),c.host!==OE&&c.host!==y&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!gr(g,d)&&(r._setSettings(g),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=fn.MOCK_USER;else{_=Fb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fn(S)}r._authCredentials=new Aw(new E1(_,A))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,Qt._jsonSchema))return new Qt(e,a||null,new de(St.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Fl extends Ch{constructor(e,i,a){super(e,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new de(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function Rn(r,e,...i){if(r=yn(r),arguments.length===1&&(e=Um.newId()),Ow("doc","path",e),r instanceof og){const a=St.fromString(e,...i);return b0(a),new Qt(r,null,new de(a))}{if(!(r instanceof Qt||r instanceof Fl))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...i));return b0(a),new Qt(r.firestore,r instanceof Fl?r.converter:null,new de(a))}}const uv="AsyncQueue";class cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&ae(uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ae(uv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",hv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ng.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pe(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function hv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ha extends og{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new cv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function EC(r,e){const i=typeof r=="object"?r:Mv(),a=typeof r=="string"?r:eh,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=qb("firestore");c&&vC(l,...c)}return l}function lg(r){if(r._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TC(r),r._firestoreClient}function TC(r){const e=r._freezeSettings(),i=(function(l,c,d,y){return new Gw(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,DE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new gC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(un.fromBase64String(e))}catch(i){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),bytes:Ft("string")};class xh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nh{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ft("string",Fi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qi(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Ft("string",Qi._jsonSchemaVersion),vectorValues:Ft("object")};const bC=/^__.*__$/;class AC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class ME{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:r})}}class Dh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VE(this.Ac)&&bC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wh(e)}Cc(e,i,a,l=!1){return new Dh({Ac:e,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kE(r){const e=r._freezeSettings(),i=wh(r._databaseId);return new SC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function wC(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);cg("Data must be an object, but it was:",d,a);const y=UE(a,d);let g,_;if(c.merge)g=new Bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=Em(e,S,i);if(!d.contains(D))throw new ue(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);PE(A,D)||A.push(D)}g=new Bn(A),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new AC(new xn(y),g,_)}class Oh extends Nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function RC(r,e,i){return new Dh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ug extends Nh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=RC(this,e,!0),a=this.vc.map((c=>su(c,i))),l=new yo(a);return new yR(e.path,l)}isEqual(e){return e instanceof ug&&gr(this.vc,e.vc)}}function IC(r,e,i,a){const l=r.Cc(1,e,i);cg("Data must be an object, but it was:",l,a);const c=[],d=xn.empty();br(a,((g,_)=>{const A=hg(e,g,i);_=yn(_);const S=l.yc(A);if(_ instanceof Oh)c.push(A);else{const D=su(_,S);D!=null&&(c.push(A),d.set(A,D))}}));const y=new Bn(c);return new ME(d,y,l.fieldTransforms)}function CC(r,e,i,a,l,c){const d=r.Cc(1,e,i),y=[Em(e,a,i)],g=[l];if(c.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)y.push(Em(e,c[D])),g.push(c[D+1]);const _=[],A=xn.empty();for(let D=y.length-1;D>=0;--D)if(!PE(_,y[D])){const F=y[D];let ee=g[D];ee=yn(ee);const se=d.yc(F);if(ee instanceof Oh)_.push(F);else{const J=su(ee,se);J!=null&&(_.push(F),A.set(F,J))}}const S=new Bn(_);return new ME(A,S,d.fieldTransforms)}function su(r,e){if(LE(r=yn(r)))return cg("Unsupported field value:",e,r),UE(r,e);if(r instanceof Nh)return(function(a,l){if(!VE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=su(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:W1(l.serializer,a._byteString)};if(a instanceof Qt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qi)return(function(d,y){return{mapValue:{fields:{[x1]:{stringValue:N1},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return qm(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(r,e)}function UE(r,e){const i={};return A1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(r,((a,l)=>{const c=su(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Fi||r instanceof si||r instanceof Qt||r instanceof Nh||r instanceof Qi)}function cg(r,e,i){if(!LE(i)||!T1(i)){const a=Lm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Em(r,e,i){if((e=yn(e))instanceof xh)return e._internalPath;if(typeof e=="string")return hg(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const xC=new RegExp("[~\\*/\\[\\]]");function hg(r,e,i){if(e.search(xC)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ue(Z.INVALID_ARGUMENT,y+r+g)}function PE(r,e){return r.some((i=>i.isEqual(e)))}class zE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NC extends zE{data(){return super.data()}}function jE(r,e){return typeof e=="string"?hg(r,e):e instanceof xh?e._internalPath:e._delegate._internalPath}function DC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OC{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Qi(i)}convertGeoPoint(e){return new Fi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);tt(rE(a),9688,{name:e});const l=new Hl(a.get(1),a.get(3)),c=new de(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function MC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends zE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(jE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ft("string",aa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Gc extends aa{data(e={}){return super.data(e)}}class co{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:VC(y.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:r})}}function kC(r){r=pi(r,Qt);const e=pi(r.firestore,ha);return _C(lg(e),r._key).then((i=>HE(e,r,i)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Ft("string",co._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class BE extends OC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function UC(r,e,i){r=pi(r,Qt);const a=pi(r.firestore,ha),l=MC(r.converter,e);return fg(a,[wC(kE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,yi.none())])}function zi(r,e,i,...a){r=pi(r,Qt);const l=pi(r.firestore,ha),c=kE(l);let d;return d=typeof(e=yn(e))=="string"||e instanceof xh?CC(c,"updateDoc",r._key,e,i,a):IC(c,"updateDoc",r._key,e),fg(l,[d.toMutation(r._key,yi.exists(!0))])}function LC(r){return fg(pi(r.firestore,ha),[new Gm(r._key,yi.none())])}function dv(r,...e){r=yn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||fv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof Qt)d=pi(r.firestore,ha),y=vh(r._key.path),c={next:g=>{e[a]&&e[a](HE(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=pi(r,Ch);d=pi(g.firestore,ha),y=g._query;const _=new BE(d);c={next:A=>{e[a]&&e[a](new co(d,_,g,A))},error:e[a+1],complete:e[a+2]},DC(r._query)}return(function(_,A,S,D){const F=new xE(D),ee=new EE(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>_E(await vm(_),ee))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>vE(await vm(_),ee)))}})(lg(d),y,l,c)}function fg(r,e){return(function(a,l){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>aC(await yC(a),l,c))),c.promise})(lg(r),e)}function HE(r,e,i){const a=i.docs.get(e._key),l=new BE(r);return new aa(r,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}function mv(...r){return new ug("arrayUnion",r)}(function(e,i=!0){(function(l){Ao=l})(To),ho(new oa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ha(new Sw(a.getProvider("auth-internal")),new Iw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),fr(_0,v0,e),fr(_0,v0,"esm2020")})();const PC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const e=zC(r);return e.charAt(0).toUpperCase()+e.slice(1)},qE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),jC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var BC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HC=ht.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>ht.createElement("svg",{ref:g,...BC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:qE("lucide",l),...!c&&!jC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>ht.createElement(_,A)),...Array.isArray(c)?c:[c]]));const nt=(r,e)=>{const i=ht.forwardRef(({className:a,...l},c)=>ht.createElement(HC,{ref:c,iconNode:e,className:qE(`lucide-${PC(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const qC=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],GC=nt("arrow-right-left",qC);const FC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=nt("book-open",FC);const QC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KC=nt("briefcase",QC);const YC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XC=nt("circle-check-big",YC);const $C=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],sa=nt("coins",$C);const ZC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JC=nt("copy",ZC);const WC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pv=nt("crown",WC);const ex=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],tx=nt("dice-5",ex);const nx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yv=nt("eye",nx);const ix=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],sx=nt("gavel",ix);const rx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],ax=nt("ghost",rx);const ox=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],lx=nt("hammer",ox);const ux=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],cx=nt("hand",ux);const hx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fx=nt("history",hx);const dx=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],mx=nt("hourglass",dx);const gx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=nt("log-out",gx);const px=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],yx=nt("moon",px);const _x=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],vx=nt("scale",_x);const Ex=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GE=nt("search",Ex);const Tx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bx=nt("shield",Tx);const Ax=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Sx=nt("skull",Ax);const wx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_v=nt("sparkles",wx);const Rx=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Ix=nt("sunrise",Rx);const Cx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xx=nt("trash-2",Cx);const Nx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FE=nt("triangle-alert",Nx);const Dx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],QE=nt("trophy",Dx);const Ox=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mx=nt("user",Ox);const Vx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kx=nt("users",Vx);const Ux=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hh=nt("x",Ux);const Lx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Px=nt("zap",Lx),zx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},KE=Ov(zx),Kd=Ew(KE),In=EC(KE),jn=typeof __app_id<"u"?__app_id:"guild-shadows",jx="15",Bx=3,Gt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:sa,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:cx,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:1,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:tx,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:Sx,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:sx,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:3,desc:"Copy effect of last Action card.",icon:JC,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:KC,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:GE,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:3,desc:"Immune to theft & assassination.",icon:bx,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:vx,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:FE,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},Hx=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],vv=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Ev=r=>r<=2?20:r===3?18:15,Yd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),qx=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),Vc=({cardId:r,onClick:e,disabled:i,highlight:a,small:l,tiny:c,turnsLeft:d,showCost:y=!0})=>{const g=Gt[r];if(!g)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsxs("div",{className:`relative w-5 h-7 md:w-6 md:h-8 rounded flex items-center justify-center ${g.bg} border ${g.border} shadow-sm`,title:g.name,children:[b.jsx(g.icon,{className:`${g.color} w-3 h-3`}),d!==void 0&&b.jsx("div",{className:"absolute -top-1 -right-1 bg-black text-[8px] text-white w-3 h-3 rounded-full flex items-center justify-center border border-gray-500",children:d})]});const _=l?"w-16 h-28 md:w-20 md:h-32 p-1.5":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",A=l?18:32;return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible
        ${_} ${g.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":g.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-gray-300",children:[b.jsx("span",{className:g.type==="AGENT"?"text-blue-300":"text-amber-200",children:g.type==="AGENT"?"AGT":"ACT"}),y&&g.cost>0&&b.jsxs("span",{className:"bg-black/50 px-1 rounded text-yellow-400 flex items-center gap-0.5",children:[g.cost," ",b.jsx(sa,{size:8})]})]}),b.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[b.jsx(g.icon,{className:`${g.color}`,size:A}),d!==void 0&&b.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[b.jsx(mx,{size:8,className:"text-gray-400"}),b.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),b.jsxs("div",{className:"w-full text-center",children:[b.jsx("div",{className:"font-bold text-white text-[9px] md:text-xs leading-tight mb-1 line-clamp-1",children:g.name}),b.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1
            ${l?"text-[8px] h-8 overflow-hidden":"text-[9px] h-auto p-1"}
        `,children:g.desc})]})]})},Tv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[b.jsx(Tm,{size:18})," Guild Archives"]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:b.jsx(hh,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[b.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[b.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[b.jsx(QE,{size:18,className:"text-yellow-400"})," Victory Condition"]}),b.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),b.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"4+ Players:"})," 15 Gold"]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(Px,{size:18})," Actions"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Gt.URCHIN,Gt.THIEF,Gt.HEIST,Gt.ASSASSIN,Gt.BLACKMAIL,Gt.DOPPELGANGER].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(kx,{size:18})," Agents"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Gt.MERCHANT,Gt.LOOKOUT,Gt.BODYGUARD,Gt.POLITICIAN,Gt.SABOTEUR].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[b.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",b.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",b.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),YE=({title:r,children:e,onClose:i,icon:a,colorClass:l,borderColor:c})=>b.jsx("div",{className:"absolute bottom-[200px] left-1/2 -translate-x-1/2 z-[100] w-72 md:w-80 animate-in slide-in-from-bottom-5 fade-in duration-300",children:b.jsxs("div",{className:`bg-gray-900/95 backdrop-blur-md border-2 ${c} rounded-xl shadow-[0_0_30px_rgba(0,0,0,0.5)] overflow-hidden flex flex-col`,children:[b.jsxs("div",{className:`p-3 border-b ${c} bg-black/40 flex justify-between items-center`,children:[b.jsxs("div",{className:`font-bold flex items-center gap-2 ${l}`,children:[b.jsx(a,{size:18})," ",r]}),b.jsx("button",{onClick:i,className:"hover:bg-white/10 rounded p-1 transition-colors",children:b.jsx(hh,{size:16})})]}),b.jsx("div",{className:"p-4 text-sm text-gray-200",children:e})]})}),Gx=({report:r,onClose:e})=>r?b.jsx(YE,{title:"Morning Report",icon:Ix,colorClass:"text-purple-300",borderColor:"border-purple-500/50",onClose:e,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"bg-black/40 p-2 rounded border border-gray-700",children:[b.jsx("div",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1",children:"Income"}),r.breakdown&&r.breakdown.length>0?b.jsxs("div",{className:"space-y-1",children:[r.breakdown.map((i,a)=>b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-gray-300",children:i.source}),b.jsxs("span",{className:"text-green-400 font-mono",children:["+",i.amount]})]},a)),b.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1 flex justify-between font-bold",children:[b.jsx("span",{children:"Total"}),b.jsxs("span",{className:"text-green-400",children:["+",r.income]})]})]}):b.jsx("div",{className:"text-xs text-gray-500 italic",children:"No income generated."})]}),r.expired.length>0&&b.jsxs("div",{className:"bg-red-900/20 p-2 rounded border border-red-900/40",children:[b.jsxs("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1 flex items-center gap-1",children:[b.jsx(bm,{size:10})," Departed Agents"]}),b.jsx("div",{className:"flex flex-wrap gap-1",children:r.expired.map((i,a)=>b.jsx("span",{className:"text-[10px] text-gray-300 bg-black/40 px-1.5 py-0.5 rounded border border-gray-700",children:Gt[i]?.name},a))})]})]})}):null,Fx=({report:r,onClose:e})=>r?b.jsx(YE,{title:"Evening Report",icon:yx,colorClass:"text-indigo-300",borderColor:"border-indigo-500/50",onClose:e,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Action"}),b.jsx("div",{className:"font-bold text-white text-lg",children:r.actionName})]}),b.jsxs("div",{className:"bg-black/40 p-2 rounded border border-gray-700 space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-gray-400",children:"Cost"}),b.jsxs("span",{className:"text-red-400 font-mono",children:["-",r.cost]})]}),r.tax>0&&b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-red-400",children:"Saboteur Tax"}),b.jsxs("span",{className:"text-red-400 font-mono",children:["-",r.tax]})]}),r.gains.map((i,a)=>b.jsxs("div",{className:"flex justify-between text-xs border-t border-gray-800 pt-1 mt-1",children:[b.jsx("span",{className:"text-gray-300",children:i.desc}),b.jsxs("span",{className:"text-green-400 font-mono",children:["+",i.amount]})]},a)),b.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1 flex justify-between font-bold",children:[b.jsx("span",{children:"Net Change"}),b.jsxs("span",{className:r.netChange>=0?"text-green-400":"text-red-400",children:[r.netChange>0?"+":"",r.netChange]})]})]})]})}):null;function Qx(){const[r,e]=ht.useState(null),[i,a]=ht.useState("menu"),[l,c]=ht.useState(""),[d,y]=ht.useState(""),[g,_]=ht.useState(null),[A,S]=ht.useState(""),[D,F]=ht.useState(localStorage.getItem("guild_room_id")||""),[ee,se]=ht.useState(!1),[J,he]=ht.useState(null),[be,ge]=ht.useState(null),[Ze,et]=ht.useState(!1),[Ue,x]=ht.useState(!1),[w,I]=ht.useState(!1),[V,N]=ht.useState(null),[U,R]=ht.useState(null),[ft,Tt]=ht.useState(null),[q,ne]=ht.useState(null),[ce,Oe]=ht.useState(null);ht.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await a2(Kd,__initial_auth_token):await t2(Kd))(),u2(Kd,e)),[]),ht.useEffect(()=>{const G=W=>{if(D)return W.preventDefault(),W.returnValue="",""};return window.addEventListener("beforeunload",G),()=>window.removeEventListener("beforeunload",G)},[D]),ht.useEffect(()=>{if(!(!D||!r))return dv(Rn(In,"artifacts",jn,"public","data","rooms",D),G=>{if(G.exists()){const W=G.data();if(!W.players.some(Ie=>Ie.id===r.uid)){F(""),a("menu"),S("You have been removed from the guild.");return}_(W),W.status==="playing"&&W.turnReport&&W.turnReport.playerId===r.uid&&!W.turnReport.seen&&(ne(W.turnReport),Oe(null)),W.status==="playing"&&W.eveningReport&&W.eveningReport.playerId===r.uid&&!W.eveningReport.seen&&(Oe(W.eveningReport),ne(null)),W.status==="lobby"?a("lobby"):(W.status==="playing"||W.status==="finished")&&a("game")}else F(""),a("menu"),S("The Guild Hall was disbanded by the host.")},G=>console.error(G))},[D,r]),ht.useEffect(()=>{const G=dv(Rn(In,"game_hub_settings","config"),W=>{W.exists()&&W.data()[jx]?.maintenance?se(!0):se(!1)});return()=>G()},[]);const Ye=(G,W,Ee,Ie)=>{ge({type:G,message:W,subtext:Ee,icon:Ie}),setTimeout(()=>ge(null),2500)},M=async()=>{if(!l)return S("Enter Alias");const G=Math.random().toString(36).substring(2,7).toUpperCase();await UC(Rn(In,"artifacts",jn,"public","data","rooms",G),{roomId:G,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null}),F(G),localStorage.setItem("guild_room_id",G),setLoading(!1)},Y=async()=>{if(!d||!l)return S("Enter Info");const G=Rn(In,"artifacts",jn,"public","data","rooms",d),W=await kC(G);if(!W.exists())return S("Invalid Room");const Ee=W.data();if(Ee.status!=="lobby")return S("Game Started");if(Ee.players.length>=6)return S("Room Full");await zi(G,{players:[...Ee.players,{id:r.uid,name:l,gold:0,hand:[],tableau:[],ready:!1}]}),F(d),localStorage.setItem("guild_room_id",d),setLoading(!1)},ie=async G=>{if(g.hostId!==r.uid)return;const W=g.players.filter(Ee=>Ee.id!==G);await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{players:W})},re=async()=>{if(g){if(g.hostId===r.uid)await LC(Rn(In,"artifacts",jn,"public","data","rooms",D));else{const G=g.players.filter(W=>W.id!==r.uid);await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{players:G})}F(""),localStorage.removeItem("guild_room_id"),a("menu"),I(!1)}},ye=async()=>{if(g.hostId!==r.uid)return;const G=vv([...Hx]),W=g.players.map(Ee=>({...Ee,hand:[G.pop(),G.pop()],tableau:[],gold:2,ready:!1}));await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{status:"playing",deck:G,players:W,turnIndex:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null})},Re=async()=>{const G=g.players.map(W=>W.id===r.uid?{...W,ready:!W.ready}:W);await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{players:G})},Me=async()=>{if(g.hostId!==r.uid)return;const G=g.players.map(W=>({...W,hand:[],tableau:[],gold:0,ready:!1}));await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:G}),I(!1)},bt=(G,W)=>{let Ee=0;return G.forEach(Ie=>{if(Ie.id!==W){const gt=Ie.tableau.filter(at=>at.cardId==="SABOTEUR").length;Ee+=gt}}),Ee},mt=(G,W)=>{G.forEach(Ee=>{if(Ee.id!==W){const Ie=Ee.tableau.filter(gt=>gt.cardId==="POLITICIAN").length;Ie>0&&(Ee.gold+=Ie)}})},_i=async(G,W,Ee,Ie,gt=null,at=null)=>{let Te=(g.turnIndex+1)%G.length,Fe=G[Te];const He=[],qe=[];Fe.tableau.forEach(Ke=>{Ke.turnsLeft-=1,Ke.turnsLeft<=0?(He.push(Ke.cardId),Ee.push(Ke.cardId)):qe.push(Ke)}),Fe.tableau=qe;let At=0;const Nt=[];Nt.push({source:"Guild Stipend",amount:1}),At+=1,Fe.tableau.forEach(Ke=>{Ke.cardId==="MERCHANT"&&(Nt.push({source:"Silk Trader",amount:1}),At+=1)}),Fe.gold===0&&(Nt.push({source:"Pity Bonus",amount:1}),At+=1),Fe.gold+=At,He.length>0&&Ie.push({text:`${Fe.name} lost ${He.length} agents to time.`,type:"warning",id:Date.now()}),Ie.push({text:`${Fe.name} begins turn (+${At} Gold).`,type:"neutral",id:Date.now()+1});const Dt={playerId:Fe.id,income:At,breakdown:Nt,expired:He,seen:!1},Gn=Ev(G.length);if(Fe.gold>=Gn){const Ke=G.map(_n=>({..._n,ready:!1}));await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{players:Ke,status:"finished",winnerId:Fe.id,logs:mv({text:` ${Fe.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}W.length===0&&(Ee.length>0?(W=vv([...Ee]),Ee=[],Ie.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):Ie.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),W.length>0&&Fe.hand.push(W.pop()),await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{players:G,deck:W,discardPile:Ee,turnIndex:Te,logs:mv(...Ie),lastAction:gt!==null?gt:g.lastAction,turnReport:Dt,eveningReport:at})},Ss=async(G,W,Ee,Ie,gt,at,Te,Fe,He)=>{const qe=Ie[Fe],At=Gt[G];let Nt=[],Dt=-(At.cost+He);qe.gold-=At.cost+He,At.type==="ACTION"&&mt(Ie,qe.id);const Gn=qe.hand.indexOf(G);Gn>-1&&qe.hand.splice(Gn,1);let Ke=g.lastAction;if(At.type==="AGENT")qe.tableau.push({cardId:G,turnsLeft:Bx}),Te.push({text:` ${qe.name} recruited ${At.name}.`,type:"success",id:Date.now()}),Nt.push({desc:"Recruited Agent",amount:0});else if(at.push(G),Ke={cardId:G,playerId:qe.id},G==="URCHIN")qe.gold+=2,Dt+=2,Nt.push({desc:"Street Urchin",amount:2}),Te.push({text:` ${qe.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()});else if(G==="HEIST")Math.floor(Math.random()*6)+1>=4?(qe.gold+=5,Dt+=5,Nt.push({desc:"Heist Success",amount:5}),Te.push({text:` ${qe.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()})):(Nt.push({desc:"Heist Failed",amount:0}),Te.push({text:` ${qe.name}'s Heist failed.`,type:"failure",id:Date.now()}));else if(G==="THIEF"){const De=Ie.find(_e=>_e.id===W);if(De.tableau.some(_e=>_e.cardId==="BODYGUARD"))Nt.push({desc:"Thief Blocked",amount:0}),Te.push({text:` ${De.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()});else{const _e=Math.min(De.gold,2);De.gold-=_e,qe.gold+=_e,Dt+=_e,Nt.push({desc:`Stole from ${De.name}`,amount:_e}),Te.push({text:` ${qe.name} stole ${_e} Gold from ${De.name}.`,type:"danger",id:Date.now()})}}else if(G==="ASSASSIN"){const De=Ie.find(_e=>_e.id===W);if(De.tableau.some(_e=>_e.cardId==="BODYGUARD"))Te.push({text:` ${De.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()});else if(Ee!==null&&De.tableau[Ee]){const _e=De.tableau[Ee];De.tableau.splice(Ee,1),at.push(_e.cardId),Te.push({text:` ${qe.name} assassinated ${De.name}'s ${Gt[_e.cardId].name}!`,type:"danger",id:Date.now()})}}else if(G==="BLACKMAIL"){const De=Ie.find(_e=>_e.id===W);if(De.tableau.some(_e=>_e.cardId==="BODYGUARD"))Te.push({text:` ${De.name} blocked Blackmail.`,type:"warning",id:Date.now()});else if(Ee==="GOLD"){const _e=Math.min(De.gold,4);De.gold-=_e,qe.gold+=_e,Dt+=_e,Nt.push({desc:"Blackmail Gold",amount:_e}),Te.push({text:` ${qe.name} blackmailed ${De.name} for ${_e} Gold.`,type:"danger",id:Date.now()})}else{const _e=parseInt(Ee);if(!isNaN(_e)&&De.tableau[_e]){const xr=De.tableau[_e];De.tableau.splice(_e,1),qe.tableau.push(xr),Te.push({text:` ${qe.name} blackmailed ${De.name}'s ${Gt[xr.cardId].name}.`,type:"danger",id:Date.now()})}}}else if(G==="DOPPELGANGER"){const De=g.lastAction;if(!De||De.cardId==="DOPPELGANGER")Te.push({text:` ${qe.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()});else{Te.push({text:` ${qe.name} copies ${Gt[De.cardId].name}...`,type:"neutral",id:Date.now()});const _e=De.cardId;["URCHIN","HEIST"].includes(_e)?(_e==="URCHIN"&&(qe.gold+=2,Dt+=2,Nt.push({desc:"Copied Urchin",amount:2})),_e==="HEIST"&&Math.floor(Math.random()*6)+1>=4&&(qe.gold+=5,Dt+=5,Nt.push({desc:"Copied Heist",amount:5}))):(qe.gold+=3,Dt+=3,Nt.push({desc:"Copied Complex Action",amount:3}),Te.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}))}}const _n={playerId:qe.id,actionName:At.name,cost:At.cost,tax:He,gains:Nt,netChange:Dt,seen:!1};he(null),N(null),R(null),await _i(Ie,gt,at,Te,Ke,_n)},ws=G=>{if(V==="SCOUT"){Rr(G);return}const W=g.players[g.turnIndex].hand[G],Ee=Gt[W],Ie=g.players[g.turnIndex],gt=Ee.type==="ACTION"?bt(g.players,Ie.id):0;if(Ie.gold<Ee.cost+gt){Ye("failure","Insufficient Funds",`Cost: ${Ee.cost} + ${gt} Tax`,sa);return}he(G),W==="THIEF"||W==="ASSASSIN"||W==="BLACKMAIL"?N("PLAYER"):(W==="DOPPELGANGER"||Ee.type==="AGENT"||W==="URCHIN"||W==="HEIST")&&qn(G,null,null)},Rs=G=>{if(!V)return;const W=g.players[g.turnIndex].hand[J];W==="THIEF"?qn(J,G,null):W==="ASSASSIN"?(R(G),N("CARD")):W==="BLACKMAIL"&&(R(G),N("OPTION"))},Hn=G=>{V==="CARD"&&U&&qn(J,U,G)},Sr=G=>{V==="OPTION"&&U&&qn(J,U,G)},qn=async(G,W,Ee)=>{const Ie=JSON.parse(JSON.stringify(g.players)),gt=[...g.deck],at=[...g.discardPile],Te=[],Fe=Ie.find(At=>At.id===r.uid),He=Fe.hand[G],qe=Gt[He].type==="ACTION"?bt(Ie,Fe.id):0;await Ss(He,W,Ee,Ie,gt,at,Te,g.turnIndex,qe)},wr=()=>{N("SCOUT"),Ye("success","Scout Mode","Select a card to discard",yv)},Rr=async G=>{const W=JSON.parse(JSON.stringify(g.players)),Ee=g.turnIndex,Ie=W[Ee],gt=[...g.deck],at=[...g.discardPile],Te=[],Fe=Ie.hand.splice(G,1)[0];at.push(Fe),gt.length>0&&Ie.hand.push(gt.pop()),Te.push({text:`zzz ${Ie.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const He={playerId:Ie.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1};he(null),N(null),await _i(W,gt,at,Te,null,He)},Rt=()=>{g.deck.length!==0&&(Tt(g.deck[g.deck.length-1]),setTimeout(()=>Tt(null),3e3))},xt=async()=>{ne(null),D&&g&&await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{"turnReport.seen":!0})},vi=async()=>{Oe(null),D&&g&&await zi(Rn(In,"artifacts",jn,"public","data","rooms",D),{"eveningReport.seen":!0})};if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(lx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(_v,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(_v,{size:16})]})})})})]});if(!i)return b.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return b.jsxs("div",{style:{overscrollBehavior:"none"},className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Yd,{}),b.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[b.jsx(ax,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),b.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),b.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2 text-xs md:text-sm",children:"In Shadows We Trust"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:l,onChange:G=>c(G.target.value)}),b.jsxs("button",{onClick:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg",children:[b.jsx(pv,{size:18})," Establish Guild"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:G=>y(G.target.value.toUpperCase())}),b.jsx("button",{onClick:Y,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold",children:"Join"})]}),b.jsxs("button",{onClick:()=>et(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(Tm,{size:14})," Guild Archives"]})]}),Ze&&b.jsx(Tv,{onClose:()=>et(!1)})]});if(i==="lobby"&&g){const G=g.hostId===r.uid;return b.jsxs("div",{style:{overscrollBehavior:"none"},className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[b.jsx(Yd,{}),b.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Room:"," ",b.jsx("span",{className:"text-white font-mono",children:g.roomId})]}),b.jsx("button",{onClick:re,className:"text-red-400 hover:text-red-300",children:b.jsx(bm,{size:20})})]}),b.jsxs("div",{className:"space-y-2 mb-6",children:[b.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),g.players.map(W=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(Mx,{size:14})," ",W.name,W.id===g.hostId&&b.jsx(pv,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(XC,{size:12})," Ready"]}),G&&W.id!==r.uid&&b.jsx("button",{onClick:()=>ie(W.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(xx,{size:14})})]})]},W.id))]}),G?b.jsx("button",{onClick:ye,disabled:g.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${g.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Game"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]})]})}const ma=g.players.findIndex(G=>G.id===r.uid),Nn=g.players[ma],Kt=g.turnIndex===ma;J!==null&&Gt[Nn.hand[J]];const Ei=bt(g.players,Nn.id),Ir=Ev(g.players.length),Cr=Nn.tableau.some(G=>G.cardId==="LOOKOUT");return b.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[b.jsx(Yd,{}),be&&b.jsx(qx,{...be}),q&&b.jsx(Gx,{report:q,onClose:xt}),ce&&b.jsx(Fx,{report:ce,onClose:vi}),ft&&b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>Tt(null),children:b.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center",children:[b.jsx("div",{className:"text-white font-bold mb-4 text-xl",children:"Top of Deck"}),b.jsx(Vc,{cardId:ft}),b.jsx("div",{className:"mt-4 text-gray-400 text-sm",children:"(Tap to close)"})]})}),b.jsxs("div",{className:"h-12 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-3 z-30 shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline",children:"GUILD OF SHADOWS"}),b.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-[10px] px-2 py-0.5 rounded border border-purple-800/50",children:["Goal: ",Ir," ",b.jsx(sa,{size:8,className:"inline"})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>x(!Ue),className:"p-1.5 text-gray-400 hover:bg-gray-800 rounded relative",children:[b.jsx(fx,{size:18}),g.logs.length>0&&b.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]}),b.jsx("button",{onClick:()=>et(!0),className:"p-1.5 text-gray-400 hover:bg-gray-800 rounded",children:b.jsx(Tm,{size:18})}),b.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-red-400 hover:bg-red-900/30 rounded",children:b.jsx(bm,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-2 pb-32",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:g.players.map((G,W)=>{if(G.id===r.uid)return null;const Ee=g.turnIndex===W,Ie=V==="PLAYER",gt=U===G.id;return b.jsxs("div",{onClick:()=>Ie?Rs(G.id):null,className:`
                        relative bg-gray-900/60 p-2 rounded-lg border transition-all
                        ${Ee?"border-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.3)]":"border-gray-800"}
                        ${Ie?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${gt?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-bold text-gray-300 flex items-center gap-1",children:G.name}),b.jsxs("span",{className:"text-[10px] text-yellow-500 flex items-center gap-1 font-mono bg-black/30 px-1 rounded w-fit mt-0.5",children:[G.gold," ",b.jsx(sa,{size:8})]})]}),b.jsx("div",{className:"flex gap-0.5",children:G.hand.map((at,Te)=>b.jsx("div",{className:"w-2 h-3 bg-purple-900 rounded-[1px] border border-purple-700/50"},Te))})]}),b.jsxs("div",{className:"flex flex-wrap gap-1",children:[G.tableau.map((at,Te)=>b.jsx("div",{onClick:Fe=>{Fe.stopPropagation(),Hn(Te)},className:`${V==="CARD"&&gt?"animate-pulse cursor-pointer ring-1 ring-red-400":""}`,children:b.jsx(Vc,{cardId:at.cardId,turnsLeft:at.turnsLeft,tiny:!0})},Te)),G.tableau.length===0&&b.jsx("div",{className:"h-8 w-full flex items-center justify-center text-[9px] text-gray-700 italic",children:"Empty Hall"})]})]},G.id)})}),b.jsx("div",{className:"mt-4 flex flex-col items-center space-y-1 opacity-70 pointer-events-none",children:g.logs.slice(-3).reverse().map(G=>b.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded-full backdrop-blur-sm ${G.type==="danger"?"bg-red-900/50 text-red-200":"bg-gray-800/50 text-gray-300"}`,children:G.text},G.id))})]}),b.jsxs("div",{className:"bg-gray-900 border-t border-purple-900/30 p-2 pb-safe z-40 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-yellow-400 font-black text-xl flex items-center gap-1.5 drop-shadow-sm",children:[b.jsx(sa,{className:"fill-yellow-400/20",size:20})," ",Nn.gold]}),Ei>0&&b.jsxs("div",{className:"text-[10px] text-red-400 flex items-center gap-0.5 bg-red-900/20 px-1.5 py-0.5 rounded border border-red-900/50",children:["Taxed: +",Ei," ",b.jsx(sa,{size:8})]})]}),b.jsx("div",{className:"flex gap-1 overflow-x-auto max-w-[50%] no-scrollbar items-center",children:Nn.tableau.map((G,W)=>b.jsx("div",{className:"shrink-0",children:b.jsx(Vc,{cardId:G.cardId,turnsLeft:G.turnsLeft,tiny:!0})},W))})]}),b.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 px-1 min-h-[140px] items-end no-scrollbar",children:[Nn.hand.length===0&&b.jsx("div",{className:"text-gray-600 text-xs italic w-full text-center py-4",children:"Hand Empty"}),Nn.hand.map((G,W)=>b.jsx("div",{className:`transition-transform duration-200 ${J===W?"-translate-y-4":""}`,children:b.jsx(Vc,{cardId:G,small:!0,onClick:()=>Kt?ws(W):null,disabled:!Kt||V!==null&&V!=="SCOUT"&&J!==W,highlight:J===W})},W))]}),Kt&&b.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 w-full px-4 pointer-events-none",children:[V==="SCOUT"&&b.jsxs("div",{className:"pointer-events-auto bg-black/90 backdrop-blur text-white px-6 py-4 rounded-xl border border-blue-500 shadow-2xl animate-in zoom-in flex flex-col items-center gap-2",children:[b.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-400",children:[b.jsx(yv,{size:20})," Scout Mode"]}),b.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Tap a card in your hand to discard it and draw a new one."}),b.jsx("button",{onClick:()=>N(null),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-full text-xs mt-2",children:"Cancel"})]}),V==="PLAYER"&&b.jsxs("div",{className:"pointer-events-auto bg-black/80 backdrop-blur text-white px-4 py-2 rounded-full border border-red-500 shadow-lg animate-bounce text-sm font-bold flex items-center gap-2",children:[b.jsx(FE,{size:16,className:"text-red-500"})," Tap a Player to Target",b.jsx("button",{onClick:()=>{N(null),he(null)},className:"bg-gray-700 rounded-full p-1 ml-2",children:b.jsx(hh,{size:12})})]}),V==="CARD"&&b.jsxs("div",{className:"pointer-events-auto bg-black/80 backdrop-blur text-white px-4 py-2 rounded-full border border-red-500 shadow-lg text-sm font-bold",children:["Select an Agent to Destroy",b.jsx("button",{onClick:()=>{N("PLAYER"),R(null)},className:"text-[10px] underline ml-2 text-gray-400",children:"Back"})]}),V==="OPTION"&&b.jsxs("div",{className:"pointer-events-auto flex gap-2 animate-in slide-in-from-bottom-5",children:[b.jsxs("button",{onClick:()=>Sr("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-4 py-3 rounded-xl font-bold shadow-lg flex flex-col items-center leading-tight border border-yellow-500",children:[b.jsx("span",{className:"text-xs font-normal",children:"Steal"}),b.jsx("span",{children:"4 Gold"})]}),b.jsxs("button",{onClick:()=>N("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold shadow-lg flex flex-col items-center leading-tight border border-blue-500",children:[b.jsx("span",{className:"text-xs font-normal",children:"Steal"}),b.jsx("span",{children:"Agent"})]})]}),!V&&J===null&&b.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[Cr&&b.jsxs("button",{onClick:Rt,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-4 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 text-sm",children:[b.jsx(GE,{size:14})," Peek"]}),b.jsxs("button",{onClick:wr,className:"bg-gray-800/90 backdrop-blur hover:bg-gray-700 text-gray-300 border border-gray-600 px-6 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 text-sm",children:["Pass & Scout ",b.jsx(GC,{size:14})]})]}),J!==null&&!V&&b.jsx("button",{onClick:()=>he(null),className:"pointer-events-auto bg-black/60 text-white px-4 py-1 rounded-full text-xs mb-2",children:"Cancel"})]})]})]}),Ue&&b.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[100] p-6 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),b.jsx("button",{onClick:()=>x(!1),children:b.jsx(hh,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...g.logs].reverse().map(G=>b.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${G.type==="danger"?"bg-red-900/20 border-red-500":G.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[b.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(G.id).toLocaleTimeString()}),G.text]},G.id))})]}),w&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>I(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),g.hostId===r.uid&&b.jsx("button",{onClick:Me,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:re,className:"bg-red-600 py-3 rounded font-bold",children:g.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),g.status==="finished"&&b.jsxs("div",{className:"absolute inset-0 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[b.jsx(QE,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[g.players.find(G=>G.id===g.winnerId)?.name," ","is the new Guild Master!"]}),b.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[b.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),b.jsx("div",{className:"space-y-2",children:g.players.map(G=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:G.name}),b.jsx("span",{className:G.ready?"text-green-400 font-bold":"text-gray-500",children:G.ready?"READY":"WAITING"})]},G.id))})]}),b.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[Nn.ready?b.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):b.jsx("button",{onClick:Re,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),g.hostId===r.uid&&b.jsx("button",{onClick:Me,disabled:!g.players.every(G=>G.ready),className:`py-3 rounded-lg font-bold transition-all ${g.players.every(G=>G.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),Ze&&b.jsx(Tv,{onClose:()=>et(!1)})]})}Vb.createRoot(document.getElementById("root")).render(b.jsx(ht.StrictMode,{children:b.jsx(Qx,{})}));
