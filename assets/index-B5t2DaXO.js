(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},Co={};var L_;function xb(){if(L_)return Co;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var P_;function Nb(){return P_||(P_=1,Nd.exports=xb()),Nd.exports}var b=Nb(),Dd={exports:{}},Se={};var z_;function Db(){if(z_)return Se;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function pe(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=pe.prototype;function ge(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}var $e=ge.prototype=new me;$e.constructor=ge,se($e,pe.prototype),$e.isPureReactComponent=!0;var lt=Array.isArray;function Pe(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Y,ie){var re=ie.ref;return{$$typeof:r,type:O,key:Y,ref:re!==void 0?re:null,props:ie}}function k(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function We(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pe,Pe):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,re,Ee){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case r:case e:ze=!0;break;case A:return ze=O._init,G(ze(O._payload),Y,ie,re,Ee)}}if(ze)return Ee=Ee(O),ze=re===""?"."+We(O,0):re,lt(Ee)?(ie="",ze!=null&&(ie=ze.replace(R,"$&/")+"/"),G(Ee,Y,ie,"",function(Ki){return Ki})):Ee!=null&&(N(Ee)&&(Ee=k(Ee,ie+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+ze)),Y.push(Ee)),1;ze=0;var wt=re===""?".":re+":";if(lt(O))for(var gt=0;gt<O.length;gt++)re=O[gt],Re=wt+We(re,gt),ze+=G(re,Y,ie,Re,Ee);else if(gt=F(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(re=O.next()).done;)re=re.value,Re=wt+We(re,gt++),ze+=G(re,Y,ie,Re,Ee);else if(Re==="object"){if(typeof O.then=="function")return G(bt(O),Y,ie,re,Ee);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ne(O,Y,ie){if(O==null)return O;var re=[],Ee=0;return G(O,re,"","",function(Re){return Y.call(ie,Re,Ee++)}),re}function ce(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=S,Se.Children=Ke,Se.Component=pe,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=ge,Se.StrictMode=a,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),Ee=O.key;if(Y!=null)for(Re in Y.key!==void 0&&(Ee=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(re[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)re.children=ie;else if(1<Re){for(var ze=Array(Re),wt=0;wt<Re;wt++)ze[wt]=arguments[wt+2];re.children=ze}return C(O.type,Ee,re)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,Y,ie){var re,Ee={},Re=null;if(Y!=null)for(re in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var ze=arguments.length-2;if(ze===1)Ee.children=ie;else if(1<ze){for(var wt=Array(ze),gt=0;gt<ze;gt++)wt[gt]=arguments[gt+2];Ee.children=wt}if(O&&O.defaultProps)for(re in ze=O.defaultProps,ze)Ee[re]===void 0&&(Ee[re]=ze[re]);return C(O,Re,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:y,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ce}},Se.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Se.startTransition=function(O){var Y=x.T,ie={};x.T=ie;try{var re=O(),Ee=x.S;Ee!==null&&Ee(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Pe,Ve)}catch(Re){Ve(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),x.T=Y}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(O){return x.H.use(O)},Se.useActionState=function(O,Y,ie){return x.H.useActionState(O,Y,ie)},Se.useCallback=function(O,Y){return x.H.useCallback(O,Y)},Se.useContext=function(O){return x.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},Se.useEffect=function(O,Y){return x.H.useEffect(O,Y)},Se.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(O,Y,ie){return x.H.useImperativeHandle(O,Y,ie)},Se.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},Se.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},Se.useMemo=function(O,Y){return x.H.useMemo(O,Y)},Se.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},Se.useReducer=function(O,Y,ie){return x.H.useReducer(O,Y,ie)},Se.useRef=function(O){return x.H.useRef(O)},Se.useState=function(O){return x.H.useState(O)},Se.useSyncExternalStore=function(O,Y,ie){return x.H.useSyncExternalStore(O,Y,ie)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.3",Se}var j_;function Im(){return j_||(j_=1,Dd.exports=Db()),Dd.exports}var rt=Im(),Od={exports:{}},xo={},Md={exports:{}},Vd={};var B_;function Ob(){return B_||(B_=1,(function(r){function e(G,ne){var ce=G.length;G.push(ne);e:for(;0<ce;){var Ve=ce-1>>>1,Ke=G[Ve];if(0<o(Ke,ne))G[Ve]=ne,G[ce]=Ke,ce=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ce=G.pop();if(ce!==ne){G[0]=ce;e:for(var Ve=0,Ke=G.length,O=Ke>>>1;Ve<O;){var Y=2*(Ve+1)-1,ie=G[Y],re=Y+1,Ee=G[re];if(0>o(ie,ce))re<Ke&&0>o(Ee,ie)?(G[Ve]=Ee,G[re]=ce,Ve=re):(G[Ve]=ie,G[Y]=ce,Ve=Y);else if(re<Ke&&0>o(Ee,ce))G[Ve]=Ee,G[re]=ce,Ve=re;else break e}}return ne}function o(G,ne){var ce=G.sortIndex-ne.sortIndex;return ce!==0?ce:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],_=[],A=1,S=null,M=3,F=!1,W=!1,se=!1,ee=!1,pe=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function $e(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function lt(G){if(se=!1,$e(G),!W)if(i(g)!==null)W=!0,Pe||(Pe=!0,V());else{var ne=i(_);ne!==null&&bt(lt,ne.startTime-G)}}var Pe=!1,x=-1,w=5,C=-1;function k(){return ee?!0:!(r.unstable_now()-C<w)}function N(){if(ee=!1,Pe){var G=r.unstable_now();C=G;var ne=!0;try{e:{W=!1,se&&(se=!1,me(x),x=-1),F=!0;var ce=M;try{t:{for($e(G),S=i(g);S!==null&&!(S.expirationTime>G&&k());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,M=S.priorityLevel;var Ke=Ve(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,$e(G),ne=!0;break t}S===i(g)&&a(g),$e(G)}else a(g);S=i(g)}if(S!==null)ne=!0;else{var O=i(_);O!==null&&bt(lt,O.startTime-G),ne=!1}}break e}finally{S=null,M=ce,F=!1}ne=void 0}}finally{ne?V():Pe=!1}}}var V;if(typeof ge=="function")V=function(){ge(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,We=R.port2;R.port1.onmessage=N,V=function(){We.postMessage(null)}}else V=function(){pe(N,0)};function bt(G,ne){x=pe(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ce=M;M=ne;try{return G()}finally{M=ce}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=M;M=G;try{return ne()}finally{M=ce}},r.unstable_scheduleCallback=function(G,ne,ce){var Ve=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ve+ce:Ve):ce=Ve,G){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ce+Ke,G={id:A++,callback:ne,priorityLevel:G,startTime:ce,expirationTime:Ke,sortIndex:-1},ce>Ve?(G.sortIndex=ce,e(_,G),i(g)===null&&G===i(_)&&(se?(me(x),x=-1):se=!0,bt(lt,ce-Ve))):(G.sortIndex=Ke,e(g,G),W||F||(W=!0,Pe||(Pe=!0,V()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var ne=M;return function(){var ce=M;M=ne;try{return G.apply(this,arguments)}finally{M=ce}}}})(Vd)),Vd}var H_;function Mb(){return H_||(H_=1,Md.exports=Ob()),Md.exports}var kd={exports:{}},hn={};var q_;function Vb(){if(q_)return hn;q_=1;var r=Im();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,A)},hn.flushSync=function(g){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=A,a.d.f()}},hn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},hn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},hn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&a.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},hn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(g,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},hn.requestFormReset=function(g){a.d.r(g)},hn.unstable_batchedUpdates=function(g,_){return g(_)},hn.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var G_;function kb(){if(G_)return kd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Vb(),kd.exports}var F_;function Ub(){if(F_)return xo;F_=1;var r=Mb(),e=Im(),i=kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case ee:return"StrictMode";case lt:return"Suspense";case Pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ge:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:We(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return We(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ve=[],Ke=-1;function O(t){return{current:t}}function Y(t){0>Ke||(t.current=Ve[Ke],Ve[Ke]=null,Ke--)}function ie(t,n){Ke++,Ve[Ke]=t.current,t.current=n}var re=O(null),Ee=O(null),Re=O(null),ze=O(null);function wt(t,n){switch(ie(Re,n),ie(Ee,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=l_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function gt(){Y(re),Y(Ee),Y(Re)}function Ki(t){t.memoizedState!==null&&ie(ze,t);var n=re.current,s=l_(n,t.type);n!==s&&(ie(Ee,t),ie(re,s))}function Yi(t){Ee.current===t&&(Y(re),Y(Ee)),ze.current===t&&(Y(ze),So._currentValue=ce)}var Ei,Is;function En(t){if(Ei===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ei=n&&n[1]||"",Is=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+t+Is}var Ir=!1;function Xi(t,n){if(!t||Ir)return"";Ir=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){j=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ir=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?En(s):""}function Cr(t,n){switch(t.tag){case 26:case 27:case 5:return En(t.type);case 16:return En("Lazy");case 13:return t.child!==n&&n!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return Xi(t.type,!1);case 11:return Xi(t.type.render,!1);case 1:return Xi(t.type,!0);case 31:return En("Activity");default:return""}}function xr(t){try{var n="",s=null;do n+=Cr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Rt=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Tn=r.unstable_cancelCallback,Il=r.unstable_shouldYield,fa=r.unstable_requestPaint,Wt=r.unstable_now,$i=r.unstable_getCurrentPriorityLevel,Cs=r.unstable_ImmediatePriority,pn=r.unstable_UserBlockingPriority,qn=r.unstable_NormalPriority,da=r.unstable_LowPriority,ma=r.unstable_IdlePriority,ga=r.log,q=r.unstable_setDisableYieldValue,Z=null,oe=null;function fe(t){if(typeof ga=="function"&&q(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Z,t)}catch{}}var Ae=Math.clz32?Math.clz32:tt,ot=Math.log,xe=Math.LN2;function tt(t){return t>>>=0,t===0?32:31-(ot(t)/xe|0)|0}var pt=256,Ne=262144,ke=4194304;function dt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dt(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=dt(l):(p&=E,p!==0?h=dt(p):s||(s=E&~t,s!==0&&(h=dt(s))))):(E=l&~f,E!==0?h=dt(E):p!==0?h=dt(p):s||(s=l&~t,s!==0&&(h=dt(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function cn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var t=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),t}function Gn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Me(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function De(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-Ae(s),X=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&ai(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ai(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ae(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Cl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ae(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function xl(t,n){var s=n&-n;return s=(s&42)!==0?1:Nr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function li(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var oi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+oi,Xt="__reactProps$"+oi,Ti="__reactContainer$"+oi,pa="__reactEvents$"+oi,kh="__reactListeners$"+oi,uu="__reactHandles$"+oi,cu="__reactResources$"+oi,bi="__reactMarker$"+oi;function ya(t){delete t[Ut],delete t[Xt],delete t[pa],delete t[kh],delete t[uu]}function Ai(t){var n=t[Ut];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ti]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=m_(t);t!==null;){if(s=t[Ut])return s;t=m_(t)}return n}t=s,s=t.parentNode}return null}function Fn(t){if(t=t[Ut]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[bi]=!0}var Nl=new Set,Dl={};function wi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Dl[t]=n,t=0;t<n.length;t++)Nl.add(n[t])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Vl={};function hu(t){return Rt.call(Vl,t)?!0:Rt.call(Ml,t)?!1:Ol.test(t)?Vl[t]=!0:(Ml[t]=!0,!1)}function _a(t,n,s){if(hu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function On(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Pt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Ns(t)?"checked":"value";t._valueTracker=kl(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function bn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,s,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ul(t,p,$t(n)):s!=null?Ul(t,p,$t(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function fu(t,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}s=s!=null?""+$t(s):"",n=n!=null?""+$t(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),nt(t)}function Ul(t,n,s){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ds(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,s){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+$t(s):""}function Os(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(bt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=$t(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),nt(t)}function An(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Pl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ll(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ll(t,f,n[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var zl=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Ci=null;function Mr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var s=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Xt]||null;if(!h)throw Error(a(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Dr(l)}break e;case"textarea":du(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ds(t,!!s.multiple,n,!1)}}}var ba=!1;function ks(t,n,s){if(ba)return t(n,s);ba=!0;try{var l=t(n);return l}finally{if(ba=!1,(Vs!==null||Ci!==null)&&(oc(),Vs&&(n=Vs,t=Ci,Ci=Vs=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function ci(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Xt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Kn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Vr=!1}var xi=null,jl=null,kr=null;function Bl(){if(kr)return kr;var t,n=jl,s=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function hi(){return!1}function en(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=en(Wi),Us=S({},Wi,{view:0,detail:0}),Hl=en(Us),Ls,Aa,Di,Sa=S({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ls=t.screenX-Di.screenX,Aa=t.screenY-Di.screenY):Aa=Ls=0,Di=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),ql=en(Sa),Lr=S({},Sa,{dataTransfer:0}),pu=en(Lr),yu=S({},Us,{relatedTarget:0}),Pr=en(yu),Gl=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=en(Gl),wa=S({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=en(wa),Eu=S({},Wi,{data:0}),Oi=en(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Ps(){return Su}var yn=S({},Us,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=en(yn),Ru=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=en(Ru),u=S({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=en(u),v=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(v),L=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=en(L),te=S({},Wi,{newState:0,oldState:0}),Ie=en(te),Ot=[9,13,27,32],Je=Kn&&"CompositionEvent"in window,Et=null;Kn&&"documentMode"in document&&(Et=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!Et,Mi=Kn&&(!Je||Et&&8<Et&&11>=Et),fi=" ",di=!1;function zr(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function WE(t,n){switch(t){case"compositionend":return Ra(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function eT(t,n){if(Ia)return t==="compositionend"||!Je&&zr(t,n)?(t=Bl(),kr=jl=xi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tT[t.type]:n==="textarea"}function _g(t,n,s,l){Vs?Ci?Ci.push(l):Ci=[l]:Vs=l,n=gc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Fl=null,Ql=null;function nT(t){e_(t,0)}function Iu(t){var n=Dn(t);if(Dr(n))return t}function vg(t,n){if(t==="change")return n}var Eg=!1;if(Kn){var Uh;if(Kn){var Lh="oninput"in document;if(!Lh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Lh=typeof Tg.oninput=="function"}Uh=Lh}else Uh=!1;Eg=Uh&&(!document.documentMode||9<document.documentMode)}function bg(){Fl&&(Fl.detachEvent("onpropertychange",Ag),Ql=Fl=null)}function Ag(t){if(t.propertyName==="value"&&Iu(Ql)){var n=[];_g(n,Ql,t,Qn(t)),ks(nT,n)}}function iT(t,n,s){t==="focusin"?(bg(),Fl=n,Ql=s,Fl.attachEvent("onpropertychange",Ag)):t==="focusout"&&bg()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Ql)}function rT(t,n){if(t==="click")return Iu(n)}function aT(t,n){if(t==="input"||t==="change")return Iu(n)}function lT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:lT;function Kl(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Rt.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,n){var s=Sg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function Rg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oT=Kn&&"documentMode"in document&&11>=document.documentMode,Ca=null,zh=null,Yl=null,jh=!1;function Cg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Ca==null||Ca!==Ii(l)||(l=Ca,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Kl(Yl,l)||(Yl=l,l=gc(zh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ca)))}function jr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Bh={},xg={};Kn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Br(t){if(Bh[t])return Bh[t];if(!xa[t])return t;var n=xa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return Bh[t]=n[s];return t}var Ng=Br("animationend"),Dg=Br("animationiteration"),Og=Br("animationstart"),uT=Br("transitionrun"),cT=Br("transitionstart"),hT=Br("transitioncancel"),Mg=Br("transitionend"),Vg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function mi(t,n){Vg.set(t,n),wi(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Na=0,qh=0;function xu(){for(var t=Na,n=qh=Na=0;n<t;){var s=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&kg(s,h,f)}}function Nu(t,n,s,l){Xn[Na++]=t,Xn[Na++]=n,Xn[Na++]=s,Xn[Na++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,s,l){return Nu(t,n,s,l),Du(t)}function Hr(t,n){return Nu(t,null,null,n),Du(t)}function kg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ae(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(t){if(50<yo)throw yo=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function fT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,s,l){return new fT(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var s=t.alternate;return s===null?(s=Vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ug(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Fh(t)&&(p=1);else if(typeof t=="string")p=yb(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Vn(31,s,n,h),t.elementType=C,t.lanes=f,t;case se:return qr(s.children,h,f,n);case ee:p=8,h|=24;break;case pe:return t=Vn(12,s,n,h|2),t.elementType=pe,t.lanes=f,t;case lt:return t=Vn(13,s,n,h),t.elementType=lt,t.lanes=f,t;case Pe:return t=Vn(19,s,n,h),t.elementType=Pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:p=10;break e;case me:p=9;break e;case $e:p=11;break e;case x:p=14;break e;case w:p=16,l=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Vn(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function qr(t,n,s,l){return t=Vn(7,t,l,n),t.lanes=s,t}function Qh(t,n,s){return t=Vn(6,t,null,n),t.lanes=s,t}function Lg(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pg=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=Pg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:xr(n)},Pg.set(t,n),n)}return{value:t,source:n,stack:xr(n)}}var Oa=[],Ma=0,Mu=null,Xl=0,Jn=[],Zn=0,zs=null,Vi=1,ki="";function ns(t,n){Oa[Ma++]=Xl,Oa[Ma++]=Mu,Mu=t,Xl=n}function zg(t,n,s){Jn[Zn++]=Vi,Jn[Zn++]=ki,Jn[Zn++]=zs,zs=t;var l=Vi;t=ki;var h=32-Ae(l)-1;l&=~(1<<h),s+=1;var f=32-Ae(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Vi=1<<32-Ae(n)+h|s<<h|l,ki=f+t}else Vi=1<<f|s<<h|l,ki=t}function Yh(t){t.return!==null&&(ns(t,1),zg(t,1,0))}function Xh(t){for(;t===Mu;)Mu=Oa[--Ma],Oa[Ma]=null,Xl=Oa[--Ma],Oa[Ma]=null;for(;t===zs;)zs=Jn[--Zn],Jn[Zn]=null,ki=Jn[--Zn],Jn[Zn]=null,Vi=Jn[--Zn],Jn[Zn]=null}function jg(t,n){Jn[Zn++]=Vi,Jn[Zn++]=ki,Jn[Zn++]=zs,Vi=n.id,ki=n.overflow,zs=t}var tn=null,yt=null,Fe=!1,js=null,Wn=!1,$h=Error(a(519));function Bs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l($n(n,t)),$h}function Bg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ut]=t,n[Xt]=l,s){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<vo.length;s++)Le(vo[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||s_(n.textContent,s)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Bs(t,!0)}function Hg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Va(t){if(t!==tn)return!1;if(!Fe)return Hg(t),Fe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gd(t.type,t.memoizedProps)),s=!s),s&&yt&&Bs(t),Hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));yt=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));yt=d_(t)}else n===27?(n=yt,tr(t.type)?(t=Ed,Ed=null,yt=t):yt=n):yt=tn?ti(t.stateNode.nextSibling):null;return!0}function Gr(){yt=tn=null,Fe=!1}function Jh(){var t=js;return t!==null&&(In===null?In=t:In.push.apply(In,t),js=null),t}function $l(t){js===null?js=[t]:js.push(t)}var Zh=O(null),Fr=null,is=null;function Hs(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function ss(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ka(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Mn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}h=h.return}t!==null&&ef(n,t,s,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Fr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return qg(Fr,t)}function ku(t,n){return Fr===null&&Qr(t),qg(t,n)}function qg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return s}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mT=r.unstable_scheduleCallback,gT=r.unstable_NormalPriority,zt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new dT,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&mT(gT,function(){t.controller.abort()})}var Zl=null,nf=0,Ua=0,La=null;function pT(t,n){if(Zl===null){var s=Zl=[];nf=0,Ua=ad(),La={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Gg,Gg),n}function Gg(){if(--nf===0&&Zl!==null){La!==null&&(La.status="fulfilled");var t=Zl;Zl=null,Ua=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Fg=G.S;G.S=function(t,n){Cy=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pT(t,n),Fg!==null&&Fg(t,n)};var Kr=O(null);function sf(){var t=Kr.current;return t!==null?t:mt.pooledCache}function Uu(t,n){n===null?ie(Kr,Kr.current):ie(Kr,n.pool)}function Qg(){var t=sf();return t===null?null:{parent:zt._currentValue,pool:t}}var Pa=Error(a(460)),rf=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ui,ui),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t}throw Xr=n,Pa}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xr=s,Pa):s}}var Xr=null;function Xg(){if(Xr===null)throw Error(a(459));var t=Xr;return Xr=null,t}function $g(t){if(t===Pa||t===Lu)throw Error(a(483))}var za=null,Wl=0;function zu(t){var n=Wl;return Wl+=1,za===null&&(za=[]),Yg(za,t,n)}function eo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jg(t){function n(U,D){if(t){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=ts(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,K){return D===null||D.tag!==6?(D=Qh(P,U.mode,K),D.return=U,D):(D=h(D,P),D.return=U,D)}function I(U,D,P,K){var de=P.type;return de===se?Q(U,D,P.props.children,K,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===D.type)?(D=h(D,P.props),eo(D,P),D.return=U,D):(D=Ou(P.type,P.key,P.props,null,U.mode,K),eo(D,P),D.return=U,D)}function z(U,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Kh(P,U.mode,K),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function Q(U,D,P,K,de){return D===null||D.tag!==7?(D=qr(P,U.mode,K,de),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Ou(D.type,D.key,D.props,null,U.mode,P),eo(P,D),P.return=U,P;case W:return D=Kh(D,U.mode,P),D.return=U,D;case w:return D=Yr(D),X(U,D,P)}if(bt(D)||V(D))return D=qr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,zu(D),P);if(D.$$typeof===ge)return X(U,ku(U,D),P);ju(U,D)}return null}function j(U,D,P,K){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(U,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===de?I(U,D,P,K):null;case W:return P.key===de?z(U,D,P,K):null;case w:return P=Yr(P),j(U,D,P,K)}if(bt(P)||V(P))return de!==null?null:Q(U,D,P,K,null);if(typeof P.then=="function")return j(U,D,zu(P),K);if(P.$$typeof===ge)return j(U,D,ku(U,P),K);ju(U,P)}return null}function H(U,D,P,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(D,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return U=U.get(K.key===null?P:K.key)||null,I(D,U,K,de);case W:return U=U.get(K.key===null?P:K.key)||null,z(D,U,K,de);case w:return K=Yr(K),H(U,D,P,K,de)}if(bt(K)||V(K))return U=U.get(P)||null,Q(D,U,K,de,null);if(typeof K.then=="function")return H(U,D,P,zu(K),de);if(K.$$typeof===ge)return H(U,D,P,ku(D,K),de);ju(D,K)}return null}function le(U,D,P,K){for(var de=null,Ye=null,ue=D,Oe=D=0,Be=null;ue!==null&&Oe<P.length;Oe++){ue.index>Oe?(Be=ue,ue=null):Be=ue.sibling;var Xe=j(U,ue,P[Oe],K);if(Xe===null){ue===null&&(ue=Be);break}t&&ue&&Xe.alternate===null&&n(U,ue),D=f(Xe,D,Oe),Ye===null?de=Xe:Ye.sibling=Xe,Ye=Xe,ue=Be}if(Oe===P.length)return s(U,ue),Fe&&ns(U,Oe),de;if(ue===null){for(;Oe<P.length;Oe++)ue=X(U,P[Oe],K),ue!==null&&(D=f(ue,D,Oe),Ye===null?de=ue:Ye.sibling=ue,Ye=ue);return Fe&&ns(U,Oe),de}for(ue=l(ue);Oe<P.length;Oe++)Be=H(ue,U,Oe,P[Oe],K),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?Oe:Be.key),D=f(Be,D,Oe),Ye===null?de=Be:Ye.sibling=Be,Ye=Be);return t&&ue.forEach(function(ar){return n(U,ar)}),Fe&&ns(U,Oe),de}function _e(U,D,P,K){if(P==null)throw Error(a(151));for(var de=null,Ye=null,ue=D,Oe=D=0,Be=null,Xe=P.next();ue!==null&&!Xe.done;Oe++,Xe=P.next()){ue.index>Oe?(Be=ue,ue=null):Be=ue.sibling;var ar=j(U,ue,Xe.value,K);if(ar===null){ue===null&&(ue=Be);break}t&&ue&&ar.alternate===null&&n(U,ue),D=f(ar,D,Oe),Ye===null?de=ar:Ye.sibling=ar,Ye=ar,ue=Be}if(Xe.done)return s(U,ue),Fe&&ns(U,Oe),de;if(ue===null){for(;!Xe.done;Oe++,Xe=P.next())Xe=X(U,Xe.value,K),Xe!==null&&(D=f(Xe,D,Oe),Ye===null?de=Xe:Ye.sibling=Xe,Ye=Xe);return Fe&&ns(U,Oe),de}for(ue=l(ue);!Xe.done;Oe++,Xe=P.next())Xe=H(ue,U,Oe,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&ue.delete(Xe.key===null?Oe:Xe.key),D=f(Xe,D,Oe),Ye===null?de=Xe:Ye.sibling=Xe,Ye=Xe);return t&&ue.forEach(function(Cb){return n(U,Cb)}),Fe&&ns(U,Oe),de}function ft(U,D,P,K){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===se){if(D.tag===7){s(U,D.sibling),K=h(D,P.props.children),K.return=U,U=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===D.type){s(U,D.sibling),K=h(D,P.props),eo(K,P),K.return=U,U=K;break e}s(U,D);break}else n(U,D);D=D.sibling}P.type===se?(K=qr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Ou(P.type,P.key,P.props,null,U.mode,K),eo(K,P),K.return=U,U=K)}return p(U);case W:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),K=h(D,P.children||[]),K.return=U,U=K;break e}else{s(U,D);break}else n(U,D);D=D.sibling}K=Kh(P,U.mode,K),K.return=U,U=K}return p(U);case w:return P=Yr(P),ft(U,D,P,K)}if(bt(P))return le(U,D,P,K);if(V(P)){if(de=V(P),typeof de!="function")throw Error(a(150));return P=de.call(P),_e(U,D,P,K)}if(typeof P.then=="function")return ft(U,D,zu(P),K);if(P.$$typeof===ge)return ft(U,D,ku(U,P),K);ju(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,P),K.return=U,U=K):(s(U,D),K=Qh(P,U.mode,K),K.return=U,U=K),p(U)):s(U,D)}return function(U,D,P,K){try{Wl=0;var de=ft(U,D,P,K);return za=null,de}catch(ue){if(ue===Pa||ue===Lu)throw ue;var Ye=Vn(29,ue,null,U.mode);return Ye.lanes=K,Ye.return=U,Ye}}}var $r=Jg(!0),Zg=Jg(!1),qs=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),kg(t,null,s),n}return Nu(t,l,n,s),Du(t)}function to(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Cl(t,s)}}function of(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function no(){if(uf){var t=La;if(t!==null)throw t}}function io(t,n,s,l){uf=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(je&j)===j:(l&j)===j){j!==0&&j===Ua&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;j=n;var ft=s;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){X=le.call(ft,X,j);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,j=typeof le=="function"?le.call(ft,X,j):le,j==null)break e;X=S({},X,j);break e;case 2:qs=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,I=X):Q=Q.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),$s|=p,t.lanes=p,t.memoizedState=X}}function Wg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ep(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wg(s[t],n)}var ja=O(null),Bu=O(0);function tp(t,n){t=ds,ie(Bu,t),ie(ja,n),ds=t|n.baseLanes}function cf(){ie(Bu,ds),ie(ja,ja.current)}function hf(){ds=Bu.current,Y(ja),Y(Bu)}var kn=O(null),ei=null;function Qs(t){var n=t.alternate;ie(Mt,Mt.current&1),ie(kn,t),ei===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(ei=t)}function ff(t){ie(Mt,Mt.current),ie(kn,t),ei===null&&(ei=t)}function np(t){t.tag===22?(ie(Mt,Mt.current),ie(kn,t),ei===null&&(ei=t)):Ks()}function Ks(){ie(Mt,Mt.current),ie(kn,kn.current)}function Un(t){Y(kn),ei===t&&(ei=null),Y(Mt)}var Mt=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Ce=null,ct=null,jt=null,qu=!1,Ba=!1,Jr=!1,Gu=0,so=0,Ha=null,_T=0;function It(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Mn(t[s],n[s]))return!1;return!0}function mf(t,n,s,l,h,f){return rs=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?zp:xf,Jr=!1,f=s(l,h),Jr=!1,Ba&&(f=sp(n,s,l,h)),ip(t),f}function ip(t){G.H=lo;var n=ct!==null&&ct.next!==null;if(rs=0,jt=ct=Ce=null,qu=!1,so=0,Ha=null,n)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Vu(t)&&(Bt=!0))}function sp(t,n,s,l){Ce=t;var h=0;do{if(Ba&&(Ha=null),so=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,jt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=jp,f=n(s,l)}while(Ba);return f}function vT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ro(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ce.flags|=1024),n}function gf(){var t=Gu!==0;return Gu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}rs=0,jt=ct=Ce=null,Ba=!1,so=Gu=0,Ha=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ce.memoizedState=jt=t:jt=jt.next=t,jt}function Vt(){if(ct===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=jt===null?Ce.memoizedState:jt.next;if(n!==null)jt=n,ct=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Ce.memoizedState=jt=t:jt=jt.next=t}return jt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var n=so;return so+=1,Ha===null&&(Ha=[]),t=Yg(Ha,t,n),n=Ce,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:xf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===ge)return nn(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Ce.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),Ce.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=k;return n.index++,s}function as(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Vt();return vf(n,ct,t)}function vf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(je&X)===X:(rs&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ua&&(Q=!0);else if((rs&j)===j){z=z.next,j===Ua&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,Ce.lanes|=j,$s|=j;X=z.action,Jr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Ce.lanes|=X,$s|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!Mn(f,t.memoizedState)&&(Bt=!0,Q&&(s=La,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=Vt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Mn(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function rp(t,n,s){var l=Ce,h=Vt(),f=Fe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Mn((ct||h).memoizedState,s);if(p&&(h.memoizedState=s,Bt=!0),h=h.queue,Af(op.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},lp.bind(null,l,h,s,n),null),mt===null)throw Error(a(349));f||(rs&127)!==0||ap(l,n,s)}return s}function ap(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ce.updateQueue,n===null?(n=Fu(),Ce.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function lp(t,n,s,l){n.value=s,n.getSnapshot=l,up(n)&&cp(t)}function op(t,n,s){return s(function(){up(n)&&cp(t)})}function up(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Mn(t,s)}catch{return!0}}function cp(t){var n=Hr(t,2);n!==null&&Cn(n,t,2)}function Tf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),Jr){fe(!0);try{s()}finally{fe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function hp(t,n,s,l){return t.baseState=s,vf(t,ct,typeof l=="function"?l:as)}function ET(t,n,s,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,l),I=G.S;I!==null&&I(p,E),dp(t,n,E)}catch(z){bf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),dp(t,n,f)}catch(z){bf(t,n,z)}}function dp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){mp(t,n,l)},function(l){return bf(t,n,l)}):mp(t,n,s)}function mp(t,n,s){n.status="fulfilled",n.value=s,gp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,fp(t,s)))}function bf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==l)}t.action=null}function gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pp(t,n){return n}function yp(t,n){if(Fe){var s=mt.formState;if(s!==null){e:{var l=Ce;if(Fe){if(yt){t:{for(var h=yt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){yt=ti(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=l,s=Up.bind(null,Ce,l),l.dispatch=s,l=Tf(!1),f=Cf.bind(null,Ce,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=ET.bind(null,Ce,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function _p(t){var n=Vt();return vp(n,ct,t)}function vp(t,n,s){if(n=vf(t,n,pp)[0],t=Ku(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ro(n)}catch(p){throw p===Pa?Lu:p}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ce.flags|=2048,qa(9,{destroy:void 0},TT.bind(null,h,s),null)),[l,f,t]}function TT(t,n){t.action=n}function Ep(t){var n=Vt(),s=ct;if(s!==null)return vp(n,s,t);Vt(),n=n.memoizedState,s=Vt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function qa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Fu(),Ce.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Tp(){return Vt().memoizedState}function Yu(t,n,s,l){var h=_n();Ce.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Xu(t,n,s,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&df(l,ct.memoizedState.deps)?h.memoizedState=qa(n,f,s,l):(Ce.flags|=t,h.memoizedState=qa(1|n,f,s,l))}function bp(t,n){Yu(8390656,8,t,n)}function Af(t,n){Xu(2048,8,t,n)}function bT(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Fu(),Ce.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Ap(t){var n=Vt().memoizedState;return bT({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Xu(4,2,t,n)}function wp(t,n){return Xu(4,4,t,n)}function Rp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,s){s=s!=null?s.concat([t]):null,Xu(4,4,Rp.bind(null,n,t),s)}function Sf(){}function Cp(t,n){var s=Vt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function xp(t,n){var s=Vt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),Jr){fe(!0);try{t()}finally{fe(!1)}}return s.memoizedState=[l,n],l}function wf(t,n,s){return s===void 0||(rs&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ny(),Ce.lanes|=t,$s|=t,s)}function Np(t,n,s,l){return Mn(s,n)?s:ja.current!==null?(t=wf(t,s,l),Mn(t,n)||(Bt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(je&261930)===0?(Bt=!0,t.memoizedState=s):(t=Ny(),Ce.lanes|=t,$s|=t,n)}function Dp(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Cf(t,!1,n,s);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=yT(I,l);ao(t,n,Q,zn(t))}else ao(t,n,l,zn(t))}catch(X){ao(t,n,{then:function(){},status:"rejected",reason:X},zn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function AT(){}function Rf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Op(t).queue;Dp(t,h,n,ce,s===null?AT:function(){return Mp(t),s(l)})}function Op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mp(t){var n=Op(t);n.next===null&&(n=t.alternate.memoizedState),ao(t,n.next.queue,{},zn())}function If(){return nn(So)}function Vp(){return Vt().memoizedState}function kp(){return Vt().memoizedState}function ST(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=zn();t=Gs(s);var l=Fs(n,t,s);l!==null&&(Cn(l,n,s),to(l,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function wT(t,n,s){var l=zn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?Lp(n,s):(s=Gh(t,n,s,l),s!==null&&(Cn(s,t,l),Pp(s,n,l)))}function Up(t,n,s){var l=zn();ao(t,n,s,l)}function ao(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))Lp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,p))return Nu(t,n,h,0),mt===null&&xu(),!1}catch{}if(s=Gh(t,n,h,l),s!==null)return Cn(s,t,l),Pp(s,n,l),!0}return!1}function Cf(t,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Gh(t,s,l,2),n!==null&&Cn(n,t,2)}function $u(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Lp(t,n){Ba=qu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Pp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Cl(t,s)}}var lo={readContext:nn,use:Qu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};lo.useEffectEvent=It;var zp={readContext:nn,use:Qu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:bp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Yu(4194308,4,Rp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var l=t();if(Jr){fe(!0);try{t()}finally{fe(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_n();if(s!==void 0){var h=s(n);if(Jr){fe(!0);try{s(n)}finally{fe(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Up.bind(null,Ce,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=_n();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Dp.bind(null,Ce,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ce,h=_n();if(Fe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),mt===null)throw Error(a(349));(je&127)!==0||ap(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(op.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},lp.bind(null,l,f,s,n),null),s},useId:function(){var t=_n(),n=mt.identifierPrefix;if(Fe){var s=ki,l=Vi;s=(l&~(1<<32-Ae(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_T++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Ce,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return _n().memoizedState=ST.bind(null,Ce)},useEffectEvent:function(t){var n=_n(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:nn,use:Qu,useCallback:Cp,useContext:nn,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:Sp,useLayoutEffect:wp,useMemo:xp,useReducer:Ku,useRef:Tp,useState:function(){return Ku(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Vt();return Np(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ku(as)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var s=Vt();return hp(s,ct,t,n)},useMemoCache:_f,useCacheRefresh:kp};xf.useEffectEvent=Ap;var jp={readContext:nn,use:Qu,useCallback:Cp,useContext:nn,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:Sp,useLayoutEffect:wp,useMemo:xp,useReducer:Ef,useRef:Tp,useState:function(){return Ef(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Vt();return ct===null?wf(s,t,n):Np(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ef(as)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:If,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var s=Vt();return ct!==null?hp(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kp};jp.useEffectEvent=Ap;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Gs(l);h.payload=n,s!=null&&(h.callback=s),n=Fs(t,h,l),n!==null&&(Cn(n,t,l),to(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Gs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Fs(t,h,l),n!==null&&(Cn(n,t,l),to(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zn(),l=Gs(s);l.tag=2,n!=null&&(l.callback=n),n=Fs(t,l,s),n!==null&&(Cn(n,t,s),to(n,t,s))}};function Bp(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Kl(s,l)||!Kl(h,f):!0}function Hp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function qp(t){Cu(t)}function Gp(t){console.error(t)}function Fp(t){Cu(t)}function Ju(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(t,n)},s}function Kp(t){return t=Gs(t),t.tag=3,t}function Yp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Qp(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Qp(n,s,l),typeof h!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ka(n,s,h,!0),s=kn.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?uc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return s.flags|=65536,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(t,l,h)),!1}throw Error(a(435,s.tag))}return id(t,l,h),uc(),!1}if(Fe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),$l($n(t,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),$l($n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,s),h=Of(t.stateNode,l,h),of(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,s),po===null?po=[f]:po.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=$n(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Js===null||!Js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Kp(h),Yp(h,t,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Bt=!1;function sn(t,n,s,l){n.child=t===null?Zg(n,null,s,l):$r(n,t.child,s,l)}function Xp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Qr(n),l=mf(t,n,s,p,f,h),E=gf(),t!==null&&!Bt?(pf(t,n,h),ls(t,n,h)):(Fe&&E&&Yh(n),n.flags|=1,sn(t,n,l,h),n.child)}function $p(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Jp(t,n,f,l,h)):(t=Ou(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Kl,s(p,l)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ts(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Kl(f,l)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,ls(t,n,h)}return Vf(t,n,s,l,h)}function Zp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Wp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?tp(n,f):cf(),np(n);else return l=n.lanes=536870912,Wp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Uu(n,f.cachePool),tp(n,f),Ks(),n.memoizedState=null):(t!==null&&Uu(n,null),cf(),Ks());return sn(t,n,h,s),n.child}function oo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,s,l,h){var f=sf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Uu(n,null),cf(),np(n),t!==null&&ka(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,s){return $r(n,t.child,null,s),t=Zu(n,n.pendingProps),t.flags|=2,Un(n),n.memoizedState=null,t}function IT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,oo(null,t);if(ff(n),(t=yt)?(t=f_(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Lg(t),s.return=n,n.child=s,tn=n,yt=null)):t=null,t===null)throw Bs(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Bt||ka(t,n,s,!1),h=(s&t.childLanes)!==0,Bt||h){if(l=mt,l!==null&&(p=xl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Hr(t,p),Cn(l,t,p),Mf;uc(),n=ey(t,n,s)}else t=f.treeContext,yt=ti(p.nextSibling),tn=n,Fe=!0,js=null,Wn=!1,t!==null&&jg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,l,h){return Qr(n),s=mf(t,n,s,l,void 0,h),l=gf(),t!==null&&!Bt?(pf(t,n,h),ls(t,n,h)):(Fe&&l&&Yh(n),n.flags|=1,sn(t,n,s,h),n.child)}function ty(t,n,s,l,h,f){return Qr(n),n.updateQueue=null,s=sp(n,l,s,h),ip(t),l=gf(),t!==null&&!Bt?(pf(t,n,f),ls(t,n,f)):(Fe&&l&&Yh(n),n.flags|=1,sn(t,n,s,f),n.child)}function ny(t,n,s,l,h){if(Qr(n),n.stateNode===null){var f=Da,p=s.contextType;typeof p=="object"&&p!==null&&(f=nn(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?nn(p):Da,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),io(n,l,f,h),no(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Zr(s,E);f.props=I;var z=f.context,Q=s.contextType;p=Da,typeof Q=="object"&&Q!==null&&(p=nn(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Hp(n,f,l,p),qs=!1;var j=n.memoizedState;f.state=j,io(n,l,f,h),no(),z=n.memoizedState,E||j!==z||qs?(typeof X=="function"&&(Nf(n,s,X,l),z=n.memoizedState),(I=qs||Bp(n,s,I,l,j,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),p=n.memoizedProps,Q=Zr(s,p),f.props=Q,X=n.pendingProps,j=f.context,z=s.contextType,I=Da,typeof z=="object"&&z!==null&&(I=nn(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==I)&&Hp(n,f,l,I),qs=!1,j=n.memoizedState,f.state=j,io(n,l,f,h),no();var H=n.memoizedState;p!==X||j!==H||qs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),H=n.memoizedState),(Q=qs||Bp(n,s,Q,l,j,H,I)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,s,h)):sn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function iy(t,n,s,l){return Gr(),n.flags|=256,sn(t,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Qg()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Pn),t}function sy(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Qs(n):Ks(),(t=yt)?(t=f_(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Lg(t),s.return=n,n.child=s,tn=n,yt=null)):t=null,t===null)throw Bs(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ks(),h=n.mode,E=ec({mode:"hidden",children:E},h),l=qr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,p,s),n.memoizedState=kf,oo(null,l)):(Qs(n),Pf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=zf(t,n,s)):n.memoizedState!==null?(Ks(),n.child=t.child,n.flags|=128,n=null):(Ks(),E=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),E=qr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,$r(n,t.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,p,s),n.memoizedState=kf,n=oo(null,l));else if(Qs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,$l({value:l,source:null,stack:null}),n=zf(t,n,s)}else if(Bt||ka(t,n,s,!1),p=(s&t.childLanes)!==0,Bt||p){if(p=mt,p!==null&&(l=xl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Hr(t,l),Cn(p,t,l),Mf;_d(E)||uc(),n=zf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,yt=ti(E.nextSibling),tn=n,Fe=!0,js=null,Wn=!1,t!==null&&jg(n,t),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Ks(),E=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=ts(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=ts(z,E):(E=qr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,oo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(I=zt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Lf(t,p,s),n.memoizedState=kf,oo(t.child,l)):(Qs(n),s=t.child,t=s.sibling,s=ts(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Pf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function zf(t,n,s){return $r(n,t.child,null,s),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function jf(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ay(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(Mt,p),sn(t,n,l,s),l=Fe?Xl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,s,n);else if(t.tag===19)ry(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Hu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),$s|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ka(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ts(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ts(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function CT(t,n,s){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Hs(n,zt,t.memoizedState.cache),Gr();break;case 27:case 5:Ki(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(t,n,s):(Qs(n),t=ls(t,n,s),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ka(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ay(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,Zp(t,n,s,n.pendingProps);case 24:Hs(n,zt,t.memoizedState.cache)}return ls(t,n,s)}function ly(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Bt=!1,CT(t,n,s);Bt=(t.flags&131072)!==0}else Bt=!1,Fe&&(n.flags&1048576)!==0&&zg(n,Xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=Zr(t,l),n.tag=1,n=ny(null,n,t,l,s)):(n.tag=0,n=Vf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=Xp(null,n,t,l,s);break e}else if(h===x){n.tag=14,n=$p(null,n,t,l,s);break e}}throw n=We(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Zr(l,n.pendingProps),ny(t,n,l,h,s);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),io(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Hs(n,zt,l),l!==f.cache&&ef(n,[zt],s,!0),no(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,l,s);break e}else if(l!==h){h=$n(Error(a(424)),n),$l(h),n=iy(t,n,l,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ti(t.firstChild),tn=n,Fe=!0,js=null,Wn=!0,s=Zg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Gr(),l===h){n=ls(t,n,s);break e}sn(t,n,l,s)}n=n.child}return n;case 26:return Wu(t,n),t===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:Fe||(s=n.type,t=n.pendingProps,l=pc(Re.current).createElement(s),l[Ut]=n,l[Xt]=t,rn(l,s,t),Lt(l),n.stateNode=l):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ki(n),t===null&&Fe&&(l=n.stateNode=g_(n.type,n.pendingProps,Re.current),tn=n,Wn=!0,h=yt,tr(n.type)?(Ed=h,yt=ti(l.firstChild)):yt=h),sn(t,n,n.pendingProps.children,s),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=yt)&&(l=sb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,tn=n,yt=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Bs(n)),Ki(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:p!==null&&gd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,vT,null,null,s),So._currentValue=h),Wu(t,n),sn(t,n,l,s),n.child;case 6:return t===null&&Fe&&((t=s=yt)&&(s=rb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,tn=n,yt=null,t=!0):t=!1),t||Bs(n)),null;case 13:return sy(t,n,s);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,s):sn(t,n,l,s),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,s);case 7:return sn(t,n,n.pendingProps,s),n.child;case 8:return sn(t,n,n.pendingProps.children,s),n.child;case 12:return sn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Hs(n,n.type,l.value),sn(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Qr(n),h=nn(h),l=l(h),n.flags|=1,sn(t,n,l,s),n.child;case 14:return $p(t,n,n.type,n.pendingProps,s);case 15:return Jp(t,n,n.type,n.pendingProps,s);case 19:return ay(t,n,s);case 31:return IT(t,n,s);case 22:return Zp(t,n,s,n.pendingProps);case 24:return Qr(n),l=nn(zt),t===null?(h=sf(),h===null&&(h=mt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),Hs(n,zt,h)):((t.lanes&s)!==0&&(lf(t,n),io(n,null,null,s),no()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,zt,l)):(l=f.cache,Hs(n,zt,l),l!==h.cache&&ef(n,[zt],s,!0))),sn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Hf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Xr=Pu,rf}else t.flags&=-16777217}function oy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(Vy())t.flags|=8192;else throw Xr=Pu,rf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xs():536870912,t.lanes|=n,Ka|=n)}function uo(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function xT(t,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return _t(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(zt),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Va(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),_t(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(_t(n),oy(n,f)):(_t(n),Hf(n,h,null,l,s))):f?f!==t.memoizedState?(os(n),_t(n),oy(n,f)):(_t(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&os(n),_t(n),Hf(n,h,t,l,s)),null;case 27:if(Yi(n),s=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _t(n),null}t=re.current,Va(n)?Bg(n):(t=g_(h,l,s),n.stateNode=t,os(n))}return _t(n),null;case 5:if(Yi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _t(n),null}if(f=re.current,Va(n))Bg(n);else{var p=pc(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ut]=n,f[Xt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(rn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&os(n)}}return _t(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Va(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,s)),t||Bs(n,!0)}else t=pc(t).createTextNode(l),t[Ut]=n,n.stateNode=t}return _t(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Va(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ut]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(a(558))}return _t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ut]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),_t(n),null);case 4:return gt(),t===null&&cd(n.stateNode.containerInfo),_t(n),null;case 10:return ss(n.type),_t(n),null;case 19:if(Y(Mt),l=n.memoizedState,l===null)return _t(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)uo(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,uo(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ug(s,t),s=s.sibling;return ie(Mt,Mt.current&1|2),Fe&&ns(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Wt()>ac&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),uo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Fe)return _t(n),null}else 2*Wt()-l.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,s=Mt.current,ie(Mt,h?s&1|2:s&1),Fe&&ns(n,l.treeForkCount),t):(_t(n),null);case 22:case 23:return Un(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(zt),_t(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(zt),gt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yi(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Mt),null;case 4:return gt(),null;case 10:return ss(n.type),null;case 22:case 23:return Un(n),hf(),t!==null&&Y(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(zt),null;case 25:return null;default:return null}}function uy(t,n){switch(Xh(n),n.tag){case 3:ss(zt),gt();break;case 26:case 27:case 5:Yi(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:Y(Mt);break;case 10:ss(n.type);break;case 22:case 23:Un(n),hf(),t!==null&&Y(Kr);break;case 24:ss(zt)}}function co(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){st(n,n.return,E)}}function Ys(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(Q){st(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){st(n,n.return,Q)}}function cy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{ep(n,s)}catch(l){st(t,t.return,l)}}}function hy(t,n,s){s.props=Zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){st(t,n,l)}}function ho(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){st(t,n,h)}}function Ui(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){st(t,n,h)}else s.current=null}function fy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){st(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;ZT(l,t.type,s,n),l[Xt]=n}catch(h){st(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function nc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(nc(t,n,s),t=t.sibling;t!==null;)nc(t,n,s),t=t.sibling}function my(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,l,s),n[Ut]=t,n[Xt]=s}catch(f){st(t,t.return,f)}}var us=!1,Ht=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function DT(t,n){if(t=t.containerInfo,dd=Ac,t=Ig(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,I=-1,z=0,Q=0,X=t,j=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(I=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===t)break t;if(j===s&&++z===h&&(E=p),j===f&&++Q===l&&(I=p),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},Ac=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=Zr(s.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){st(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function py(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),l&4&&co(5,s);break;case 1:if(hs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){st(s,s.return,p)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){st(s,s.return,p)}}l&64&&cy(s),l&512&&ho(s,s.return);break;case 3:if(hs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ep(t,n)}catch(p){st(s,s.return,p)}}break;case 27:n===null&&l&4&&my(s);case 26:case 5:hs(t,s),n===null&&l&4&&fy(s),l&512&&ho(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),l&4&&vy(t,s);break;case 13:hs(t,s),l&4&&Ey(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=jT.bind(null,s),ab(t,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Ht,h=us;var f=Ht;us=l,(Ht=n)&&!f?fs(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),us=h,Ht=f}break;case 30:break;default:hs(t,s)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Sn=!1;function cs(t,n,s){for(s=s.child;s!==null;)_y(t,n,s),s=s.sibling}function _y(t,n,s){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Z,s)}catch{}switch(s.tag){case 26:Ht||Ui(s,n),cs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ht||Ui(s,n);var l=Tt,h=Sn;tr(s.type)&&(Tt=s.stateNode,Sn=!1),cs(t,n,s),To(s.stateNode),Tt=l,Sn=h;break;case 5:Ht||Ui(s,n);case 6:if(l=Tt,h=Sn,Tt=null,cs(t,n,s),Tt=l,Sn=h,Tt!==null)if(Sn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(s.stateNode)}catch(f){st(s,n,f)}else try{Tt.removeChild(s.stateNode)}catch(f){st(s,n,f)}break;case 18:Tt!==null&&(Sn?(t=Tt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),tl(t)):c_(Tt,s.stateNode));break;case 4:l=Tt,h=Sn,Tt=s.stateNode.containerInfo,Sn=!0,cs(t,n,s),Tt=l,Sn=h;break;case 0:case 11:case 14:case 15:Ys(2,s,n),Ht||Ys(4,s,n),cs(t,n,s);break;case 1:Ht||(Ui(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hy(s,n,l)),cs(t,n,s);break;case 21:cs(t,n,s);break;case 22:Ht=(l=Ht)||s.memoizedState!==null,cs(t,n,s),Ht=l;break;default:cs(t,n,s)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(s){st(n,n.return,s)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(s){st(n,n.return,s)}}function OT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var s=OT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=BT.bind(null,t,l);l.then(h,h)}})}function wn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){Tt=E.stateNode,Sn=!1;break e}break;case 5:Tt=E.stateNode,Sn=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(Tt===null)throw Error(a(160));_y(f,p,h),Tt=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var gi=null;function Ty(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(Ys(3,t,t.return),co(3,t),Ys(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(Ht||s===null||Ui(s,s.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=gi;if(wn(n,t),Rn(t),l&512&&(Ht||s===null||Ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,l,s),f[Ut]=t,Lt(f),l=f;break e;case"link":var p=T_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),rn(f,l,s),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(l),rn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ut]=t,Lt(f),l=f}t.stateNode=l}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?b_(h,t.type,t.stateNode):E_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:wn(n,t),Rn(t),l&512&&(Ht||s===null||Ui(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wn(n,t),Rn(t),l&512&&(Ht||s===null||Ui(s,s.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(le){st(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(le){st(t,t.return,le)}}break;case 3:if(vc=null,h=gi,gi=yc(n.containerInfo),wn(n,t),gi=h,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(le){st(t,t.return,le)}Qf&&(Qf=!1,by(t));break;case 4:l=gi,gi=yc(t.stateNode.containerInfo),wn(n,t),Rn(t),gi=l;break;case 12:wn(n,t),Rn(t);break;case 31:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=us,Q=Ht;if(us=z||h,Ht=Q||I,wn(n,t),Ht=Q,us=z,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||us||Ht||Wr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){st(I,I.return,le)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){st(I,I.return,le)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?h_(H,!0):h_(I.stateNode,!1)}catch(le){st(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(t,s))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(dy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);nc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(An(p,""),s.flags&=-33);var E=Gf(t);nc(t,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Gf(t);Ff(t,z,I);break;default:throw Error(a(161))}}catch(Q){st(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ys(4,n,n.return),Wr(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Wr(n);break;case 27:To(n.stateNode);case 26:case 5:Ui(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function fs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),co(4,f);break;case 1:if(fs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Wg(I[h],E)}catch(z){st(l,l.return,z)}}s&&p&64&&cy(f),ho(f,f.return);break;case 27:my(f);case 26:case 5:fs(h,f,s),s&&l===null&&p&4&&fy(f),ho(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&p&4&&vy(h,f);break;case 13:fs(h,f,s),s&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),ho(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function pi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,s,l),n=n.sibling}function Ay(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,s,l),h&2048&&co(9,n);break;case 1:pi(t,n,s,l);break;case 3:pi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){pi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(n,n.return,I)}}else pi(t,n,s,l);break;case 31:pi(t,n,s,l);break;case 13:pi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,s,l):fo(t,n):f._visibility&2?pi(t,n,s,l):(f._visibility|=2,Ga(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:pi(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:pi(t,n,s,l)}}function Ga(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ga(f,p,E,I,h),co(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ga(f,p,E,I,h):fo(f,p):(Q._visibility|=2,Ga(f,p,E,I,h)),h&&z&2048&&Kf(p.alternate,p);break;case 24:Ga(f,p,E,I,h),h&&z&2048&&Yf(p.alternate,p);break;default:Ga(f,p,E,I,h)}n=n.sibling}}function fo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:fo(s,l),h&2048&&Kf(l.alternate,l);break;case 24:fo(s,l),h&2048&&Yf(l.alternate,l);break;default:fo(s,l)}n=n.sibling}}var mo=8192;function Fa(t,n,s){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)Sy(t,n,s),t=t.sibling}function Sy(t,n,s){switch(t.tag){case 26:Fa(t,n,s),t.flags&mo&&t.memoizedState!==null&&_b(s,gi,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,s);break;case 3:case 4:var l=gi;gi=yc(t.stateNode.containerInfo),Fa(t,n,s),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=mo,mo=16777216,Fa(t,n,s),mo=l):Fa(t,n,s));break;default:Fa(t,n,s)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Jt=l,Iy(l,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):go(t);break;default:go(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Jt=l,Iy(l,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ys(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Iy(t,n){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:Ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Jt=l;else e:for(s=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(yy(l),l===s){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var MT={getCacheForType:function(t){var n=nn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return nn(zt).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,mt=null,Ue=null,je=0,it=0,Ln=null,Xs=!1,Qa=!1,Xf=!1,ds=0,Ct=0,$s=0,ea=0,$f=0,Pn=0,Ka=0,po=null,In=null,Jf=!1,rc=0,Cy=0,ac=1/0,lc=null,Js=null,Qt=0,Zs=null,Ya=null,ms=0,Zf=0,Wf=null,xy=null,yo=0,ed=null;function zn(){return(Ze&2)!==0&&je!==0?je&-je:G.T!==null?ad():ou()}function Ny(){if(Pn===0)if((je&536870912)===0||Fe){var t=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),Pn=t}else Pn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Pn}function Cn(t,n,s){(t===mt&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Ws(t,je,Pn,!1)),Me(t,s),((Ze&2)===0||t!==mt)&&(t===mt&&((Ze&2)===0&&(ea|=s),Ct===4&&Ws(t,je,Pn,!1)),Li(t))}function Dy(t,n,s){if((Ze&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||un(t,n),h=l?LT(t,n):nd(t,n,!0),f=l;do{if(h===0){Qa&&!l&&Ws(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!kT(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=po;var I=E.current.memoizedState.isDehydrated;if(I&&(Xa(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!I){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),Ws(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(l,n,Pn,!Xs);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Wt(),10<h)){if(Ws(l,n,Pn,!Xs),Dt(l,0,!0)!==0)break e;ms=n,l.timeoutHandle=o_(Oy.bind(null,l,s,In,lc,Jf,n,Pn,ea,Ka,Xs,f,"Throttled",-0,0),h);break e}Oy(l,s,In,lc,Jf,n,Pn,ea,Ka,Xs,f,null,-0,0)}}break}while(!0);Li(t)}function Oy(t,n,s,l,h,f,p,E,I,z,Q,X,j,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Sy(n,f,X);var le=(f&62914560)===f?rc-Wt():(f&4194048)===f?Cy-Wt():0;if(le=vb(X,le),le!==null){ms=f,t.cancelPendingCommit=le(jy.bind(null,t,n,f,s,l,h,p,E,I,Q,X,null,j,H)),Ws(t,f,p,!z);return}}jy(t,n,f,s,l,h,p,E,I)}function kT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(t,n,s,l){n&=~$f,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&ai(t,s,n)}function oc(){return(Ze&6)===0?(_o(0),!1):!0}function td(){if(Ue!==null){if(it===0)var t=Ue.return;else t=Ue,is=Fr=null,yf(t),za=null,Wl=0,t=Ue;for(;t!==null;)uy(t.alternate,t),t=t.return;Ue=null}}function Xa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ms=0,td(),mt=t,Ue=s=ts(t.current,null),je=n,it=0,Ln=null,Xs=!1,Qa=un(t,n),Xf=!1,Ka=Pn=$f=ea=$s=Ct=0,In=po=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ae(l),f=1<<h;n|=t[h],l&=~f}return ds=n,xu(),s}function My(t,n){Ce=null,G.H=lo,n===Pa||n===Lu?(n=Xg(),it=3):n===rf?(n=Xg(),it=4):it=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Ue===null&&(Ct=1,Ju(t,$n(n,t.current)))}function Vy(){var t=kn.current;return t===null?!0:(je&4194048)===je?ei===null:(je&62914560)===je||(je&536870912)!==0?t===ei:!1}function ky(){var t=G.H;return G.H=lo,t===null?lo:t}function Uy(){var t=G.A;return G.A=MT,t}function uc(){Ct=4,Xs||(je&4194048)!==je&&kn.current!==null||(Qa=!0),($s&134217727)===0&&(ea&134217727)===0||mt===null||Ws(mt,je,Pn,!1)}function nd(t,n,s){var l=Ze;Ze|=2;var h=ky(),f=Uy();(mt!==t||je!==n)&&(lc=null,Xa(t,n)),n=!1;var p=Ct;e:do try{if(it!==0&&Ue!==null){var E=Ue,I=Ln;switch(it){case 8:td(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var z=it;if(it=0,Ln=null,$a(t,E,I,z),s&&Qa){p=0;break e}break;default:z=it,it=0,Ln=null,$a(t,E,I,z)}}UT(),p=Ct;break}catch(Q){My(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=Fr=null,Ze=l,G.H=h,G.A=f,Ue===null&&(mt=null,je=0,xu()),p}function UT(){for(;Ue!==null;)Ly(Ue)}function LT(t,n){var s=Ze;Ze|=2;var l=ky(),h=Uy();mt!==t||je!==n?(lc=null,ac=Wt()+500,Xa(t,n)):Qa=un(t,n);e:do try{if(it!==0&&Ue!==null){n=Ue;var f=Ln;t:switch(it){case 1:it=0,Ln=null,$a(t,n,f,1);break;case 2:case 9:if(Kg(f)){it=0,Ln=null,Py(n);break}n=function(){it!==2&&it!==9||mt!==t||(it=7),Li(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Kg(f)?(it=0,Ln=null,Py(n)):(it=0,Ln=null,$a(t,n,f,7));break;case 5:var p=null;switch(Ue.tag){case 26:p=Ue.memoizedState;case 5:case 27:var E=Ue;if(p?A_(p):E.stateNode.complete){it=0,Ln=null;var I=E.sibling;if(I!==null)Ue=I;else{var z=E.return;z!==null?(Ue=z,cc(z)):Ue=null}break t}}it=0,Ln=null,$a(t,n,f,5);break;case 6:it=0,Ln=null,$a(t,n,f,6);break;case 8:td(),Ct=6;break e;default:throw Error(a(462))}}PT();break}catch(Q){My(t,Q)}while(!0);return is=Fr=null,G.H=l,G.A=h,Ze=s,Ue!==null?0:(mt=null,je=0,xu(),Ct)}function PT(){for(;Ue!==null&&!Il();)Ly(Ue)}function Ly(t){var n=ly(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?cc(t):Ue=n}function Py(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ty(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ty(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:yf(n);default:uy(s,n),n=Ue=Ug(n,ds),n=ly(s,n,ds)}t.memoizedProps=t.pendingProps,n===null?cc(t):Ue=n}function $a(t,n,s,l){is=Fr=null,yf(n),za=null,Wl=0;var h=n.return;try{if(RT(t,h,n,s,je)){Ct=1,Ju(t,$n(s,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Ct=1,Ju(t,$n(s,t.current)),Ue=null;return}n.flags&32768?(Fe||l===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,Xs);return}t=n.return;var s=xT(n.alternate,n,ds);if(s!==null){Ue=s;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Ct===0&&(Ct=5)}function zy(t,n){do{var s=NT(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);Ct=6,Ue=null}function jy(t,n,s,l,h,f,p,E,I){t.cancelPendingCommit=null;do hc();while(Qt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,De(t,s,f,p,E,I),t===mt&&(Ue=mt=null,je=0),Ya=n,Zs=t,ms=s,Zf=f,Wf=h,xy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HT(qn,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,p=Ze,Ze|=4;try{DT(t,n,s)}finally{Ze=p,ne.p=h,G.T=l}}Qt=1,By(),Hy(),qy()}}function By(){if(Qt===1){Qt=0;var t=Zs,n=Ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{Ty(n,t);var f=md,p=Ig(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rg(E.ownerDocument.documentElement,E)){if(I!==null&&Ph(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),le=E.textContent.length,_e=Math.min(I.start,le),ft=I.end===void 0?_e:Math.min(I.end,le);!H.extend&&_e>ft&&(p=ft,ft=_e,_e=p);var U=wg(E,_e),D=wg(E,ft);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),_e>ft?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!dd,md=dd=null}finally{Ze=h,ne.p=l,G.T=s}}t.current=n,Qt=2}}function Hy(){if(Qt===2){Qt=0;var t=Zs,n=Ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{py(t,n.alternate,n)}finally{Ze=h,ne.p=l,G.T=s}}Qt=3}}function qy(){if(Qt===4||Qt===3){Qt=0,fa();var t=Zs,n=Ya,s=ms,l=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ya=Zs=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Js=null),Ji(s),n=n.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Z,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ms&3)!==0&&hc(),Li(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?yo++:(yo=0,ed=t):yo=0,_o(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function hc(){return By(),Hy(),qy(),Fy()}function Fy(){if(Qt!==5)return!1;var t=Zs,n=Zf;Zf=0;var s=Ji(ms),l=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=Zs,p=ms;if(Qt=0,Ya=Zs=null,ms=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,Ry(f.current),Ay(f,f.current,p,s),Ze=E,_o(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Z,f)}catch{}return!0}finally{ne.p=h,G.T=l,Gy(t,n)}}function Qy(t,n,s){n=$n(s,n),n=Of(t.stateNode,n,2),t=Fs(t,n,2),t!==null&&(Me(t,2),Li(t))}function st(t,n,s){if(t.tag===3)Qy(t,t,s);else for(;n!==null;){if(n.tag===3){Qy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Js===null||!Js.has(l))){t=$n(s,t),s=Kp(2),l=Fs(n,s,2),l!==null&&(Yp(s,l,n,t),Me(l,2),Li(l));break}}n=n.return}}function id(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=zT.bind(null,t,n,s),n.then(t,t))}function zT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(je&s)===s&&(Ct===4||Ct===3&&(je&62914560)===je&&300>Wt()-rc?(Ze&2)===0&&Xa(t,0):$f|=s,Ka===je&&(Ka=0)),Li(t)}function Ky(t,n){n===0&&(n=xs()),t=Hr(t,n),t!==null&&(Me(t,n),Li(t))}function jT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ky(t,s)}function BT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ky(t,s)}function HT(t,n){return Nt(t,n)}var fc=null,Ja=null,sd=!1,dc=!1,rd=!1,er=0;function Li(t){t!==Ja&&t.next===null&&(Ja===null?fc=Ja=t:Ja=Ja.next=t),dc=!0,sd||(sd=!0,GT())}function _o(t,n){if(!rd&&dc){rd=!0;do for(var s=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ae(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Jy(l,f))}else f=je,f=Dt(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||un(l,f)||(s=!0,Jy(l,f));l=l.next}while(s);rd=!1}}function qT(){Yy()}function Yy(){dc=sd=!1;var t=0;er!==0&&eb()&&(t=er);for(var n=Wt(),s=null,l=fc;l!==null;){var h=l.next,f=Xy(l,n);f===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Ja=s)):(s=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Qt!==0&&Qt!==5||_o(t),er!==0&&(er=0)}function Xy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ae(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=cn(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,s=je,s=Dt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||un(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Tn(l),Ji(s)){case 2:case 8:s=pn;break;case 32:s=qn;break;case 268435456:s=ma;break;default:s=qn}return l=$y.bind(null,t),s=Nt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Tn(l),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var l=je;return l=Dt(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dy(t,l,n),Xy(t,Wt()),t.callbackNode!=null&&t.callbackNode===s?$y.bind(null,t):null)}function Jy(t,n){if(hc())return null;Dy(t,n,!0)}function GT(){nb(function(){(Ze&6)!==0?Nt(Cs,qT):Yy()})}function ad(){if(er===0){var t=Ua;t===0&&(t=pt,pt<<=1,(pt&261888)===0&&(pt=256)),er=t}return er}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Wy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function FT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Zy((h[Xt]||null).action),p=l.submitter;p&&(n=(n=p[Xt]||null)?Zy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var I=p?Wy(h,p):new FormData(h);Rf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Wy(h,p):new FormData(h),Rf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],QT=od.toLowerCase(),KT=od[0].toUpperCase()+od.slice(1);mi(QT,"on"+KT)}mi(Ng,"onAnimationEnd"),mi(Dg,"onAnimationIteration"),mi(Og,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(uT,"onTransitionRun"),mi(cT,"onTransitionStart"),mi(hT,"onTransitionCancel"),mi(Mg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function e_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=I}}}}function Le(t,n){var s=n[pa];s===void 0&&(s=n[pa]=new Set);var l=t+"__bubble";s.has(l)||(t_(n,t,2,!1),s.add(l))}function ud(t,n,s){var l=0;n&&(l|=4),t_(s,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[mc]){t[mc]=!0,Nl.forEach(function(s){s!=="selectionchange"&&(YT.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,ud("selectionchange",!1,n))}}function t_(t,n,s,l){switch(N_(n)){case 2:var h=bb;break;case 8:h=Ab;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ai(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}E=E.parentNode}}l=l.return}ks(function(){var z=f,Q=Qn(s),X=[];e:{var j=Vg.get(t);if(j!==void 0){var H=Ni,le=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":le="focus",H=Pr;break;case"focusout":le="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Dg:case Og:H=_u;break;case Mg:H=T;break;case"scroll":case"scrollend":H=Hl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=es;break;case"toggle":case"beforetoggle":H=Ie}var _e=(n&4)!==0,ft=!_e&&(t==="scroll"||t==="scrollend"),U=_e?j!==null?j+"Capture":null:j;_e=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=ci(D,U),K!=null&&_e.push(Eo(D,K,P))),ft)break;D=D.return}0<_e.length&&(j=new H(j,le,null,s,Q),X.push({event:j,listeners:_e}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&s!==zl&&(le=s.relatedTarget||s.fromElement)&&(Ai(le)||le[Ti]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(le=s.relatedTarget||s.toElement,H=z,le=le?Ai(le):null,le!==null&&(ft=c(le),_e=le.tag,le!==ft||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(H=null,le=z),H!==le)){if(_e=ql,K="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=es,K="onPointerLeave",U="onPointerEnter",D="pointer"),ft=H==null?j:Dn(H),P=le==null?j:Dn(le),j=new _e(K,D+"leave",H,s,Q),j.target=ft,j.relatedTarget=P,K=null,Ai(Q)===z&&(_e=new _e(U,D+"enter",le,s,Q),_e.target=P,_e.relatedTarget=ft,K=_e),ft=K,H&&le)t:{for(_e=XT,U=H,D=le,P=0,K=U;K;K=_e(K))P++;K=0;for(var de=D;de;de=_e(de))K++;for(;0<P-K;)U=_e(U),P--;for(;0<K-P;)D=_e(D),K--;for(;P--;){if(U===D||D!==null&&U===D.alternate){_e=U;break t}U=_e(U),D=_e(D)}_e=null}else _e=null;H!==null&&n_(X,j,H,_e,!1),le!==null&&ft!==null&&n_(X,ft,le,_e,!0)}}e:{if(j=z?Dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ye=vg;else if(yg(j))if(Eg)Ye=aT;else{Ye=sT;var ue=iT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ea(z.elementType)&&(Ye=vg):Ye=rT;if(Ye&&(Ye=Ye(t,z))){_g(X,Ye,s,Q);break e}ue&&ue(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ul(j,"number",j.value)}switch(ue=z?Dn(z):window,t){case"focusin":(yg(ue)||ue.contentEditable==="true")&&(Ca=ue,zh=z,Yl=null);break;case"focusout":Yl=zh=Ca=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Cg(X,s,Q);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Cg(X,s,Q)}var Oe;if(Je)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ia?zr(t,s)&&(Be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(Mi&&s.locale!=="ko"&&(Ia||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ia&&(Oe=Bl()):(xi=Q,jl="value"in xi?xi.value:xi.textContent,Ia=!0)),ue=gc(z,Be),0<ue.length&&(Be=new Oi(Be,t,null,s,Q),X.push({event:Be,listeners:ue}),Oe?Be.data=Oe:(Oe=Ra(s),Oe!==null&&(Be.data=Oe)))),(Oe=Yn?WE(t,s):eT(t,s))&&(Be=gc(z,"onBeforeInput"),0<Be.length&&(ue=new Oi("onBeforeInput","beforeinput",null,s,Q),X.push({event:ue,listeners:Be}),ue.data=Oe)),FT(X,t,z,s,Q)}e_(X,n)})}function Eo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function gc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,s),h!=null&&l.unshift(Eo(t,h,f)),h=ci(t,n),h!=null&&l.push(Eo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function XT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=ci(s,f),z!=null&&p.unshift(Eo(s,z,I))):h||(z=ci(s,f),z!=null&&p.push(Eo(s,z,I)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var $T=/\r\n?/g,JT=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(JT,"")}function s_(t,n){return n=i_(n),i_(t)===n}function ht(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":On(t,"class",l);break;case"tabIndex":On(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,s,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){On(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ta(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ta(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,_a(t,s,l))}}function fd(t,n,s,l,h,f){switch(s){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Xt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):_a(t,s,l)}}}function rn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),l&&ht(t,n,"src",s.src,s,null);return;case"input":Le("invalid",t);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ht(t,n,l,Q,s,null)}}fu(t,f,E,I,z,p,h,!1);return;case"select":Le("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ht(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!l,n!=null?Ds(t,!!l,n,!1):s!=null&&Ds(t,!!l,s,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,s,null)}Os(t,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,I,l,s,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<vo.length;l++)Le(vo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,z,l,s,null)}return;default:if(Ea(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ht(t,n,E,l,s,null))}function ZT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||ht(t,n,H,null,l,X)}}for(var j in l){var H=l[j];if(X=s[j],l.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ht(t,n,j,H,l,X)}}va(t,p,E,I,z,Q,f,h);return;case"select":H=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ht(t,n,h,f,l,I)}n=E,s=p,l=H,j!=null?Ds(t,!!s,j,!1):!!l!=!!s&&(n!=null?Ds(t,!!s,n,!0):Ds(t,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,l,f)}du(t,j,H);return;case"option":for(var le in s)j=s[le],s.hasOwnProperty(le)&&j!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ht(t,n,le,null,l,j));for(I in l)j=l[I],H=s[I],l.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":ht(t,n,I,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)j=s[_e],s.hasOwnProperty(_e)&&j!=null&&!l.hasOwnProperty(_e)&&ht(t,n,_e,null,l,j);for(z in l)if(j=l[z],H=s[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ht(t,n,z,j,l,H)}return;default:if(Ea(n)){for(var ft in s)j=s[ft],s.hasOwnProperty(ft)&&j!==void 0&&!l.hasOwnProperty(ft)&&fd(t,n,ft,void 0,l,j);for(Q in l)j=l[Q],H=s[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||fd(t,n,Q,j,l,H);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&ht(t,n,U,null,l,j);for(X in l)j=l[X],H=s[X],!l.hasOwnProperty(X)||j===H||j==null&&H==null||ht(t,n,X,j,l,H)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&r_(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&r_(X)&&(I=I.responseEnd,p+=Q*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function eb(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(ib)}:o_;function ib(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function c_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),tl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")To(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,To(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[bi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&To(t.ownerDocument.body);s=h}while(s);tl(n)}function h_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ya(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function rb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ab(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ti(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function g_(t,n,s){switch(n=pc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function To(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var ni=new Map,p_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ne.d;ne.d={f:lb,r:ob,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:gb};function lb(){var t=gs.f(),n=oc();return t||n}function ob(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Mp(n):gs.r(t)}var Za=typeof document>"u"?null:document;function y_(t,n,s){var l=Za;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),rn(n,"link",t),Lt(n),l.head.appendChild(n)))}}function ub(t){gs.D(t),y_("dns-prefetch",t,null)}function cb(t,n){gs.C(t,n),y_("preconnect",t,n)}function hb(t,n,s){gs.L(t,n,s);var l=Za;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+bn(s.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=Wa(t);break;case"script":f=el(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(Ao(f))||(n=l.createElement("link"),rn(n,"link",t),Lt(n),l.head.appendChild(n)))}}function fb(t,n){gs.m(t,n);var s=Za;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=el(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ao(f)))return}l=s.createElement("link"),rn(l,"link",t),Lt(l),s.head.appendChild(l)}}}function db(t,n,s){gs.S(t,n,s);var l=Za;if(l&&t){var h=Si(l).hoistableStyles,f=Wa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bo(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&Td(t,s);var I=p=l.createElement("link");Lt(I),rn(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function mb(t,n){gs.X(t,n);var s=Za;if(s&&t){var l=Si(s).hoistableScripts,h=el(t),f=l.get(h);f||(f=s.querySelector(Ao(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),Lt(f),rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function gb(t,n){gs.M(t,n);var s=Za;if(s&&t){var l=Si(s).hoistableScripts,h=el(t),f=l.get(h);f||(f=s.querySelector(Ao(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),Lt(f),rn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function __(t,n,s,l){var h=(h=Re.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Wa(s.href),s=Si(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Wa(s.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(bo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||pb(h,t,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(s),s=Si(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Wa(t){return'href="'+bn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),rn(n,"link",s),Lt(n),t.head.appendChild(n))}function el(t){return'[src="'+bn(t)+'"]'}function Ao(t){return"script[async]"+t}function E_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(s.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),rn(l,"style",h),_c(l,s.precedence,t),n.instance=l;case"stylesheet":h=Wa(s.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=v_(s),(h=ni.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),rn(f,"link",l),n.state.loading|=4,_c(f,s.precedence,t),n.instance=f;case"script":return f=el(s.src),(h=t.querySelector(Ao(f)))?(n.instance=h,Lt(h),h):(l=s,(h=ni.get(f))&&(l=S({},s),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),rn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,s.precedence,t));return n.instance}function _c(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function T_(t,n,s){if(vc===null){var l=new Map,h=vc=new Map;h.set(s,l)}else h=vc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[bi]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function b_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Wa(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Lt(f);return}f=n.ownerDocument||n,l=v_(l),(h=ni.get(h))&&Td(l,h),f=f.createElement("link"),Lt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),rn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ec.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function vb(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*WT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(Eb,t),Tc=null,Ec.call(t))}function Eb(t,n){if(!(n.state.loading&4)){var s=Tc.get(t);if(s)var l=s.get(null);else{s=new Map,Tc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var So={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Tb(t,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function S_(t,n,s,l,h,f,p,E,I,z,Q,X){return t=new Tb(t,n,s,p,I,z,Q,X,E),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),t}function w_(t){return t?(t=Da,t):Da}function R_(t,n,s,l,h,f){h=w_(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Fs(t,l,n),s!==null&&(Cn(s,t,n),to(s,t,n))}function I_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){I_(t,n),(t=t.alternate)&&I_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&Cn(n,t,67108864),Sd(t,67108864)}}function x_(t){if(t.tag===13||t.tag===31){var n=zn();n=Nr(n);var s=Hr(t,n);s!==null&&Cn(s,t,n),Sd(t,n)}}var Ac=!0;function bb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function Ab(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function wd(t,n,s,l){if(Ac){var h=Rd(l);if(h===null)hd(t,n,l,Sc,s),D_(t,l);else if(wb(h,t,n,s,l))l.stopPropagation();else if(D_(t,l),n&4&&-1<Sb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=dt(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-Ae(p);E.entanglements[1]|=I,p&=~I}Li(f),(Ze&6)===0&&(ac=Wt()+500,_o(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&Cn(E,f,2),oc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(t,n,l,Sc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,s)}}function Rd(t){return t=Qn(t),Id(t)}var Sc=null;function Id(t){if(Sc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case Cs:return 2;case pn:return 8;case qn:case da:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Cd=!1,nr=null,ir=null,sr=null,wo=new Map,Ro=new Map,rr=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function Io(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function wb(t,n,s,l,h){switch(n){case"focusin":return nr=Io(nr,t,n,s,l,h),!0;case"dragenter":return ir=Io(ir,t,n,s,l,h),!0;case"mouseover":return sr=Io(sr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return wo.set(f,Io(wo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ro.set(f,Io(Ro.get(f)||null,t,n,s,l,h)),!0}return!1}function O_(t){var n=Ai(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,li(t.priority,function(){x_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,li(t.priority,function(){x_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zl=l,s.target.dispatchEvent(l),zl=null}else return n=Fn(s),n!==null&&C_(n),t.blockedOn=s,!1;n.shift()}return!0}function M_(t,n,s){wc(t)&&s.delete(n)}function Rb(){Cd=!1,nr!==null&&wc(nr)&&(nr=null),ir!==null&&wc(ir)&&(ir=null),sr!==null&&wc(sr)&&(sr=null),wo.forEach(M_),Ro.forEach(M_)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var Ic=null;function V_(t){Ic!==t&&(Ic=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Id(l||s)===null)continue;break}var f=Fn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function tl(t){function n(I){return Rc(I,t)}nr!==null&&Rc(nr,t),ir!==null&&Rc(ir,t),sr!==null&&Rc(sr,t),wo.forEach(n),Ro.forEach(n);for(var s=0;s<rr.length;s++){var l=rr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Xt]||null;if(typeof f=="function")p||V_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Xt]||null)E=p.formAction;else if(Id(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),V_(s)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}Cc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=zn();R_(s,l,t,n,null,null)},Cc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),oc(),n[Ti]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<rr.length&&n!==0&&n<rr[s].priority;s++);rr.splice(s,0,t),s===0&&O_(t)}};var U_=e.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Ib={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Z=xc.inject(Ib),oe=xc}catch{}}return xo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=qp,f=Gp,p=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=S_(t,1,!1,null,null,s,l,null,h,f,p,k_),t[Ti]=n.current,cd(t),new xd(n)},xo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=qp,p=Gp,E=Fp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=S_(t,1,!0,n,s??null,l,h,I,f,p,E,k_),n.context=w_(null),s=n.current,l=zn(),l=Nr(l),h=Gs(l),h.callback=null,Fs(s,h,l),s=l,n.current.lanes=s,Me(n,s),Li(n),t[Ti]=n.current,cd(t),new Cc(n)},xo.version="19.2.3",xo}var Q_;function Lb(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Ub(),Od.exports}var Pb=Lb();const zb=()=>{};var K_={};const wv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},jb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],y=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,y=d?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[A],i[S],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new Bb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hb=function(r){const e=wv(r);return Rv.encodeByteArray(e,!0)},Yc=function(r){return Hb(r).replace(/\./g,"")},Iv=function(r){try{return Rv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gb=()=>qb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iv(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return zb()||Gb()||Fb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>mh()?.emulatorHosts?.[r],Kb=r=>{const e=Cv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},xv=()=>mh()?.config,Nv=r=>mh()?.[`_${r}`];class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function Xb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const ko={};function $b(){const r={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?r.emulator.push(e):r.prod.push(e);return r}function Jb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Y_=!1;function Ov(r,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||ko[r]===e||ko[r]||Y_)return;ko[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=$b().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Y_=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Jb(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),pe=i("preprendIcon"),me=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;y(ge),A(ee,se);const $e=_();g(me,pe),ge.append(me,W,ee,$e),document.body.appendChild(ge)}c?(W.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function Wb(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sA(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const lA="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=lA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?oA(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,y,a)}}function oA(r,e){return r.replace(uA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const uA=/\{\$([^}]+)}/g;function cA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _r(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(X_(c)&&X_(d)){if(!_r(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function $o(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function hA(r,e){const i=new fA(r,e);return i.subscribe.bind(i)}class fA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function vn(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class mA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(r){return r===ta?void 0:r}function pA(r){return r.instantiationMode==="EAGER"}class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const _A={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},vA=He.INFO,EA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},TA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=EA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=vA,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const bA=(r,e)=>e.some(i=>r instanceof i);let $_,J_;function AA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Wd=new WeakMap,Vv=new WeakMap,Ld=new WeakMap,xm=new WeakMap;function wA(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(dr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),xm.set(e,r),e}function RA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IA(r){em=r(em)}function CA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return Vv.set(a,e.sort?e.sort():[e]),dr(a)}:SA().includes(r)?function(...e){return r.apply(Pd(this),e),dr(Mv.get(this))}:function(...e){return dr(r.apply(Pd(this),e))}}function xA(r){return typeof r=="function"?CA(r):(r instanceof IDBTransaction&&RA(r),bA(r,AA())?new Proxy(r,em):r)}function dr(r){if(r instanceof IDBRequest)return wA(r);if(Ld.has(r))return Ld.get(r);const e=xA(r);return e!==r&&(Ld.set(r,e),xm.set(e,r)),e}const Pd=r=>xm.get(r);function NA(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),y=dr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(dr(d.result),g.oldVersion,g.newVersion,dr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const DA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],zd=new Map;function Z_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=OA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||DA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&g.done]))[0]};return zd.set(e,c),c}IA(r=>({...r,get:(e,i,a)=>Z_(e,i)||r.get(e,i,a),has:(e,i)=>!!Z_(e,i)||r.has(e,i)}));class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const Es=new Cm("@firebase/app"),kA="@firebase/app-compat",UA="@firebase/analytics-compat",LA="@firebase/analytics",PA="@firebase/app-check-compat",zA="@firebase/app-check",jA="@firebase/auth",BA="@firebase/auth-compat",HA="@firebase/database",qA="@firebase/data-connect",GA="@firebase/database-compat",FA="@firebase/functions",QA="@firebase/functions-compat",KA="@firebase/installations",YA="@firebase/installations-compat",XA="@firebase/messaging",$A="@firebase/messaging-compat",JA="@firebase/performance",ZA="@firebase/performance-compat",WA="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",iS="@firebase/firestore",sS="@firebase/ai",rS="@firebase/firestore-compat",aS="firebase",lS="12.6.0";const nm="[DEFAULT]",oS={[tm]:"fire-core",[kA]:"fire-core-compat",[LA]:"fire-analytics",[UA]:"fire-analytics-compat",[zA]:"fire-app-check",[PA]:"fire-app-check-compat",[jA]:"fire-auth",[BA]:"fire-auth-compat",[HA]:"fire-rtdb",[qA]:"fire-data-connect",[GA]:"fire-rtdb-compat",[FA]:"fire-fn",[QA]:"fire-fn-compat",[KA]:"fire-iid",[YA]:"fire-iid-compat",[XA]:"fire-fcm",[$A]:"fire-fcm-compat",[JA]:"fire-perf",[ZA]:"fire-perf-compat",[WA]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[iS]:"fire-fst",[rS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[aS]:"fire-js-all"};const Xc=new Map,uS=new Map,im=new Map;function e0(r,e){try{r.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function fl(r){const e=r.name;if(im.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())e0(i,r);for(const i of uS.values())e0(i,r);return!0}function Nm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Xo("app","Firebase",cS);class hS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Tl=lS;function kv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=xv()),!i)throw mr.create("no-options");const c=Xc.get(o);if(c){if(_r(i,c.options)&&_r(a,c.config))return c;throw mr.create("duplicate-app",{appName:o})}const d=new yA(o);for(const g of im.values())d.addComponent(g);const y=new hS(i,a,d);return Xc.set(o,y),y}function Uv(r=nm){const e=Xc.get(r);if(!e&&r===nm&&xv())return kv();if(!e)throw mr.create("no-app",{appName:r});return e}function gr(r,e,i){let a=oS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}fl(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const fS="firebase-heartbeat-database",dS=1,Bo="firebase-heartbeat-store";let jd=null;function Lv(){return jd||(jd=NA(fS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw mr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function mS(r){try{const i=(await Lv()).transaction(Bo),a=await i.objectStore(Bo).get(Pv(r));return await i.done,a}catch(e){if(e instanceof Rs)Es.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function t0(r,e){try{const a=(await Lv()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,Pv(r)),await a.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const a=mr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}const gS=1024,pS=30;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pS){const o=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:i,unsentEntries:a}=_S(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function _S(r,e=gS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),i0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),i0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function ES(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function TS(r){fl(new ra("platform-logger",e=>new MA(e),"PRIVATE")),fl(new ra("heartbeat",e=>new yS(e),"PRIVATE")),gr(tm,W_,r),gr(tm,W_,"esm2020"),gr("fire-js","")}TS("");var bS="firebase",AS="12.7.0";gr(bS,AS,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=zv,jv=new Xo("auth","Firebase",zv());const $c=new Cm("@firebase/auth");function wS(r,...e){$c.logLevel<=He.WARN&&$c.warn(`Auth (${Tl}): ${r}`,...e)}function Pc(r,...e){$c.logLevel<=He.ERROR&&$c.error(`Auth (${Tl}): ${r}`,...e)}function Ts(r,...e){throw Dm(r,...e)}function zi(r,...e){return Dm(r,...e)}function Bv(r,e,i){const a={...SS(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:r.name})}function vs(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return jv.create(r,...e)}function Te(r,e,...i){if(!r)throw Dm(e,...i)}function ys(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pc(e),new Error(e)}function bs(r,e){r||ys(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function RS(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||tA()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=Zb()||nA()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(r,e){bs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Hv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new Jo(3e4,6e4);function Zo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bl(r,e,i,a,o={}){return qv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=$o({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...c};return eA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&El(r.emulatorConfig.host)&&(_.credentials="include"),Hv.fetch()(await Gv(r,r.config.apiHost,i,y),_)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...xS,...e};try{const o=new OS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(r,A,_);Ts(r,A)}}catch(o){if(o instanceof Rs)throw o;Ts(r,"network-request-failed",{message:String(o)})}}async function Mm(r,e,i,a,o={}){const c=await bl(r,e,i,a,o);return"mfaPendingCredential"in c&&Ts(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Gv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Om(r.config,o):`${r.config.apiScheme}://${o}`;return NS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),DS.get())})}}function Nc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(r,e,a);return o.customData._tokenResponse=i,o}async function MS(r,e){return bl(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return bl(r,"POST","/v1/accounts:lookup",e)}function Uo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const i=vn(r),a=await i.getIdToken(e),o=Vm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Uo(Bd(o.auth_time)),issuedAtTime:Uo(Bd(o.iat)),expirationTime:Uo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Vm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iv(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function r0(r){const e=Vm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&kS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function kS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const e=r.auth,i=await r.getIdToken(),a=await Ho(r,Jc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Fv(o.providerUserInfo):[],d=PS(r.providerData,c),y=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,_=y?g:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function LS(r){const e=vn(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PS(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Fv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zS(r,e){const i=await qv(r,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Gv(r,o,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&El(r.emulatorConfig.host)&&(g.credentials="include"),Hv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jS(r,e){return bl(r,"POST","/v2/accounts:revokeToken",Zo(r,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=r0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await zS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ll;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ys("not implemented")}}function lr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return VS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ho(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:se}=i;Te(S&&se,e,"internal-error");const ee=ll.fromJSON(this.name,se);Te(typeof S=="string",e,"internal-error"),lr(a,e.name),lr(o,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(y,e.name),lr(g,e.name),lr(_,e.name),lr(A,e.name);const pe=new yi({uid:S,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(pe.providerData=W.map(me=>({...me}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,i,a=!1){const o=new ll;o.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Fv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new ll;y.updateFromIdToken(a);const g=new yi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const a0=new Map;function _s(r){bs(r instanceof Function,"Expected a class definition");let e=a0.get(r);return e?(bs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,a0.set(r,e),e)}class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Qv.type="NONE";const l0=Qv;function zc(r,e,i){return`firebase:${r}:${e}:${i}`}class ol{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ol(_s(l0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||_s(l0);const d=zc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await Jc(e,{idToken:A}).catch(()=>{});if(!M)break;S=await yi._fromGetAccountInfoResponse(e,M,A)}else S=yi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ol(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ol(c,e,a))}}function o0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($v(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Wv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Xv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Kv(r=gn()){return/firefox\//i.test(r)}function Yv(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xv(r=gn()){return/crios\//i.test(r)}function $v(r=gn()){return/iemobile/i.test(r)}function Jv(r=gn()){return/android/i.test(r)}function Zv(r=gn()){return/blackberry/i.test(r)}function Wv(r=gn()){return/webos/i.test(r)}function km(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BS(r=gn()){return km(r)&&!!window.navigator?.standalone}function HS(){return iA()&&document.documentMode===10}function e1(r=gn()){return km(r)||Jv(r)||Wv(r)||Zv(r)||/windows phone/i.test(r)||$v(r)}function t1(r,e=[]){let i;switch(r){case"Browser":i=o0(gn());break;case"Worker":i=`${o0(gn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class qS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function GS(r,e={}){return bl(r,"GET","/v2/passwordPolicy",Zo(r,e))}const FS=6;class QS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class KS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new qS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(vs(this));const i=e?vn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),i=new QS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await jS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_s(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(r){return vn(r)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YS(r){Um=r}function XS(r){return Um.loadJS(r)}function $S(){return Um.gapiScript}function JS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZS(r,e){const i=Nm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_r(c,e??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:e})}function WS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function e2(r,e,i){const a=Wo(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=n1(e),{host:d,port:y}=t2(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(_r(_,a.config.emulator)&&_r(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Dv(`${c}//${d}${g}`),Ov("Auth",!0)):n2()}function n1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function t2(r){const e=n1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function n2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class i1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function ul(r,e){return Mm(r,"POST","/v1/accounts:signInWithIdp",Zo(r,e))}const i2="http://localhost";class aa extends i1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new aa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ul(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ul(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ul(e,i)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class s1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends eu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ur extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends eu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends eu{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function s2(r,e){return Mm(r,"POST","/v1/accounts:signUp",Zo(r,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await yi._fromIdTokenResponse(e,a,o),d=h0(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=h0(a);return new As({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function r2(r){if(si(r.app))return Promise.reject(vs(r));const e=Wo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await s2(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Rs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function r1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function a2(r,e,i=!1){const a=await Ho(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return As._forOperation(r,"link",a)}async function l2(r,e,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(vs(a));const o="reauthenticate";try{const c=await Ho(r,r1(a,o,e,r),i);Te(c.idToken,a,"internal-error");const d=Vm(c.idToken);Te(d,a,"internal-error");const{sub:y}=d;return Te(r.uid===y,a,"user-mismatch"),As._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function o2(r,e,i=!1){if(si(r.app))return Promise.reject(vs(r));const a="signIn",o=await r1(r,a,e),c=await As._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function u2(r,e){return Mm(r,"POST","/v1/accounts:signInWithCustomToken",Zo(r,e))}async function c2(r,e){if(si(r.app))return Promise.reject(vs(r));const i=Wo(r),a=await u2(i,{token:e,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function h2(r,e,i,a){return vn(r).onIdTokenChanged(e,i,a)}function f2(r,e,i){return vn(r).beforeAuthStateChanged(e,i)}function d2(r,e,i,a){return vn(r).onAuthStateChanged(e,i,a)}const eh="__sak";class a1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m2=1e3,g2=10;class l1 extends a1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);HS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,g2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const p2=l1;class o1 extends a1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}o1.type="SESSION";const u1=o1;function y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await y2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class _2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Lm("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function v2(r){ji().location.href=r}function c1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function E2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){return navigator?.serviceWorker?.controller||null}function b2(){return c1()?self:null}const h1="firebaseLocalStorageDb",A2=1,th="firebaseLocalStorage",f1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function S2(){const r=indexedDB.deleteDatabase(h1);return new tu(r).toPromise()}function am(){const r=indexedDB.open(h1,A2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:f1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await S2(),e(await am()))})})}async function f0(r,e,i){const a=ph(r,!0).put({[f1]:e,value:i});return new tu(a).toPromise()}async function w2(r,e){const i=ph(r,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function d0(r,e){const i=ph(r,!0).delete(e);return new tu(i).toPromise()}const R2=800,I2=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>I2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(b2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await f0(e,eh,"1"),await d0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>w2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const C2=d1;new Jo(3e4,6e4);function x2(r,e){return e?_s(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends i1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ul(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function N2(r){return o2(r.auth,new Pm(r),r.bypassAuthState)}function D2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),l2(i,new Pm(r),r.bypassAuthState)}async function O2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),a2(i,new Pm(r),r.bypassAuthState)}class m1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Ts(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M2=new Jo(2e3,1e4);class al extends m1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}al.currentPopupAction=null;const V2="pendingRedirect",jc=new Map;class k2 extends m1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(r,e){const i=z2(e),a=P2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function L2(r,e){jc.set(r._key(),e)}function P2(r){return _s(r._redirectPersistence)}function z2(r){return zc(V2,r.config.apiKey,r.name)}async function j2(r,e,i=!1){if(si(r.app))return Promise.reject(vs(r));const a=Wo(r),o=x2(a,e),d=await new k2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const B2=600*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!g1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function g1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g1(r);default:return!1}}async function G2(r,e={}){return bl(r,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function K2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G2(r);for(const i of e)try{if(Y2(i))return}catch{}Ts(r,"unauthorized-domain")}function Y2(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Q2.test(i))return!1;if(F2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const X2=new Jo(3e4,6e4);function g0(){const r=ji().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $2(r){return new Promise((e,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(zi(r,"network-request-failed"))},timeout:X2.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const o=JS("iframefcb");return ji()[o]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},XS(`${$S()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function J2(r){return Bc=Bc||$2(r),Bc}const Z2=new Jo(5e3,15e3),W2="__/auth/iframe",ew="emulator/auth/iframe",tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Om(e,ew):`https://${r.config.authDomain}/${W2}`,a={apiKey:e.apiKey,appName:r.name,v:Tl},o=nw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function sw(r){const e=await J2(r),i=ji().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:iw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),y=ji().setTimeout(()=>{c(d)},Z2.get());function g(){ji().clearTimeout(y),o(a)}a.ping(g).then(g,()=>{c(d)})}))}const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aw=500,lw=600,ow="_blank",uw="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cw(r,e,i,a=aw,o=lw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...rw,width:a.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(y=Xv(_)?ow:i),Kv(_)&&(e=e||uw,g.scrollbars="yes");const A=Object.entries(g).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(BS(_)&&y!=="_self")return hw(e||"",y),new p0(null);const S=window.open(e||"",y,A);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new p0(S)}function hw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const fw="__/auth/handler",dw="emulator/auth/handler",mw=encodeURIComponent("fac");async function y0(r,e,i,a,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof s1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",cA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof eu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const g=await r._getAppCheckToken(),_=g?`#${mw}=${encodeURIComponent(g)}`:"";return`${gw(r)}?${$o(y).slice(1)}${_}`}function gw({config:r}){return r.emulator?Om(r,dw):`https://${r.authDomain}/${fw}`}const Hd="webStorageSupport";class pw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=j2,this._overrideRedirectResult=L2}async _openPopup(e,i,a,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(e,i,a,sm(),o);return cw(e,c,Lm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await y0(e,i,a,sm(),o);return v2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await sw(e),a=new H2(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=K2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return e1()||Yv()||km()}}const yw=pw;var _0="@firebase/auth",v0="1.12.0";class _w{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(r){fl(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(r)},_=new KS(a,o,c,g);return WS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fl(new ra("auth-internal",e=>{const i=Wo(e.getProvider("auth").getImmediate());return(a=>new _w(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(_0,v0,vw(r)),gr(_0,v0,"esm2020")}const Tw=300,bw=Nv("authIdTokenMaxAge")||Tw;let E0=null;const Aw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bw)return;const o=i?.token;E0!==o&&(E0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sw(r=Uv()){const e=Nm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ZS(r,{popupRedirectResolver:yw,persistence:[C2,p2,u1]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Aw(c.toString());f2(i,d,()=>d(i.currentUser)),h2(i,y=>d(y))}}const o=Cv("auth");return o&&e2(i,`http://${o}`),i}function ww(){return document.getElementsByTagName("head")?.[0]??document}YS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",ww().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,p1;(function(){var r;function e(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(k,N,V){for(var R=Array(arguments.length-2),We=2;We<arguments.length;We++)R[We-2]=arguments[We];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)k[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],N=x.g[2];let V=x.g[3],R;R=w+(V^C&(N^V))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(N^w&(C^N))+k[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(C^V&(w^C))+k[2]+606105819&4294967295,N=V+(R<<17&4294967295|R>>>15),R=C+(w^N&(V^w))+k[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(V^C&(N^V))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(N^w&(C^N))+k[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(C^V&(w^C))+k[6]+2821735955&4294967295,N=V+(R<<17&4294967295|R>>>15),R=C+(w^N&(V^w))+k[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(V^C&(N^V))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(N^w&(C^N))+k[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(C^V&(w^C))+k[10]+4294925233&4294967295,N=V+(R<<17&4294967295|R>>>15),R=C+(w^N&(V^w))+k[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(V^C&(N^V))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(N^w&(C^N))+k[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(C^V&(w^C))+k[14]+2792965006&4294967295,N=V+(R<<17&4294967295|R>>>15),R=C+(w^N&(V^w))+k[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^V&(C^N))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^N&(w^C))+k[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(V^w))+k[11]+643717713&4294967295,N=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(N^V))+k[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(C^N))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^N&(w^C))+k[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(V^w))+k[15]+3634488961&4294967295,N=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(N^V))+k[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(C^N))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^N&(w^C))+k[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(V^w))+k[3]+4107603335&4294967295,N=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(N^V))+k[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(C^N))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^N&(w^C))+k[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(V^w))+k[7]+1735328473&4294967295,N=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(N^V))+k[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^V)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^N)+k[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^C)+k[11]+1839030562&4294967295,N=V+(R<<16&4294967295|R>>>16),R=C+(N^V^w)+k[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^V)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^N)+k[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^C)+k[7]+4139469664&4294967295,N=V+(R<<16&4294967295|R>>>16),R=C+(N^V^w)+k[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^V)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^N)+k[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^C)+k[3]+3572445317&4294967295,N=V+(R<<16&4294967295|R>>>16),R=C+(N^V^w)+k[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^V)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^N)+k[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^C)+k[15]+530742520&4294967295,N=V+(R<<16&4294967295|R>>>16),R=C+(N^V^w)+k[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~V))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~N))+k[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~C))+k[14]+2878612391&4294967295,N=V+(R<<15&4294967295|R>>>17),R=C+(V^(N|~w))+k[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~V))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~N))+k[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~C))+k[10]+4293915773&4294967295,N=V+(R<<15&4294967295|R>>>17),R=C+(V^(N|~w))+k[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~V))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~N))+k[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~C))+k[6]+2734768916&4294967295,N=V+(R<<15&4294967295|R>>>17),R=C+(V^(N|~w))+k[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~V))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~N))+k[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~C))+k[2]+718787259&4294967295,N=V+(R<<15&4294967295|R>>>17),R=C+(V^(N|~w))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+V&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=C;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<w;)if(k[N++]=x.charCodeAt(V++),N==this.blockSize){o(this,k),N=0;break}}else for(;V<w;)if(k[N++]=x[V++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)x[w++]=this.g[C]>>>k&255;return x};function c(x,w){var C=y;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let k=!0;for(let N=x.length-1;N>=0;N--){const V=x[N]|0;k&&V==w||(C[N]=V,k=!1)}this.g=C}var y={};function g(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return ee(_(-x));const w=[];let C=1;for(let k=0;x>=C;k++)w[k]=x/C|0,C*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return ee(A(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let k=S;for(let V=0;V<x.length;V+=8){var N=Math.min(8,x.length-V);const R=parseInt(x.substring(V,V+N),w);N<8?(N=_(Math.pow(w,N)),k=k.j(N).add(_(R))):(k=k.j(C),k=k.add(_(R)))}return k}var S=g(0),M=g(1),F=g(16777216);r=d.prototype,r.m=function(){if(se(this))return-ee(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);x+=(k>=0?k:4294967296+k)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(se(this))return"-"+ee(this).toString(x);const w=_(Math.pow(x,6));var C=this;let k="";for(;;){const N=$e(C,w).g;C=pe(C,N.j(w));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,W(C))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function se(x){return x.h==-1}r.l=function(x){return x=pe(this,x),se(x)?-1:W(x)?0:1};function ee(x){const w=x.g.length,C=[];for(let k=0;k<w;k++)C[k]=~x.g[k];return new d(C,~x.h).add(M)}r.abs=function(){return se(this)?ee(this):this},r.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let k=0;for(let N=0;N<=w;N++){let V=k+(this.i(N)&65535)+(x.i(N)&65535),R=(V>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);k=R>>>16,V&=65535,R&=65535,C[N]=R<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function pe(x,w){return x.add(ee(w))}r.j=function(x){if(W(this)||W(x))return S;if(se(this))return se(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(se(x))return ee(this.j(ee(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<x.g.length;N++){const V=this.i(k)>>>16,R=this.i(k)&65535,We=x.i(N)>>>16,bt=x.i(N)&65535;C[2*k+2*N]+=R*bt,me(C,2*k+2*N),C[2*k+2*N+1]+=V*bt,me(C,2*k+2*N+1),C[2*k+2*N+1]+=R*We,me(C,2*k+2*N+1),C[2*k+2*N+2]+=V*We,me(C,2*k+2*N+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function me(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ge(x,w){this.g=x,this.h=w}function $e(x,w){if(W(w))throw Error("division by zero");if(W(x))return new ge(S,S);if(se(x))return w=$e(ee(x),w),new ge(ee(w.g),ee(w.h));if(se(w))return w=$e(x,ee(w)),new ge(ee(w.g),w.h);if(x.g.length>30){if(se(x)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,k=w;k.l(x)<=0;)C=lt(C),k=lt(k);var N=Pe(C,1),V=Pe(k,1);for(k=Pe(k,2),C=Pe(C,2);!W(k);){var R=V.add(k);R.l(x)<=0&&(N=N.add(C),V=R),k=Pe(k,1),C=Pe(C,1)}return w=pe(x,N.j(w)),new ge(N,w)}for(N=S;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=_(C),R=V.j(w);se(R)||R.l(x)>0;)C-=k,V=_(C),R=V.j(w);W(V)&&(V=M),N=N.add(V),x=pe(x,R)}return new ge(N,x)}r.B=function(x){return $e(this,x).h},r.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&x.i(k);return new d(C,this.h&x.h)},r.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|x.i(k);return new d(C,this.h|x.h)},r.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^x.i(k);return new d(C,this.h^x.h)};function lt(x){const w=x.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new d(C,x.h)}function Pe(x,w){const C=w>>5;w%=32;const k=x.g.length-C,N=[];for(let V=0;V<k;V++)N[V]=w>0?x.i(V+C)>>>w|x.i(V+C+1)<<32-w:x.i(V+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,p1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,pr=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y1,No,_1,Hc,lm,v1,E1,T1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[L].apply(T,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const T=ge.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new se(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,Pe=!1,x=new me,w=()=>{const u=Promise.resolve(void 0);lt=()=>{u.then(C)}};function C(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function We(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(We,N),We.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),wt={};function gt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)gt(u,m[B],v,T,L);return null}return v=xr(v),u&&u[bt]?u.J(m,v,y(T)?!!T.capture:!1,L):Ki(u,m,v,!1,T,L)}function Ki(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let Ie=Xi(u);if(Ie||(u[ze]=Ie=new re(u)),v=Ie.add(m,v,T,te,B),v.proxy)return v;if(T=Yi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(En(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yi(){function u(v){return m.call(u.src,u.listener,v)}const m=Ir;return u}function Ei(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ei(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=xr(v),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,T,L),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,T,L)),(v=u>-1?m[u]:null)&&Is(v))}function Is(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(En(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Xi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[ze]=null)):ce(u)}}}function En(u){return u in wt?wt[u]:wt[u]="on"+u}function Ir(u,m){if(u.da)u=!0;else{m=new We(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Is(u),u=v.call(T,m)}return u}function Xi(u){return u=u[ze],u instanceof re?u:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(m){return u.handleEvent(m)}),u[Cr])}function Rt(){k.call(this),this.i=new re(this),this.M=this,this.G=null}S(Rt,k),Rt.prototype[bt]=!0,Rt.prototype.removeEventListener=function(u,m,v,T){Ei(this,u,m,v,T)};function Nt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),ie(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=Tn(B,T,!0,m)&&L;if(B=m.g=u,L=Tn(B,T,!0,m)&&L,L=Tn(B,T,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=Tn(B,T,!1,m)&&L}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},Rt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Rt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Tn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ie=te.listener,Ot=te.ha||te.src;te.fa&&Ee(u.i,te),L=Ie.call(Ot,T)!==!1&&L}}return L&&!T.defaultPrevented}function Il(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function fa(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,fa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(u){k.call(this),this.h=u,this.g={}}S($i,k);var Cs=[];function pn(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Is(m)},u),u.g={}}$i.prototype.N=function(){$i.Z.N.call(this),pn(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=d.JSON.stringify,da=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ga(){}function q(){}var Z={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function oe(){N.call(this,"d")}S(oe,N);function fe(){N.call(this,"c")}S(fe,N);var Ae={},ot=null;function xe(){return ot=ot||new Rt}Ae.Ia="serverreachability";function tt(u){N.call(this,Ae.Ia,u)}S(tt,N);function pt(u){const m=xe();Nt(m,new tt(m))}Ae.STAT_EVENT="statevent";function Ne(u,m){N.call(this,Ae.STAT_EVENT,u),this.stat=m}S(Ne,N);function ke(u){const m=xe();Nt(m,new Ne(m,u))}Ae.Ja="timingevent";function dt(u,m){N.call(this,Ae.Ja,u),this.size=m}S(dt,N);function Dt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function un(){this.g=!0}un.prototype.ua=function(){this.g=!1};function cn(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let Je=0;Je<Ie.length;Je++){var Ot=Ie[Je].split("=");if(Ot.length>1){const Et=Ot[0];Ot=Ot[1];const Yn=Et.split("_");te=Yn.length>=2&&Yn[1]=="type"?te+(Et+"="+Ot+"&"):te+(Et+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function xs(u,m,v,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function Gn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,v)+(T?" "+T:"")})}function Me(u,m){u.info(function(){return"TIMEOUT: "+m})}un.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return qn(B)}catch{return m}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function Nr(){}S(Nr,ga),Nr.prototype.g=function(){return new XMLHttpRequest},xl=new Nr;function Ji(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Ut={},Xt={};function Ti(u,m,v){u.M=1,u.A=Dr(Pt(m)),u.u=v,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),bi(u),u.B=Pt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new oi,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Wt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Cs[0]=L.toString()),L=Cs);for(let B=0;B<L.length;B++){const te=gt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pt(),cn(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=hi(this.g),Ot=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ie!=4||Ot==7||(Ot==8||Je<=0?pt(3):pt(2)),Ai(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,xs(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,ke(12),Dn(this),Fn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=cu(this,v),Et==Xt){Ie==4&&(this.m=4,ke(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Ut){this.m=4,ke(15),Gn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,Et,null),Si(this,Et);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,ke(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Gl(te),te.P=!0,ke(11))}}else Gn(this.i,this.l,v,null),Si(this,v);Ie==4&&Dn(this),this.o&&!this.K&&(Ie==4?vu(this.j,this):(this.o=!1,bi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Dn(this),Fn(this)}}}catch{}};function kh(u){if(!uu(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const T=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Xt:(v=Number(m.substring(v,T)),isNaN(v)?Ut:(T+=1,T+v>m.length?Xt:(m=m.slice(T,T+v),u.C=T+v,m)))}li.prototype.cancel=function(){this.K=!0,Dn(this)};function bi(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Dt(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Me(this.i,this.B),this.M!=2&&(pt(),ke(17)),Dn(this),this.m=2,Fn(this)):ya(this,this.T-u)};function Fn(u){u.j.I==0||u.K||vu(u.j,u)}function Dn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Ls(v);else break e;Pr(v),ke(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Dt(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&wa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Je=L[m];const Et=Je[0];if(!(Et<=v.K))if(v.K=Et,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Yn=Je[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Mi=Je[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const fi=Je[5];fi!=null&&typeof fi=="number"&&fi>0&&(T=1.5*fi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const di=u.g;if(di){const zr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var B=T.h;B.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ol(B,B.h),B.h=null))}if(T.G){const Ra=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(T.wa=Ra,nt(T.J,T.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=bu(T,T.L?T.ba:null,T.W),te.L){Ml(T.h,te);var Ie=te,Ot=T.O;Ot&&(Ie.H=Ot),Ie.D&&(Ai(Ie),bi(Ie)),T.g=te}else yu(T);v.i.length>0&&Di(v)}else Je[0]!="stop"&&Je[0]!="close"||Oi(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Oi(v,7):Hl(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}pt(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ol(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nl.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function On(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof On?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,kl(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Ns(this,m[4]),this.h=Ii(m[5]||"",!0),kl(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}On.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,va,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?Ul:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,du)),u.join("")},On.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?$t(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const Ie=L[te++];Ie=="."?T&&te==L.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(Ie),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?kl(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new On(u)}function $t(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function kl(u,m,v){m instanceof Os?(u.i=m,Ta(u.i,u.l)):(v||(m=Or(m,Ds)),u.i=new Os(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Dr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,fu=/[#\?:]/g,Ul=/[#\?]/g,Ds=/[#\?@]/g,du=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Os.prototype,r.add=function(u,m){An(this),this.i=null,u=Ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){An(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ll(u,m){return An(u),m=Ms(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Pl(u,m){An(u);let v=[];if(typeof m=="string")Ll(u,m)&&(v=v.concat(u.g.get(Ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return An(this),this.i=null,u=Ms(this,u),Ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Ms(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ji(v);v=Pl(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+Ji(v[B])),u.push(te)}}return this.i=u.join("&")};function gu(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(mu(this,T),Ea(this,L,v))},u)),u.j=m}function ui(u,m){const v=new un;if(d.Image){const T=new Image;T.onload=A(Qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Qn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function zl(u,m){const v=new un,T=new AbortController,L=setTimeout(()=>{T.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Vs(){this.g=new ma}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,ga),Ci.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){Rt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,Rt),r=Mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):ci(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},r.Na=function(u){this.g&&(this.response=u,ks(this))},r.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&Ji(v):nt(u,m,v))}function ut(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,Rt);var xi=/^https?$/i,jl=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bl(u),Zi(u)}function Bl(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},r.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(hu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!xi.test(te?te.toLowerCase():"")}v=T}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Bl(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),da(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=ou(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ke(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new Vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Us.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ke(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),Di(this)};function Hl(u){if(Aa(u),u.I==3){var m=u.V++,v=Pt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Lr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Dr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Tu(u)}function Ls(u){u.g&&(Gl(u),u.g.cancel(),u.g=null)}function Aa(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Dl(u.h)&&!u.m){u.m=!0;var m=u.Ea;lt||w(),Pe||(lt(),Pe=!0),x.add(m,u),u.D=0}}function Sa(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Dt(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,L,m),v=Pt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Lr(this,v),B&&(this.R?m="headers="+Ji(Kn(B))+"&"+m:this.u&&Vr(v,this.u,B)),Ol(this.h,L),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?ql(this,u):this.i.length==0||Dl(this.h)||ql(this))};function ql(u,m){var v;m?v=m.l:v=u.V++;const T=Pt(u.J);nt(T,"SID",u.M),nt(T,"RID",v),nt(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Vr(T,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ol(u.h,v),Ti(v,T,m)}function Lr(u,m){u.H&&Ve(u.H,function(v,T){nt(m,T,v)}),u.l&&Ve({},function(v,T){nt(m,T,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ie=-1;for(;;){const Ot=["count="+v];Ie==-1?v>0?(Ie=L[0].g,Ot.push("ofs="+Ie)):Ie=0:Ot.push("ofs="+Ie);let Je=!0;for(let Et=0;Et<v;Et++){var B=L[Et].g;const Yn=L[Et].map;if(B-=Ie,B<0)Ie=Math.max(0,L[Et].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var te=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Mi,fi]of te){let di=fi;y(fi)&&(di=qn(fi)),Ot.push(B+Mi+"="+encodeURIComponent(di))}}catch(Mi){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(Yn)}}if(Je){te=Ot.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;lt||w(),Pe||(lt(),Pe=!0),x.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Dt(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Dt(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Ls(this),_u(this))};function Gl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(Pt(m)),v.u=null,v.R=!0,pa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ls(this),Pr(this),ke(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){wa(u),Gl(u),u.g=null;var T=2}else if(Ri(u.h,m))v=m.G,Ml(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=xe(),Nt(T,new dt(T,v)),Di(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Sa(u,m)||T==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new On(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(T,"https"),Dr(T),L?ui(T.toString(),v):zl(T.toString(),v)}else ke(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof On?Pt(v):new On(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ns(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new On(null);T&&$t(B,T),m&&(B.g=m),L&&Ns(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&nt(T,v,m),nt(T,"VER",u.ka),Lr(u,T),T}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ci({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){Rt.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}S(yn,Rt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Hl(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=qn(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Di(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,yn.Z.N.call(this)};function wu(u){oe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,oe);function Ru(){fe.call(this),this.status=1}S(Ru,fe);function es(u){this.g=u}S(es,Su),es.prototype.ra=function(){Nt(this.g,"a")},es.prototype.qa=function(u){Nt(this.g,new wu(u))},es.prototype.pa=function(u){Nt(this.g,new Ru)},es.prototype.oa=function(){Nt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,T1=function(){return new Ps},E1=function(){return xe()},v1=Ae,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Hc=ai,Cl.COMPLETE="complete",_1=Cl,q.EventType=Z,Z.OPEN="a",Z.CLOSE="b",Z.ERROR="c",Z.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,No=q,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,y1=ut}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.3";let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Al="12.7.0";const la=new Cm("@firebase/firestore");function nl(){return la.logLevel}function ae(r,...e){if(la.logLevel<=He.DEBUG){const i=e.map(zm);la.debug(`Firestore (${Al}): ${r}`,...i)}}function Ss(r,...e){if(la.logLevel<=He.ERROR){const i=e.map(zm);la.error(`Firestore (${Al}): ${r}`,...i)}}function dl(r,...e){if(la.logLevel<=He.WARN){const i=e.map(zm);la.warn(`Firestore (${Al}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,b1(r,a,i)}function b1(r,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function et(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||b1(e,o,a)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class A1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class Iw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cw{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},y=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new A1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class xw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new xw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ow(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ow(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function qe(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?qe(o,c):qd(o)?1:-1}return qe(r.length,e.length)}const Mw=55296,Vw=57343;function qd(r){const e=r.charCodeAt(0);return e>=Mw&&e<=Vw}function ml(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const w0="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class At extends Pi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Pi{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new ln([w0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(At.fromString(e))}static fromName(e){return new ye(At.fromString(e).popFirst(5))}static empty(){return new ye(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new At(e.slice()))}}function Uw(r,e,i){if(!i)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lw(r,e,i,a){if(e===!0&&a===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function _i(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Gt(r,e){const i={typeString:r};return e&&(i.value=e),i}function nu(r,e){if(!S1(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(J.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,C0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C0);return new vt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Gt("string",vt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new vt(0,0))}static max(){return new be(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function Pw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new vt(i+1,0):new vt(i,a));return new vr(o,ye.empty(),e)}function zw(r){return new vr(r.readTime,r.key,qo)}class vr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(be.min(),ye.empty(),qo)}static max(){return new vr(be.max(),ye.empty(),qo)}}function jw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:qe(r.largestBatchId,e.largestBatchId))}const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Bw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(g=>a(g)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function qw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Hm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function Gw(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const w1="";function Fw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=x0(e)),e=Qw(r.get(i),e);return x0(e)}function Qw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case w1:i+="";break;default:i+=c}}return i}function x0(r){return r+w1+""}function N0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function wr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function R1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??an.RED,this.left=o??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new an(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Yt(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(r){if(et(!!r,39018),typeof r=="string"){let e=0;const i=Kw.exec(r);if(et(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Tr(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}const C1="server_timestamp",x1="__type__",N1="__previous_value__",D1="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[x1]?.stringValue===C1}function vh(r){const e=r.mapValue.fields[N1];return qm(e)?vh(e):e}function Go(r){const e=Er(r.mapValue.fields[D1].timestampValue);return new vt(e.seconds,e.nanos)}class Yw{constructor(e,i,a,o,c,d,y,g,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Fo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}const O1="__type__",Xw="__max__",Mc={mapValue:{}},M1="__vector__",sh="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:Jw(r)?9007199254740991:$w(r)?10:11:ve(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const i=br(r);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Go(r).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),y=Er(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),y=kt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return ml(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(N0(d)!==N0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Fi(d[g],y[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Qo(r,e){return(r.values||[]).find((i=>Fi(i,e)))!==void 0}function gl(r,e){if(r===e)return 0;const i=br(r),a=br(e);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),g=kt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return O0(r.timestampValue,e.timestampValue);case 4:return O0(Go(r),Go(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Tr(c),g=Tr(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const A=qe(y[_],g[_]);if(A!==0)return A}return qe(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=qe(kt(c.latitude),kt(d.latitude));return y!==0?y:qe(kt(c.longitude),kt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return M0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[sh]?.arrayValue,A=g[sh]?.arrayValue,S=qe(_?.values?.length||0,A?.values?.length||0);return S!==0?S:M0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const M=om(g[S],A[S]);if(M!==0)return M;const F=gl(y[g[S]],_[A[S]]);if(F!==0)return F}return qe(g.length,A.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function O0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const i=Er(r),a=Er(e),o=qe(i.seconds,a.seconds);return o!==0?o:qe(i.nanos,a.nanos)}function M0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=gl(i[o],a[o]);if(c)return c}return qe(i.length,a.length)}function pl(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function qc(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return wr(a.fields,((c,d)=>{o+=c.length+qc(d)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function $w(r){return(r?.mapValue?.fields||{})[O1]?.stringValue===M1}function Lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(r.arrayValue.values[i]);return e}return{...r}}function Jw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=ln.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Lo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){wr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Nn(Lo(this.value))}}function V1(r){const e=[];return wr(r.fields,((i,a)=>{const o=new ln([i]);if(Gc(a)){const c=V1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Hn(e)}class mn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mn(e,0,be.min(),be.min(),be.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,o){return new mn(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new mn(e,2,i,be.min(),be.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,be.min(),be.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function U0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=gl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class k1{}class Kt extends k1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new eR(e,i,a):i==="array-contains"?new iR(e,a):i==="in"?new sR(e,a):i==="not-in"?new rR(e,a):i==="array-contains-any"?new aR(e,a):new Kt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tR(e,a):new nR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gl(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends k1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return U1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U1(r){return r.op==="and"}function L1(r){return Ww(r)&&U1(r)}function Ww(r){for(const e of r.filters)if(e instanceof Qi)return!1;return!0}function hm(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+pl(r.value);if(L1(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function P1(r,e){return r instanceof Kt?(function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(r,e):r instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&P1(d,o.filters[y])),!0):!1})(r,e):void ve(19439)}function z1(r){return r instanceof Kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${pl(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(z1).join(" ,")+"}"})(r):"Filter"}class eR extends Kt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class tR extends Kt{constructor(e,i){super(e,"in",i),this.keys=j1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nR extends Kt{constructor(e,i){super(e,"not-in",i),this.keys=j1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function j1(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class iR extends Kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Qo(i.arrayValue,this.value)}}class sR extends Kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class rR extends Kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class aR extends Kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class lR{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function P0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new lR(r,e,i,a,o,c,d)}function Fm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>pl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>pl(a))).join(",")),e.Te=i}return e.Te}function Qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!P1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!L0(r.startAt,e.startAt)&&L0(r.endAt,e.endAt)}function fm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,e,i,a,o,c,d,y){return new Eh(r,e,i,a,o,c,d,y)}function Th(r){return new Eh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uR(r){return r.collectionGroup!==null}function Po(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new ah(ln.keyField(),a))}return e.Ie}function Bi(r){const e=we(r);return e.Ee||(e.Ee=cR(e,Po(r))),e.Ee}function cR(r,e){if(r.limitType==="F")return P0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return P0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Qm(Bi(r),Bi(e))&&r.limitType===e.limitType}function B1(r){return`${Fm(Bi(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>z1(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>pl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>pl(o))).join(",")),`Target(${a})`})(Bi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,g){const _=U0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,y,g){const _=U0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Po(a),o))})(r,e)}function hR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H1(r){return(e,i)=>{let a=!1;for(const o of Po(r)){const c=fR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function fR(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?gl(g,_):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}const dR=new St(ye.comparator);function ws(){return dR}const q1=new St(ye.comparator);function Do(...r){let e=q1;for(const i of r)e=e.insert(i.key,i);return e}function G1(r){let e=q1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ia(){return zo()}function F1(){return zo()}function zo(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mR=new St(ye.comparator),gR=new Yt(ye.comparator);function Ge(...r){let e=gR;for(const i of r)e=e.add(i);return e}const pR=new Yt(qe);function yR(){return pR}function Km(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function Q1(r){return{integerValue:""+r}}function _R(r,e){return Gw(e)?Q1(e):Km(r,e)}class Sh{constructor(){this._=void 0}}function vR(r,e,i){return r instanceof lh?(function(o,c){const d={fields:{[x1]:{stringValue:C1},[D1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=vh(c)),c&&(d.fields[N1]=c),{mapValue:d}})(i,e):r instanceof yl?Y1(r,e):r instanceof Ko?X1(r,e):(function(o,c){const d=K1(o,c),y=j0(d)+j0(o.Ae);return cm(d)&&cm(o.Ae)?Q1(y):Km(o.serializer,y)})(r,e)}function ER(r,e,i){return r instanceof yl?Y1(r,e):r instanceof Ko?X1(r,e):i}function K1(r,e){return r instanceof oh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends Sh{}class yl extends Sh{constructor(e){super(),this.elements=e}}function Y1(r,e){const i=$1(e);for(const a of r.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ko extends Sh{constructor(e){super(),this.elements=e}}function X1(r,e){let i=$1(e);for(const a of r.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j0(r){return kt(r.integerValue||r.doubleValue)}function $1(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TR{constructor(e,i){this.field=e,this.transform=i}}function bR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof Ko&&o instanceof Ko?ml(a.elements,o.elements,Fi):a instanceof oh&&o instanceof oh?Fi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,e.transform)}class AR{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function J1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ym(r.key,vi.none()):new iu(r.key,r.data,vi.none());{const i=r.data,a=Nn.empty();let o=new Yt(ln.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Rr(r.key,a,new Hn(o.toArray()),vi.none())}}function SR(r,e,i){r instanceof iu?(function(o,c,d){const y=o.value.clone(),g=H0(o.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Rr?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=H0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Z1(o)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jo(r,e,i,a){return r instanceof iu?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=c.value.clone(),A=q0(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Rr?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=q0(c.fieldTransforms,g,d),A=d.data;return A.setAll(Z1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function wR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=K1(a.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,c))}return i||null}function B0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>bR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function H0(r,e,i){const a=new Map;et(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,ER(d,y,i[o]))}return a}function q0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,vR(c,d,e))}return a}class Ym extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&SR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=F1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const g=J1(d,y);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>B0(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>B0(i,a)))}}class Xm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return mR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(e,i,a,o)}}class CR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xR{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Qe;function NR(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function W1(r){if(r===void 0)return Ss("GRPC error has no .code"),J.UNKNOWN;switch(r){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(Qe=qt||(qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function DR(){return new TextEncoder}const OR=new pr([4294967295,4294967295],0);function G0(r){const e=DR().encode(r),i=new p1;return i.update(e),new Uint8Array(i.digest())}function F0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([o,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Oo(`Invalid padding: ${i}`);if(a<0)throw new Oo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(pr.fromNumber(a)));return o.compare(OR)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G0(e),[a,o]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=G0(e),[a,o]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(be.min(),o,new St(qe),ws(),Ge())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,Ge(),Ge(),Ge())}}class Qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class eE{constructor(e,i){this.targetId=e,this.Ce=i}}class tE{constructor(e,i,a=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),a=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new ye(c.path);this.et(i,d,mn.newNoDocument(d,be.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Tr(a).toUint8Array()}catch(g){if(g instanceof I1)return dl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new $m(d,o,c)}catch(g){return dl(g instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const g=new ye(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,mn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ge();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ye,this.je,a);return this.je=ws(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(qe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new St(ye.comparator)}function K0(){return new St(ye.comparator)}const VR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class LR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PR(r,e){return uh(r,e.toTimestamp())}function Hi(r){return et(!!r,49232),be.fromTimestamp((function(i){const a=Er(i);return new vt(a.seconds,a.nanos)})(r))}function Jm(r,e){return gm(r,e).canonicalString()}function gm(r,e){const i=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function iE(r){const e=At.fromString(r);return et(oE(e),10190,{key:e.toString()}),e}function pm(r,e){return Jm(r.databaseId,e.path)}function Gd(r,e){const i=iE(e);if(i.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(rE(i))}function sE(r,e){return Jm(r.databaseId,e)}function zR(r){const e=iE(r);return e.length===4?At.emptyPath():rE(e)}function ym(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rE(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,e,i){return{name:pm(r,e),fields:i.value.mapValue.fields}}function jR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(et(A===void 0||typeof A=="string",58123),on.fromBase64String(A||"")):(et(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),on.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:W1(_.code);return new he(A,_.message||"")})(d);i=new tE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):be.min(),y=new Nn({mapValue:{fields:a.document.fields}}),g=mn.newFoundDocument(o,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?Hi(a.readTime):be.min(),d=mn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new xR(o,c),y=a.targetId;i=new eE(y,d)}}return i}function BR(r,e){let i;if(e instanceof iu)i={update:Y0(r,e.key,e.value)};else if(e instanceof Ym)i={delete:pm(r,e.key)};else if(e instanceof Rr)i={update:Y0(r,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof RR))return ve(16599,{Vt:e.type});i={verify:pm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:PR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function HR(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Hi(o.updateTime):Hi(c);return d.isEqual(be.min())&&(d=Hi(c)),new AR(d,o.transformResults||[])})(i,e)))):[]}function qR(r,e){return{documents:[sE(r,e.path)]}}function GR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sE(r,o);const c=(function(_){if(_.length!==0)return lE(Qi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:sl(M.field),direction:KR(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function FR(r){let e=zR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=aE(S);return M instanceof Qi&&L1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new ah(rl(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(S){const M=!!S.before,F=S.values||[];return new rh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new rh(F,M)})(i.endAt)),oR(e,o,d,c,y,"F",g,_)}function QR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=rl(i.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(i.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rl(i.unaryFilter.field);return Kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rl(i.unaryFilter.field);return Kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Kt.create(rl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>aE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function KR(r){return VR[r]}function YR(r){return kR[r]}function XR(r){return UR[r]}function sl(r){return{fieldPath:r.canonicalString()}}function rl(r){return ln.fromServerFormat(r.fieldPath)}function lE(r){return r instanceof Kt?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:YR(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const a=i.getFilters().map((o=>lE(o)));return a.length===1?a[0]:{compositeFilter:{op:XR(i.op),filters:a}}})(r):ve(54877,{filter:r})}function $R(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class fr{constructor(e,i,a,o,c=be.min(),d=be.min(),y=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JR{constructor(e){this.yt=e}}function ZR(r){const e=FR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class WR{constructor(){this.Cn=new eI}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(vr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class eI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Yt(At.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Yt(At.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(uE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}const $0="LruGarbageCollector",tI=1048576;function J0([r,e],[i,a]){const o=qe(r,i);return o===0?qe(e,a):o}class nI{constructor(e){this.Ir=e,this.buffer=new Yt(J0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();J0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?ae($0,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Vr(3e5)}))}}class sI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new nI(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,g,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),nl()<=He.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function rI(r,e){return new sI(r,e)}class aI{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class oI{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&jo(a.mutation,o,Hn.empty(),vt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ge()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ge()){const o=ia();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Do();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ge())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=ws();const d=zo(),y=(function(){return zo()})();return i.forEach(((g,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Rr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),jo(A.mutation,_,A.mutation.getFieldMask(),vt.now())):d.set(_.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new lI(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=zo();let o=new St(((d,y)=>d-y)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=a.get(g)||Hn.empty();A=y.applyToLocalView(_,A),a.set(g,A);const S=(o.get(y.batchId)||Ge()).add(g);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,A=g.value,S=F1();A.forEach((M=>{if(!c.has(M)){const F=J1(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ia());let y=qo,g=c;return d.next((_=>$.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{g=g.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Ge()))).next((A=>({batchId:y,changes:G1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=Do();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Do();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(g=>{const _=(function(S,M){return new Eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,mn.newInvalidDocument(A)))}));let y=Do();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&jo(A.mutation,_,Hn.empty(),vt.now()),Ah(i,_)&&(y=y.insert(g,_))})),y}))}}class uI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ZR(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),$.resolve()}}class cI{constructor(){this.overlays=new St(ye.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ia(),c=i.length+1,d=new ye(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new St(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=ia(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ia(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return $.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.Qr=new Yt(Zt.$r),this.Ur=new Yt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Zt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new At([])),a=new Zt(i,e),o=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new At([])),a=new Zt(i,e),o=new Zt(i,e+1);let c=Ge();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Zt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class fI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Zt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Zt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Yt(qe);return i.forEach((o=>{const c=new Zt(o,0),d=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new ye(c),0);let y=new Yt(qe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(g.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Zt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Zt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dI{constructor(e){this.ri=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let a=ws();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ws();const d=i.path,y=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||jw(zw(A),a)<=0||(o.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mI(this)}getSize(e){return $.resolve(this.size)}}class mI extends aI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gI{constructor(e){this.persistence=e,this.si=new ca((i=>Fm(i)),Qm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _l(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class cE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new hI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new WR,this.remoteDocumentCache=(function(o){return new dI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new pI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class pI extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ca((a=>Fw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rI(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new eg(e,i.fromCache,a,o)}}class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sA()?8:qw(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yI;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(nl()<=He.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(nl()<=He.DEBUG&&ae("QueryEngine","Query:",il(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(nl()<=He.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):$.resolve())}ys(e,i){if(z0(i))return $.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,o){return z0(i)||o.isEqual(be.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(nl()<=He.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(i)),this.vs(e,d,i,Pw(o,qo)).next((y=>y)))}))}Ds(e,i){let a=new Yt(H1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return nl()<=He.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",il(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",vI=3e8;class EI{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(qe),this.xs=new ca((c=>Fm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function TI(r,e,i,a){return new EI(r,e,i,a)}async function hE(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Ge();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function bI(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,A){const S=_.batch,M=S.keys();let F=$.resolve();return M.forEach((W=>{F=F.next((()=>A.getEntry(g,W))).next((se=>{const ee=_.docVersions.get(W);et(ee!==null,48541),se.version.compareTo(ee)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Ge();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function fE(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function AI(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(on.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(S,F),(function(se,ee,pe){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=vI?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,F,A)&&y.push(i.Pi.updateTargetData(c,F))}));let g=ws(),_=Ge();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(SI(c,d,e.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!a.isEqual(be.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function SI(r,e,i){let a=Ge(),o=Ge();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=ws();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ae(tg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function wI(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function RI(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new fr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;ae(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Z0(r,e,i){const a=we(r);let o=be.min(),c=Ge();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const S=we(g),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,Bi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Ge()))).next((y=>(II(a,hR(e),y),{documents:y,Qs:c})))))}function II(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class W0{constructor(){this.activeTargetIds=yR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CI{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xI{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function vm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Fd="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:_}=new URL(y),A=El(_);return this.Jo(e,y,g,a,A).then((S=>(ae(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw dl(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=NI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class OI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class MI extends DI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((y,g)=>{const _=new y1;_.setWithCredentials(!0),_.listenOnce(_1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();ae(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Hc.TIMEOUT:ae(fn,`RPC '${e}' ${d} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(fn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const se=(function(pe){const me=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(me)>=0?me:J.UNKNOWN})(W.status);g(new he(se,W.message))}else g(new he(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(fn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(fn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T1(),y=E1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const A=c.join("");ae(fn,`Creating RPC '${e}' stream ${o}: ${A}`,g);const S=d.createWebChannel(A,g);this.I_(S);let M=!1,F=!1;const W=new OI({Yo:ee=>{F?ae(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(ae(fn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),ae(fn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),se=(ee,pe,me)=>{ee.listen(pe,(ge=>{try{me(ge)}catch($e){setTimeout((()=>{throw $e}),0)}}))};return se(S,No.EventType.OPEN,(()=>{F||(ae(fn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(S,No.EventType.CLOSE,(()=>{F||(F=!0,ae(fn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),se(S,No.EventType.ERROR,(ee=>{F||(F=!0,dl(fn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),se(S,No.EventType.MESSAGE,(ee=>{if(!F){const pe=ee.data[0];et(!!pe,16349);const me=pe,ge=me?.error||me[0]?.error;if(ge){ae(fn,`RPC '${e}' stream ${o} received error:`,ge);const $e=ge.status;let lt=(function(w){const C=qt[w];if(C!==void 0)return W1(C)})($e),Pe=ge.message;lt===void 0&&(lt=J.INTERNAL,Pe="Unknown error status: "+$e+" with message "+ge.message),F=!0,W.a_(new he(lt,Pe)),S.close()}else ae(fn,`RPC '${e}' stream ${o} received:`,pe),W.u_(pe)}})),se(y,v1.STAT_EVENT,(ee=>{ee.stat===lm.PROXY?ae(fn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&ae(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function Ih(r){return new LR(r,!0)}class dE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class mE{constructor(e,i,a,o,c,d,y,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VI extends mE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Hi(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=fm(g)?{documents:qR(c,g)}:{query:GR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=nE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=QR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class kI extends mE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HR(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>BR(this.serializer,a)))};this.q_(i)}}class UI{}class LI extends UI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,gm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class zI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(ae(oa,"Restarting streams for network reachability change."),await(async function(g){const _=we(g);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new PI(a,o)}}async function Ch(r){if(ha(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function gE(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Rl(i).O_()&&ig(i,e))}function ng(r,e){const i=we(r),a=Rl(i);i.Ia.delete(e),a.O_()&&pE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(r).Y_(e)}function pE(r,e){r.Va.Ue(e),Rl(r).Z_(e)}function sg(r){r.Va=new MR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Rl(r).start(),r.Ra.ua()}function rg(r){return ha(r)&&!Rl(r).x_()&&r.Ia.size>0}function ha(r){return we(r).Ea.size===0}function yE(r){r.Va=void 0}async function jI(r){r.Ra.set("Online")}async function BI(r){r.Ia.forEach(((e,i)=>{ig(r,e)}))}async function HI(r,e){yE(r),rg(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function qI(r,e,i){if(r.Ra.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ae(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Qc?r.Va.Ze(e):e instanceof eE?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await fE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(on.EMPTY_BYTE_STRING,A.snapshotVersion)),pE(c,g);const S=new fr(A.target,g,_,A.sequenceNumber);ig(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(oa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!wl(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>fE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(oa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function _E(r,e){return e().catch((i=>hh(r,i,e)))}async function xh(r){const e=we(r),i=Ar(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;GI(e);)try{const o=await wI(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,FI(e,o)}catch(o){await hh(e,o)}vE(e)&&EE(e)}function GI(r){return ha(r)&&r.Ta.length<10}function FI(r,e){r.Ta.push(e);const i=Ar(r);i.O_()&&i.X_&&i.ea(e.mutations)}function vE(r){return ha(r)&&!Ar(r).x_()&&r.Ta.length>0}function EE(r){Ar(r).start()}async function QI(r){Ar(r).ra()}async function KI(r){const e=Ar(r);for(const i of r.Ta)e.ea(i.mutations)}async function YI(r,e,i){const a=r.Ta.shift(),o=Xm.from(a,e,i);await _E(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xh(r)}async function XI(r,e){e&&Ar(r).X_&&await(async function(a,o){if((function(d){return NR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();Ar(a).B_(),await _E(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(r,e),vE(r)&&EE(r)}async function iv(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),ae(oa,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function $I(r,e){const i=we(r);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Rl(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new VI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jI.bind(null,r),t_:BI.bind(null,r),r_:HI.bind(null,r),H_:qI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),yE(r))}))),r.ma}function Ar(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new kI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,r),r_:XI.bind(null,r),ta:KI.bind(null,r),na:YI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new ag(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Ss("AsyncQueue",`${e}: ${r}`),wl(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Do(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new St(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vl{constructor(e,i,a,o,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new vl(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZI{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=rv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function rv(){return new ca((r=>B1(r)),bh)}async function TE(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new JI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=lg(d,`Initialization of query '${il(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function bE(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function WI(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function eC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function og(r){r.Ca.forEach((e=>{e.next()}))}var Em,av;(av=Em||(Em={})).Ma="default",av.Cache="cache";class AE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class SE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class tC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=H1(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),F=Ah(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?W!==se&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(g||_)&&(y=!0)),ee&&(F?(d=d.add(F),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(F,W){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:ee})}};return se(F)-se(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new vl(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new wE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new SE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class nC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class iC{constructor(e){this.key=e,this.hu=!1}}class sC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((y=>B1(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new St(ye.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rC(r,e,i=!0){const a=DE(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await RE(a,e,i,!0),o}async function aC(r,e){const i=DE(r);await RE(i,e,!0,!1)}async function RE(r,e,i,a){const o=await RI(r.localStore,Bi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&gE(r.remoteStore,o),y}async function lC(r,e,i,a,o){r.pu=(S,M,F)=>(async function(se,ee,pe,me){let ge=ee.view.ru(pe);ge.Cs&&(ge=await Z0(se.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,ge))));const $e=me&&me.targetChanges.get(ee.targetId),lt=me&&me.targetMismatches.get(ee.targetId)!=null,Pe=ee.view.applyChanges(ge,se.isPrimaryClient,$e,lt);return ov(se,ee.targetId,Pe.au),Pe.snapshot})(r,S,M,F);const c=await Z0(r.localStore,e,!0),d=new tC(e,c.Qs),y=d.ru(c.documents),g=su.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,g);ov(r,i,_.au);const A=new nC(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function oC(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(Sl)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function uC(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function cC(r,e,i){const a=yC(r);try{const o=await(function(d,y){const g=we(d),_=vt.now(),A=y.reduce(((F,W)=>F.add(W.key)),Ge());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=ws(),se=Ge();return g.Ns.getEntries(F,A).next((ee=>{W=ee,W.forEach(((pe,me)=>{me.isValidDocument()||(se=se.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,W))).next((ee=>{S=ee;const pe=[];for(const me of y){const ge=wR(me,S.get(me.key).overlayedDocument);ge!=null&&pe.push(new Rr(me.key,ge,V1(ge.value.mapValue),vi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,pe,y)})).next((ee=>{M=ee;const pe=ee.applyToLocalDocumentSet(S,se);return g.documentOverlayCache.saveOverlays(F,ee.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:G1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(qe)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await au(a,o.changes),await xh(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function IE(r,e){const i=we(r);try{const a=await AI(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Sl(a)}}function lv(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const g=we(d);g.onlineState=y;let _=!1;g.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&og(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function hC(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new St(ye.comparator);d=d.insert(c,mn.newNoDocument(c,be.min()));const y=Ge().add(c),g=new Rh(be.min(),new Map,new St(qe),d,y);await IE(a,g),a.du=a.du.remove(c),a.Au.delete(e),cg(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Sl)}async function fC(r,e){const i=we(r),a=e.batch.batchId;try{const o=await bI(i.localStore,e);xE(i,a,null),CE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Sl(o)}}async function dC(r,e,i){const a=we(r);try{const o=await(function(d,y){const g=we(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,y).next((S=>(et(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);xE(a,e,i),CE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Sl(o)}}function CE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function xE(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||NE(r,a)}))}function NE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ng(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),cg(r))}function ov(r,e,i){for(const a of i)a instanceof SE?(r.Ru.addReference(a.key,e),mC(r,a)):a instanceof wE?(ae(ug,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||NE(r,a.key)):ve(19791,{wu:a})}function mC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(ug,"New document in limbo: "+i),r.Eu.add(a),cg(r))}function cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(At.fromString(e)),a=r.fu.next();r.Au.set(a,new iC(i)),r.du=r.du.insert(i,a),gE(r.remoteStore,new fr(Bi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function au(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){o.push(_);const A=eg.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(g,_){const A=we(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(M=>$.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!wl(S))throw S;ae(tg,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),W=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,se)}}})(a.localStore,c))}async function gC(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){ae(ug,"User change. New user:",e.toKey());const a=await hE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new he(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function pC(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return Ge().add(a.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function DE(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.Pu.H_=WI.bind(null,e.eventManager),e.Pu.yu=eC.bind(null,e.eventManager),e}function yC(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new cE(Wm.mi,this.serializer)}Du(e){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class _C extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new cE((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZI})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new MI(c)})(e.databaseInfo);return(function(c,d,y,g){return new LI(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new zI(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new xI})())}createSyncEngine(e,i){return(function(o,c,d,y,g,_,A){const S=new sC(o,c,d,y,g,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ae(oa,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class OE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Sr="FirestoreClient";class vC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Sr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await hE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await EC(r);ae(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>iv(e.remoteStore,o))),r._onlineComponents=e}async function EC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Sr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new fh)}}else ae(Sr,"Using default OfflineComponentProvider"),await Kd(r,new _C(void 0));return r._offlineComponents}async function ME(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Sr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(ae(Sr,"Using default OnlineComponentProvider"),await uv(r,new bm))),r._onlineComponents}function TC(r){return ME(r).then((e=>e.syncEngine))}async function Am(r){const e=await ME(r),i=e.eventManager;return i.onListen=rC.bind(null,e.syncEngine),i.onUnlisten=oC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uC.bind(null,e.syncEngine),i}function bC(r,e,i={}){const a=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const A=new OE({next:M=>{A.Nu(),d.enqueueAndForget((()=>bE(c,S)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new AE(Th(y.path),A,{includeMetadataChanges:!0,qa:!0});return TE(c,S)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function VE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cv=new Map;const kE="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kE,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tI)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rw;switch(a.type){case"firstParty":return new Nw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function AC(r,e,i,a={}){r=_i(r,hg);const o=El(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(Dv(`https://${y}`),Ov("Firestore",!0)),c.host!==kE&&c.host!==y&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:o,emulatorOptions:a};if(!_r(g,d)&&(r._setSettings(g),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=dn.MOCK_USER;else{_=Xb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new dn(S)}r._authCredentials=new Iw(new A1(_,A))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Ft{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Ft._jsonSchema))return new Ft(e,a||null,new ye(At.fromString(i.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Gt("string",Ft._jsonSchemaVersion),referencePath:Gt("string")};class Yo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ye(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function jn(r,e,...i){if(r=vn(r),arguments.length===1&&(e=jm.newId()),Uw("doc","path",e),r instanceof hg){const a=At.fromString(e,...i);return R0(a),new Ft(r,null,new ye(a))}{if(!(r instanceof Ft||r instanceof Yo))throw new he(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...i));return R0(a),new Ft(r.firestore,r instanceof Yo?r.converter:null,new ye(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;ae(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ua extends hg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function SC(r,e){const i=typeof r=="object"?r:Uv(),a=typeof r=="string"?r:ih,o=Nm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Kb("firestore");c&&AC(o,...c)}return o}function fg(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wC(r),r._firestoreClient}function wC(r){const e=r._freezeSettings(),i=(function(o,c,d,y){return new Yw(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(on.fromBase64String(e))}catch(i){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Gt("string",ri._jsonSchemaVersion),bytes:Gt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Gt("string",qi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Gt("string",Gi._jsonSchemaVersion),vectorValues:Gt("object")};const RC=/^__.*__$/;class IC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class UE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function LE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LE(this.Ac)&&RC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PE(r){const e=r._freezeSettings(),i=Ih(r._databaseId);return new CC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function xC(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);mg("Data must be an object, but it was:",d,a);const y=zE(a,d);let g,_;if(c.merge)g=new Hn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Sm(e,S,i);if(!d.contains(M))throw new he(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);BE(A,M)||A.push(M)}g=new Hn(A),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new IC(new Nn(y),g,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function NC(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=NC(this,e,!0),a=this.vc.map((c=>lu(c,i))),o=new yl(a);return new TR(e.path,o)}isEqual(e){return e instanceof dg&&_r(this.vc,e.vc)}}function DC(r,e,i,a){const o=r.Cc(1,e,i);mg("Data must be an object, but it was:",o,a);const c=[],d=Nn.empty();wr(a,((g,_)=>{const A=gg(e,g,i);_=vn(_);const S=o.yc(A);if(_ instanceof Vh)c.push(A);else{const M=lu(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const y=new Hn(c);return new UE(d,y,o.fieldTransforms)}function OC(r,e,i,a,o,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],g=[o];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),g.push(c[M+1]);const _=[],A=Nn.empty();for(let M=y.length-1;M>=0;--M)if(!BE(_,y[M])){const F=y[M];let W=g[M];W=vn(W);const se=d.yc(F);if(W instanceof Vh)_.push(F);else{const ee=lu(W,se);ee!=null&&(_.push(F),A.set(F,ee))}}const S=new Hn(_);return new UE(A,S,d.fieldTransforms)}function lu(r,e){if(jE(r=vn(r)))return mg("Unsupported field value:",e,r),zE(r,e);if(r instanceof Oh)return(function(a,o){if(!LE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let g=lu(y,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _R(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=vt.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof vt){const c=new vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:nE(o.serializer,a._byteString)};if(a instanceof Ft){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,y){return{mapValue:{fields:{[O1]:{stringValue:M1},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Km(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Bm(a)}`)})(r,e)}function zE(r,e){const i={};return R1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(r,((a,o)=>{const c=lu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof qi||r instanceof ri||r instanceof Ft||r instanceof Oh||r instanceof Gi)}function mg(r,e,i){if(!jE(i)||!S1(i)){const a=Bm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=vn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return gg(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MC=new RegExp("[~\\*/\\[\\]]");function gg(r,e,i){if(e.search(MC)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,y+r+g)}function BE(r,e){return r.some((i=>i.isEqual(e)))}class HE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VC extends HE{data(){return super.data()}}function qE(r,e){return typeof e=="string"?gg(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function kC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UC{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return wr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new qi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=Er(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);et(oE(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends HE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Gt("string",sa._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Kc extends sa{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Mo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const g=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:PC(y.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function zC(r){r=_i(r,Ft);const e=_i(r.firestore,ua);return bC(fg(e),r._key).then((i=>FE(e,r,i)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Gt("string",hl._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class GE extends UC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,i)}}function jC(r,e,i){r=_i(r,Ft);const a=_i(r.firestore,ua),o=LC(r.converter,e);return pg(a,[xC(PE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,vi.none())])}function ps(r,e,i,...a){r=_i(r,Ft);const o=_i(r.firestore,ua),c=PE(o);let d;return d=typeof(e=vn(e))=="string"||e instanceof Dh?OC(c,"updateDoc",r._key,e,i,a):DC(c,"updateDoc",r._key,e),pg(o,[d.toMutation(r._key,vi.exists(!0))])}function BC(r){return pg(_i(r.firestore,ua),[new Ym(r._key,vi.none())])}function yv(r,...e){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||pv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof Ft)d=_i(r.firestore,ua),y=Th(r._key.path),c={next:g=>{e[a]&&e[a](FE(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=_i(r,Nh);d=_i(g.firestore,ua),y=g._query;const _=new GE(d);c={next:A=>{e[a]&&e[a](new hl(d,_,g,A))},error:e[a+1],complete:e[a+2]},kC(r._query)}return(function(_,A,S,M){const F=new OE(M),W=new AE(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>TE(await Am(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>bE(await Am(_),W)))}})(fg(d),y,o,c)}function pg(r,e){return(function(a,o){const c=new yr;return a.asyncQueue.enqueueAndForget((async()=>cC(await TC(a),o,c))),c.promise})(fg(r),e)}function FE(r,e,i){const a=i.docs.get(e._key),o=new GE(r);return new sa(r,o,e._key,a,new Mo(i.hasPendingWrites,i.fromCache),e.converter)}function Yd(...r){return new dg("arrayUnion",r)}(function(e,i=!0){(function(o){Al=o})(Tl),fl(new ra("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ua(new Cw(a.getProvider("auth-internal")),new Dw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),gr(b0,A0,e),gr(b0,A0,"esm2020")})();const HC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const e=qC(r);return e.charAt(0).toUpperCase()+e.slice(1)},QE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QC=rt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},g)=>rt.createElement("svg",{ref:g,...FC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:QE("lucide",o),...!c&&!GC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>rt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const at=(r,e)=>{const i=rt.forwardRef(({className:a,...o},c)=>rt.createElement(QC,{ref:c,iconNode:e,className:QE(`lucide-${HC(_v(r))}`,`lucide-${r}`,a),...o}));return i.displayName=_v(r),i};const KC=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],YC=at("arrow-right-left",KC);const XC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=at("book-open",XC);const $C=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JC=at("briefcase",$C);const ZC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WC=at("circle-check-big",ZC);const ex=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],na=at("coins",ex);const tx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KE=at("copy",tx);const nx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xd=at("crown",nx);const ix=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],sx=at("dice-5",ix);const rx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vv=at("eye",rx);const ax=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lx=at("gavel",ax);const ox=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],YE=at("ghost",ox);const ux=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],cx=at("hammer",ux);const hx=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],fx=at("hand",hx);const dx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],mx=at("history",dx);const gx=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],px=at("hourglass",gx);const yx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ev=at("loader-circle",yx);const _x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rm=at("log-out",_x);const vx=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Ex=at("scale",vx);const Tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XE=at("search",Tx);const bx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ax=at("shield",bx);const Sx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],wx=at("skull",Sx);const Rx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tv=at("sparkles",Rx);const Ix=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uc=at("trash-2",Ix);const Cx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$E=at("triangle-alert",Cx);const xx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JE=at("trophy",xx);const Nx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dx=at("user",Nx);const Ox=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mx=at("users",Ox);const Vx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vo=at("x",Vx);const kx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ux=at("zap",kx),Lx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},ZE=kv(Lx),$d=Sw(ZE),Bn=SC(ZE),ii=typeof __app_id<"u"?__app_id:"guild-shadows",Px="15",zx=3,xt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:na,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:fx,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:1,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:sx,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:wx,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:lx,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:3,desc:"Copy effect of last Action card.",icon:KE,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:JC,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:XE,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:3,desc:"Immune to theft & assassination.",icon:Ax,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:Ex,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:$E,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},jx=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],bv=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Av=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(YE,{size:12,className:"text-purple-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Jd=r=>r<=2?20:r===3?18:15,Zd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),Bx=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),Lc=({cardId:r,onClick:e,disabled:i,highlight:a,small:o,tiny:c,turnsLeft:d,showCost:y=!0})=>{const g=xt[r];if(!g)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsxs("div",{className:`relative w-6 h-8 rounded flex items-center justify-center ${g.bg} border ${g.border} shadow-sm`,title:g.name,children:[b.jsx(g.icon,{className:`${g.color} w-3.5 h-3.5`}),d!==void 0&&b.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-black text-[9px] text-white w-4 h-4 rounded-full flex items-center justify-center border border-gray-500 z-10",children:d})]});const _=o?"w-20 h-28 p-1.5":"w-24 h-40 md:w-32 md:h-48 p-2",A=o?20:28,S=o?"text-[8px]":"text-[9px] md:text-[10px]",M=o?"text-[10px]":"text-[11px] md:text-xs";return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible shrink-0
        ${_} ${g.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":g.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-center font-bold text-gray-300",children:[b.jsx("span",{className:`${o?"text-[8px]":"text-[10px]"} ${g.type==="AGENT"?"text-blue-300":"text-amber-200"}`,children:g.type==="AGENT"?"AGT":"ACT"}),y&&g.cost>0&&b.jsxs("span",{className:"bg-black/50 px-1.5 rounded text-yellow-400 flex items-center gap-0.5 text-[10px]",children:[g.cost," ",b.jsx(na,{size:8})]})]}),b.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[b.jsx(g.icon,{className:`${g.color}`,size:A}),d!==void 0&&b.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[b.jsx(px,{size:8,className:"text-gray-400"}),b.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),b.jsxs("div",{className:"w-full text-center",children:[b.jsx("div",{className:`font-bold text-white leading-tight mb-1 line-clamp-1 ${M}`,children:g.name}),b.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1 w-full
            ${S} h-auto p-1 whitespace-normal text-center
          `,children:g.desc})]})]})},Sv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[b.jsx(wm,{size:18})," Guild Archives"]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:b.jsx(Vo,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[b.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[b.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[b.jsx(JE,{size:18,className:"text-yellow-400"})," Victory Condition"]}),b.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),b.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"4 Players:"})," 15 Gold"]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(Ux,{size:18})," Actions"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[xt.URCHIN,xt.THIEF,xt.HEIST,xt.ASSASSIN,xt.BLACKMAIL,xt.DOPPELGANGER].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(Mx,{size:18})," Agents"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[xt.MERCHANT,xt.LOOKOUT,xt.BODYGUARD,xt.POLITICIAN,xt.SABOTEUR].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[b.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",b.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",b.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),Hx=({report:r})=>r?b.jsxs("div",{className:"w-full bg-green-950/40 border-b border-green-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-300",children:r.breakdown.map((e,i)=>b.jsxs("span",{className:"flex gap-1 items-center",children:[b.jsxs("span",{className:"text-gray-400",children:[e.source,":"]}),b.jsxs("span",{className:"text-green-300",children:["+",e.amount]})]},i))}),r.expired.length>0&&b.jsxs("div",{className:"text-[9px] text-red-300 mt-0.5 flex gap-1 items-center",children:[b.jsx(Rm,{size:8})," Lost:"," ",r.expired.map(e=>xt[e]?.name).join(", ")]})]}),b.jsx("div",{className:"pl-3 border-l border-green-500/20 flex flex-col items-center justify-center text-green-400 shrink-0",children:b.jsxs("span",{className:"text-sm font-black",children:["+",r.income]})})]}):null,qx=({report:r})=>r?b.jsxs("div",{className:"w-full bg-indigo-950/40 border-b border-indigo-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase",children:r.actionName}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-[9px] text-gray-400",children:[b.jsxs("span",{children:["Cost: ",r.cost]}),r.tax>0&&b.jsxs("span",{className:"text-red-400",children:["Tax: ",r.tax]}),r.gains.map((e,i)=>b.jsxs("span",{className:"text-green-300",children:[e.desc,": +",e.amount]},i))]})]}),b.jsx("div",{className:"pl-3 border-l border-indigo-500/20 flex flex-col items-center justify-center shrink-0",children:b.jsxs("span",{className:`text-sm font-black ${r.netChange>=0?"text-green-400":"text-red-400"}`,children:[r.netChange>0?"+":"",r.netChange]})})]}):null;function Gx(){const[r,e]=rt.useState(null),[i,a]=rt.useState("menu"),[o,c]=rt.useState(""),[d,y]=rt.useState(""),[g,_]=rt.useState(null),[A,S]=rt.useState(""),[M,F]=rt.useState(!1),[W,se]=rt.useState(localStorage.getItem("guild_room_id")||""),[ee,pe]=rt.useState(!1),[me,ge]=rt.useState(null),[$e,lt]=rt.useState(null),[Pe,x]=rt.useState(!1),[w,C]=rt.useState(!1),[k,N]=rt.useState(!1),[V,R]=rt.useState(null),[We,bt]=rt.useState(null),[G,ne]=rt.useState(null),[ce,Ve]=rt.useState(null),[Ke,O]=rt.useState(null),[Y,ie]=rt.useState(null);rt.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await c2($d,__initial_auth_token):await r2($d))(),d2($d,e)),[]),rt.useEffect(()=>{if(!(!W||!r))return yv(jn(Bn,"artifacts",ii,"public","data","rooms",W),q=>{if(q.exists()){const Z=q.data();if(!Z.players.some(fe=>fe.id===r.uid)){se(""),a("menu"),S("You have been removed from the guild.");return}_(Z),Z.status==="playing"&&Z.turnReport&&Z.turnReport.playerId===r.uid&&!Z.turnReport.seen&&(O(Z.turnReport),ie(null)),Z.status==="playing"&&Z.eveningReport&&Z.eveningReport.playerId===r.uid&&!Z.eveningReport.seen&&(ie(Z.eveningReport),O(null)),Z.status==="lobby"?a("lobby"):(Z.status==="playing"||Z.status==="finished")&&a("game")}else se(""),a("menu"),S("The Guild Hall was disbanded by the host.")},q=>console.error(q))},[W,r]),rt.useEffect(()=>{const q=yv(jn(Bn,"game_hub_settings","config"),Z=>{Z.exists()&&Z.data()[Px]?.maintenance?pe(!0):pe(!1)});return()=>q()},[]);const re=(q,Z,oe,fe)=>{lt({type:q,message:Z,subtext:oe,icon:fe}),setTimeout(()=>lt(null),2500)},Ee=async()=>{if(!o)return S("Enter Alias");F(!0);try{const q=Math.random().toString(36).substring(2,7).toUpperCase();await jC(jn(Bn,"artifacts",ii,"public","data","rooms",q),{roomId:q,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null}),se(q),localStorage.setItem("guild_room_id",q)}catch(q){console.error(q),S("Failed to create room.")}finally{F(!1)}},Re=async()=>{if(!d||!o)return S("Enter Info");F(!0);try{const q=jn(Bn,"artifacts",ii,"public","data","rooms",d),Z=await zC(q);if(!Z.exists())return F(!1),S("Invalid Room");const oe=Z.data();if(oe.status!=="lobby")return F(!1),S("Game Started");if(oe.players.length>=4)return F(!1),S("Room Full");await ps(q,{players:[...oe.players,{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}]}),se(d),localStorage.setItem("guild_room_id",d)}catch(q){console.error(q),S("Failed to join room.")}finally{F(!1)}},ze=async q=>{if(g.hostId!==r.uid)return;const Z=g.players.filter(oe=>oe.id!==q);await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:Z})},wt=async()=>{if(g){if(g.hostId===r.uid)await BC(jn(Bn,"artifacts",ii,"public","data","rooms",W));else{const q=g.players.filter(Z=>Z.id!==r.uid);await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:q})}se(""),localStorage.removeItem("guild_room_id"),a("menu"),N(!1)}},gt=async()=>{if(g.hostId!==r.uid)return;const q=bv([...jx]),Z=g.players.map(oe=>({...oe,hand:[q.pop(),q.pop()],tableau:[],gold:2,ready:!1}));await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{status:"playing",deck:q,players:Z,turnIndex:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null})},Ki=async()=>{const q=g.players.map(Z=>Z.id===r.uid?{...Z,ready:!Z.ready}:Z);await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:q})},Yi=async()=>{if(g.hostId!==r.uid)return;const q=g.players.map(Z=>({...Z,hand:[],tableau:[],gold:0,ready:!1}));await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:q}),N(!1)},Ei=(q,Z)=>{let oe=0;return q.forEach(fe=>{if(fe.id!==Z){const Ae=fe.tableau.filter(ot=>ot.cardId==="SABOTEUR").length;oe+=Ae}}),oe},Is=(q,Z)=>{q.forEach(oe=>{if(oe.id!==Z){const fe=oe.tableau.filter(Ae=>Ae.cardId==="POLITICIAN").length;fe>0&&(oe.gold+=fe)}})},En=async(q,Z,oe,fe,Ae=null,ot=null)=>{let xe=(g.turnIndex+1)%q.length,tt=q[xe];const pt=[],Ne=[];tt.tableau.forEach(cn=>{cn.turnsLeft-=1,cn.turnsLeft<=0?(pt.push(cn.cardId),oe.push(cn.cardId)):Ne.push(cn)}),tt.tableau=Ne;let ke=0;const dt=[];dt.push({source:"Guild Stipend",amount:1}),ke+=1,tt.tableau.forEach(cn=>{cn.cardId==="MERCHANT"&&(dt.push({source:"Silk Trader",amount:1}),ke+=1)}),tt.gold===0&&(dt.push({source:"Pity Bonus",amount:1}),ke+=1),tt.gold+=ke,pt.length>0&&fe.push({text:`${tt.name} lost ${pt.length} agents to time.`,type:"warning",id:Date.now()}),fe.push({text:`${tt.name} begins turn (+${ke} Gold).`,type:"neutral",id:Date.now()+1});const Dt={playerId:tt.id,income:ke,breakdown:dt,expired:pt,seen:!1},un=Jd(q.length);if(tt.gold>=un){const cn=q.map(xs=>({...xs,ready:!1}));await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:cn,status:"finished",winnerId:tt.id,logs:Yd({text:` ${tt.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}Z.length===0&&(oe.length>0?(Z=bv([...oe]),oe=[],fe.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):fe.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),Z.length>0&&tt.hand.push(Z.pop()),await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:q,deck:Z,discardPile:oe,turnIndex:xe,logs:Yd(...fe),lastAction:Ae!==null?Ae:g.lastAction,turnReport:Dt,eveningReport:ot})},Ir=async(q,Z,oe,fe,Ae,ot,xe,tt,pt)=>{const Ne=fe[tt],ke=xt[q];let dt=[],Dt=-(ke.cost+pt);Ne.gold-=ke.cost+pt,ke.type==="ACTION"&&Is(fe,Ne.id);const un=Ne.hand.indexOf(q);un>-1&&Ne.hand.splice(un,1);let cn=g.lastAction;if(ke.type==="AGENT")Ne.tableau.push({cardId:q,turnsLeft:zx}),xe.push({text:` ${Ne.name} recruited ${ke.name}.`,type:"success",id:Date.now()}),dt.push({desc:"Recruited Agent",amount:0});else if(ot.push(q),cn={cardId:q,playerId:Ne.id},q==="URCHIN")Ne.gold+=2,Dt+=2,dt.push({desc:"Street Urchin",amount:2}),xe.push({text:` ${Ne.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()});else if(q==="HEIST")Math.floor(Math.random()*6)+1>=4?(Ne.gold+=5,Dt+=5,dt.push({desc:"Heist Success",amount:5}),xe.push({text:` ${Ne.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()})):(dt.push({desc:"Heist Failed",amount:0}),xe.push({text:` ${Ne.name}'s Heist failed.`,type:"failure",id:Date.now()}));else if(q==="THIEF"){const Me=fe.find(De=>De.id===Z);if(Me.tableau.some(De=>De.cardId==="BODYGUARD"))dt.push({desc:"Thief Blocked",amount:0}),xe.push({text:` ${Me.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()});else{const De=Math.min(Me.gold,2);Me.gold-=De,Ne.gold+=De,Dt+=De,dt.push({desc:`Stole from ${Me.name}`,amount:De}),xe.push({text:` ${Ne.name} stole ${De} Gold from ${Me.name}.`,type:"danger",id:Date.now()})}}else if(q==="ASSASSIN"){const Me=fe.find(De=>De.id===Z);if(Me.tableau.some(De=>De.cardId==="BODYGUARD"))xe.push({text:` ${Me.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()});else if(oe!==null&&Me.tableau[oe]){const De=Me.tableau[oe];Me.tableau.splice(oe,1),ot.push(De.cardId),xe.push({text:` ${Ne.name} assassinated ${Me.name}'s ${xt[De.cardId].name}!`,type:"danger",id:Date.now()})}}else if(q==="BLACKMAIL"){const Me=fe.find(De=>De.id===Z);if(Me.tableau.some(De=>De.cardId==="BODYGUARD"))xe.push({text:` ${Me.name} blocked Blackmail.`,type:"warning",id:Date.now()});else if(oe==="GOLD"){const De=Math.min(Me.gold,4);Me.gold-=De,Ne.gold+=De,Dt+=De,dt.push({desc:"Blackmail Gold",amount:De}),xe.push({text:` ${Ne.name} blackmailed ${Me.name} for ${De} Gold.`,type:"danger",id:Date.now()})}else{const De=parseInt(oe);if(!isNaN(De)&&Me.tableau[De]){const ai=Me.tableau[De];Me.tableau.splice(De,1),Ne.tableau.push(ai),xe.push({text:` ${Ne.name} blackmailed ${Me.name}'s ${xt[ai.cardId].name}.`,type:"danger",id:Date.now()})}}}else if(q==="DOPPELGANGER"){const Me=g.lastAction;if(!Me||Me.cardId==="DOPPELGANGER")xe.push({text:` ${Ne.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()});else{xe.push({text:` ${Ne.name} copies ${xt[Me.cardId].name}...`,type:"neutral",id:Date.now()});const De=Me.cardId;["URCHIN","HEIST"].includes(De)?(De==="URCHIN"&&(Ne.gold+=2,Dt+=2,dt.push({desc:"Copied Urchin",amount:2})),De==="HEIST"&&Math.floor(Math.random()*6)+1>=4&&(Ne.gold+=5,Dt+=5,dt.push({desc:"Copied Heist",amount:5}))):(Ne.gold+=3,Dt+=3,dt.push({desc:"Copied Complex Action",amount:3}),xe.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}))}}const xs=Jd(fe.length);if(Ne.gold>=xs){const Me=fe.map(De=>({...De,ready:!1}));await ps(jn(Bn,"artifacts",ii,"public","data","rooms",W),{players:Me,status:"finished",winnerId:Ne.id,logs:Yd({text:` ${Ne.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}const Gn={playerId:Ne.id,actionName:ke.name,cost:ke.cost,tax:pt,gains:dt,netChange:Dt,seen:!1};ge(null),R(null),bt(null),Ve(null),await En(fe,Ae,ot,xe,cn,Gn)},Xi=async q=>{const Z=JSON.parse(JSON.stringify(g.players)),oe=g.turnIndex,fe=Z[oe],Ae=[...g.deck],ot=[...g.discardPile],xe=[],tt=fe.hand.splice(q,1)[0];ot.push(tt),xe.push({text:` ${fe.name} discarded ${xt[tt].name} (Hand Limit).`,type:"neutral",id:Date.now()});const pt={playerId:fe.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1};ge(null),R(null),await En(Z,Ae,ot,xe,null,pt)},Cr=q=>{if(V==="DISCARD"){Xi(q);return}if(V==="SCOUT"){fa(q);return}const Z=g.players[g.turnIndex].hand[q],oe=xt[Z],fe=g.players[g.turnIndex],Ae=oe.type==="ACTION"?Ei(g.players,fe.id):0;if(fe.gold<oe.cost+Ae){re("failure","Insufficient Funds",`Cost: ${oe.cost} + ${Ae} Tax`,na);return}if(Z==="DOPPELGANGER"){const ot=g.lastAction;let xe=null;ot&&ot.cardId!=="DOPPELGANGER"&&(xe=xt[ot.cardId]),Ve({handIdx:q,targetCard:xe});return}ge(q),Z==="THIEF"||Z==="ASSASSIN"||Z==="BLACKMAIL"?R("PLAYER"):(oe.type==="AGENT"||Z==="URCHIN"||Z==="HEIST")&&Tn(q,null,null)},xr=q=>{if(!V)return;const Z=g.players[g.turnIndex].hand[me];Z==="THIEF"?Tn(me,q,null):Z==="ASSASSIN"?(bt(q),R("CARD")):Z==="BLACKMAIL"&&(bt(q),R("OPTION"))},Rt=q=>{V==="CARD"&&We&&Tn(me,We,q)},Nt=q=>{V==="OPTION"&&We&&Tn(me,We,q)},Tn=async(q,Z,oe)=>{const fe=JSON.parse(JSON.stringify(g.players)),Ae=[...g.deck],ot=[...g.discardPile],xe=[],tt=fe.find(ke=>ke.id===r.uid),pt=tt.hand[q],Ne=xt[pt].type==="ACTION"?Ei(fe,tt.id):0;await Ir(pt,Z,oe,fe,Ae,ot,xe,g.turnIndex,Ne)},Il=()=>{R("SCOUT"),re("success","Scout Mode","Select a card to discard",vv)},fa=async q=>{const Z=JSON.parse(JSON.stringify(g.players)),oe=g.turnIndex,fe=Z[oe],Ae=[...g.deck],ot=[...g.discardPile],xe=[],tt=fe.hand.splice(q,1)[0];ot.push(tt),Ae.length>0&&fe.hand.push(Ae.pop()),xe.push({text:`zzz ${fe.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const pt={playerId:fe.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1};ge(null),R(null),await En(Z,Ae,ot,xe,null,pt)},Wt=()=>{g.deck.length!==0&&(ne(g.deck[g.deck.length-1]),setTimeout(()=>ne(null),3e3))},$i=q=>q==="URCHIN"?"Effect: Gain +2 Gold":q==="HEIST"?"Effect: 50% chance to gain +5 Gold":"Effect: Gain +3 Gold (Mimic Bonus)";if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(cx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Tv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Tv,{size:16})]})})})})]});if(!i)return b.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[b.jsx(YE,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),b.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:o,onChange:q=>c(q.target.value)}),b.jsxs("button",{onClick:Ee,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[M?b.jsx(Ev,{size:18,className:"animate-spin"}):b.jsx(Xd,{size:18}),M?"Establishing...":"Establish Guild"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:q=>y(q.target.value.toUpperCase())}),b.jsx("button",{onClick:Re,disabled:M,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:M?b.jsx(Ev,{size:16,className:"animate-spin"}):"Join"})]}),b.jsxs("button",{onClick:()=>x(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(wm,{size:14})," Guild Archives"]})]}),Pe&&b.jsx(Sv,{onClose:()=>x(!1)}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const q=g.hostId===r.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Room:"," ",b.jsx("span",{className:"text-white font-mono",children:g.roomId})]}),b.jsx("button",{onClick:wt,className:"text-red-400 hover:text-red-300",children:b.jsx(Rm,{size:20})})]}),b.jsxs("div",{className:"space-y-2 mb-6",children:[b.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),g.players.map(Z=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(Dx,{size:14})," ",Z.name,Z.id===g.hostId&&b.jsx(Xd,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(WC,{size:12})," Ready"]}),q&&Z.id!==r.uid&&b.jsx("button",{onClick:()=>ze(Z.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(Uc,{size:14})})]})]},Z.id))]}),q?b.jsx("button",{onClick:gt,disabled:g.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${g.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Game"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),b.jsx(Av,{})]})}const Cs=g.players.findIndex(q=>q.id===r.uid),pn=g.players[Cs],qn=g.turnIndex===Cs;me!==null&&xt[pn.hand[me]];const da=Ei(g.players,pn.id),ma=Jd(g.players.length),ga=pn.tableau.some(q=>q.cardId==="LOOKOUT");return b.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[b.jsx(Zd,{}),$e&&b.jsx(Bx,{...$e}),G&&b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>ne(null),children:b.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[b.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),b.jsx("div",{className:"scale-150 transform transition-all",children:b.jsx(Lc,{cardId:G})}),b.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),ce&&b.jsx("div",{className:"fixed inset-0 z-[190] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 border-2 border-cyan-500 rounded-2xl w-full max-w-sm flex flex-col items-center p-6 shadow-[0_0_30px_rgba(34,211,238,0.2)] animate-in zoom-in-95",children:[b.jsx(KE,{size:48,className:"text-cyan-400 mb-4"}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Doppelganger"}),b.jsxs("div",{className:"text-center mb-6 w-full",children:[b.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Copying previous action:"}),ce.targetCard?b.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-700 flex flex-col items-center w-full",children:[b.jsx("span",{className:`font-bold ${ce.targetCard.color} text-lg`,children:ce.targetCard.name}),b.jsx("div",{className:"mt-3 bg-cyan-900/30 text-cyan-200 px-3 py-2 rounded text-sm font-bold border border-cyan-500/30 w-full text-center",children:$i(ce.targetCard.id)})]}):b.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-200 text-sm italic",children:"No valid action to copy (Effect will fizzle)."})]}),b.jsxs("div",{className:"flex gap-3 w-full",children:[b.jsx("button",{onClick:()=>Ve(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded-xl font-bold transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Tn(ce.handIdx,null,null),className:"flex-1 bg-cyan-600 hover:bg-cyan-500 py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95",children:"Proceed"})]})]})}),b.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-[160] shrink-0 shadow-md",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline text-lg",children:"GUILD OF SHADOWS"}),b.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-xs px-3 py-1 rounded-full border border-purple-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:["Goal: ",ma," ",b.jsx(na,{size:10,className:"inline ml-0.5"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>C(!w),className:`p-2 rounded-full ${w?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(mx,{size:20})}),b.jsx("button",{onClick:()=>x(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full transition-colors",children:b.jsx(wm,{size:20})}),b.jsx("button",{onClick:()=>N(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full transition-colors",children:b.jsx(Rm,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:g.players.map((q,Z)=>{if(q.id===r.uid)return null;const oe=g.turnIndex===Z,fe=V==="PLAYER",Ae=We===q.id;return b.jsxs("div",{onClick:()=>fe?xr(q.id):null,className:`
                        relative bg-gray-900/80 backdrop-blur-sm p-3 rounded-xl border transition-all duration-200
                        ${oe?"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.25)] bg-purple-900/10 scale-[1.02]":"border-gray-800"}
                        ${fe?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${Ae?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("span",{className:"text-sm font-bold text-gray-200 flex items-center gap-1.5 truncate max-w-[100px]",children:[q.name,q.id===g.hostId&&b.jsx(Xd,{size:12,className:"text-yellow-500"})]}),b.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1 font-mono bg-black/40 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:[q.gold," ",b.jsx(na,{size:10})]})]}),b.jsx("div",{className:"flex gap-0.5",children:q.hand.map((ot,xe)=>b.jsx("div",{className:"w-2.5 h-4 bg-gradient-to-b from-purple-800 to-purple-950 rounded-[2px] border border-purple-600/50 shadow-sm"},xe))})]}),b.jsxs("div",{className:"flex flex-wrap gap-1.5 min-h-[32px]",children:[q.tableau.map((ot,xe)=>b.jsx("div",{onClick:tt=>{tt.stopPropagation(),Rt(xe)},className:`${V==="CARD"&&Ae?"animate-pulse cursor-pointer ring-1 ring-red-400 rounded":""}`,children:b.jsx(Lc,{cardId:ot.cardId,turnsLeft:ot.turnsLeft,tiny:!0})},xe)),q.tableau.length===0&&b.jsx("div",{className:"w-full h-8 flex items-center justify-center text-[10px] text-gray-600 italic border border-dashed border-gray-800 rounded",children:"Empty Hall"})]})]},q.id)})}),b.jsx("div",{className:"mt-6 flex flex-col items-center space-y-1.5 pointer-events-none opacity-80",children:g.logs.slice(-3).reverse().map(q=>b.jsx("div",{className:`text-[10px] px-3 py-1 rounded-full backdrop-blur-md shadow-lg border ${q.type==="danger"?"bg-red-950/70 border-red-500/30 text-red-200":"bg-gray-900/70 border-gray-700/50 text-gray-300"}`,children:q.text},q.id))})]}),b.jsxs("div",{className:"bg-gray-950 border-t border-purple-900/30 pb-safe z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] flex flex-col shrink-0",children:[b.jsx("div",{className:"w-full bg-black/20",children:!G&&Ke?b.jsx(Hx,{report:Ke}):!G&&Y?b.jsx(qx,{report:Y}):null}),b.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-900 border-b border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"text-yellow-400 font-black text-2xl flex items-center gap-2 drop-shadow-md",children:[b.jsx(na,{className:"fill-yellow-400/20",size:24})," ",pn.gold]}),da>0&&b.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1 bg-red-950/50 px-2 py-1 rounded border border-red-900/50",children:["Tax: +",da," ",b.jsx(na,{size:10})]})]}),b.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-w-[50%] no-scrollbar items-center mask-linear-fade",children:pn.tableau.map((q,Z)=>b.jsx("div",{className:"shrink-0",children:b.jsx(Lc,{cardId:q.cardId,turnsLeft:q.turnsLeft,tiny:!0})},Z))})]}),b.jsxs("div",{className:"min-h-[50px] flex items-center justify-center py-2 px-4",children:[qn&&!V&&me===null&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[ga&&b.jsxs("button",{onClick:Wt,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-5 py-2.5 rounded-xl font-bold shadow-lg flex items-center gap-2 text-sm transition-all active:scale-95",children:[b.jsx(XE,{size:16})," Peek"]}),pn.hand.length>5?b.jsxs("button",{onClick:()=>{R("DISCARD"),re("neutral","Discard Mode","Hand limit reached",Uc)},className:"flex-1 max-w-xs bg-red-900/90 hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Discard & Pass ",b.jsx(Uc,{size:16})]}):b.jsxs("button",{onClick:Il,className:"flex-1 max-w-xs bg-gray-800 hover:bg-gray-700 text-gray-200 border border-gray-600 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Pass & Scout ",b.jsx(YC,{size:16})]})]}),V==="SCOUT"&&b.jsxs("div",{className:"flex items-center gap-3 bg-blue-900/30 border border-blue-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-blue-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(vv,{size:16})," Select card to discard"]}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Vo,{size:12})})]}),V==="DISCARD"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(Uc,{size:16})," Hand Full: Discard 1"]}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Vo,{size:12})})]}),V==="PLAYER"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full animate-pulse",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx($E,{size:16})," Select Target Player"]}),b.jsx("button",{onClick:()=>{R(null),ge(null)},className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Vo,{size:12})})]}),me!==null&&!V&&b.jsx("button",{onClick:()=>ge(null),className:"bg-gray-800 text-gray-400 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-700",children:"Cancel Selection"}),V==="CARD"&&b.jsx("div",{className:"bg-black/60 px-4 py-2 rounded-full text-sm font-bold border border-red-500/50 text-red-200",children:"Select Agent to Destroy"}),V==="OPTION"&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[b.jsx("button",{onClick:()=>Nt("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-yellow-500",children:"Steal 4 Gold"}),b.jsx("button",{onClick:()=>R("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-blue-500",children:"Steal Agent"})]})]}),b.jsxs("div",{className:"flex overflow-x-auto px-4 pb-4 gap-3 no-scrollbar snap-x snap-mandatory min-h-[180px] items-center",children:[pn.hand.length===0&&b.jsx("div",{className:"text-gray-600 text-sm italic w-full text-center py-8 border-2 border-dashed border-gray-800 rounded-xl",children:"Hand Empty"}),pn.hand.map((q,Z)=>b.jsx("div",{className:`snap-center transition-transform duration-200 ${me===Z?"-translate-y-6 scale-105":""}`,children:b.jsx(Lc,{cardId:q,onClick:()=>qn?Cr(Z):null,disabled:!qn||V!==null&&V!=="SCOUT"&&V!=="DISCARD"&&me!==Z,highlight:me===Z})},Z)),b.jsx("div",{className:"w-2 shrink-0"})]})]})]}),w&&b.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),b.jsx("button",{onClick:()=>C(!1),children:b.jsx(Vo,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...g.logs].reverse().map(q=>b.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${q.type==="danger"?"bg-red-900/20 border-red-500":q.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[b.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(q.id).toLocaleTimeString()}),q.text]},q.id))})]}),k&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>N(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),g.hostId===r.uid&&b.jsx("button",{onClick:Yi,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:wt,className:"bg-red-600 py-3 rounded font-bold",children:g.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),g.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[b.jsx(JE,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[g.players.find(q=>q.id===g.winnerId)?.name," ","is the new Guild Master!"]}),b.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[b.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),b.jsx("div",{className:"space-y-2",children:g.players.map(q=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:q.name}),b.jsx("span",{className:q.ready?"text-green-400 font-bold":"text-gray-500",children:q.ready?"READY":"WAITING"})]},q.id))})]}),b.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[pn.ready?b.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):b.jsx("button",{onClick:Ki,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),g.hostId===r.uid&&b.jsx("button",{onClick:Yi,disabled:!g.players.every(q=>q.ready),className:`py-3 rounded-lg font-bold transition-all ${g.players.every(q=>q.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),b.jsx(Av,{}),Pe&&b.jsx(Sv,{onClose:()=>x(!1)})]})}Pb.createRoot(document.getElementById("root")).render(b.jsx(rt.StrictMode,{children:b.jsx(Gx,{})}));
