(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},Co={};var j_;function Cb(){if(j_)return Co;j_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var z_;function Nb(){return z_||(z_=1,Nd.exports=Cb()),Nd.exports}var b=Nb(),Dd={exports:{}},Re={};var B_;function Db(){if(B_)return Re;B_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function fe(N,Y,ie){this.props=N,this.context=Y,this.refs=ee,this.updater=ie||W}fe.prototype.isReactComponent={},fe.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},fe.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ae(){}Ae.prototype=fe.prototype;function ge(N,Y,ie){this.props=N,this.context=Y,this.refs=ee,this.updater=ie||W}var We=ge.prototype=new Ae;We.constructor=ge,se(We,fe.prototype),We.isPureReactComponent=!0;var Ue=Array.isArray;function Me(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(N,Y,ie){var re=ie.ref;return{$$typeof:r,type:N,key:Y,ref:re!==void 0?re:null,props:ie}}function V(N,Y){return I(N.type,Y,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function st(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Y.toString(36)}function Le(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Me,Me):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,ie,re,ye){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var ke=!1;if(N===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(N.$$typeof){case r:case e:ke=!0;break;case A:return ke=N._init,G(ke(N._payload),Y,ie,re,ye)}}if(ke)return ye=ye(N),ke=re===""?"."+st(N,0):re,Ue(ye)?(ie="",ke!=null&&(ie=ke.replace(R,"$&/")+"/"),G(ye,Y,ie,"",function(Ki){return Ki})):ye!=null&&(D(ye)&&(ye=V(ye,ie+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+ke)),Y.push(ye)),1;ke=0;var It=re===""?".":re+":";if(Ue(N))for(var gt=0;gt<N.length;gt++)re=N[gt],Se=It+st(re,gt),ke+=G(re,Y,ie,Se,ye);else if(gt=F(N),typeof gt=="function")for(N=gt.call(N),gt=0;!(re=N.next()).done;)re=re.value,Se=It+st(re,gt++),ke+=G(re,Y,ie,Se,ye);else if(Se==="object"){if(typeof N.then=="function")return G(Le(N),Y,ie,re,ye);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(N,Y,ie){if(N==null)return N;var re=[],ye=0;return G(N,re,"","",function(Se){return Y.call(ie,Se,ye++)}),re}function ce(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(ie){(N._status===0||N._status===-1)&&(N._status=1,N._result=ie)},function(ie){(N._status===0||N._status===-1)&&(N._status=2,N._result=ie)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Xe={map:ne,forEach:function(N,Y,ie){ne(N,function(){Y.apply(this,arguments)},ie)},count:function(N){var Y=0;return ne(N,function(){Y++}),Y},toArray:function(N){return ne(N,function(Y){return Y})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Re.Activity=S,Re.Children=Xe,Re.Component=fe,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=ge,Re.StrictMode=a,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(N,Y,ie){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=se({},N.props),ye=N.key;if(Y!=null)for(Se in Y.key!==void 0&&(ye=""+Y.key),Y)!w.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(re[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)re.children=ie;else if(1<Se){for(var ke=Array(Se),It=0;It<Se;It++)ke[It]=arguments[It+2];re.children=ke}return I(N.type,ye,re)},Re.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Re.createElement=function(N,Y,ie){var re,ye={},Se=null;if(Y!=null)for(re in Y.key!==void 0&&(Se=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=Y[re]);var ke=arguments.length-2;if(ke===1)ye.children=ie;else if(1<ke){for(var It=Array(ke),gt=0;gt<ke;gt++)It[gt]=arguments[gt+2];ye.children=It}if(N&&N.defaultProps)for(re in ke=N.defaultProps,ke)ye[re]===void 0&&(ye[re]=ke[re]);return I(N,Se,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:y,render:N}},Re.isValidElement=D,Re.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ce}},Re.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},Re.startTransition=function(N){var Y=C.T,ie={};C.T=ie;try{var re=N(),ye=C.S;ye!==null&&ye(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Me,Ve)}catch(Se){Ve(Se)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),C.T=Y}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(N){return C.H.use(N)},Re.useActionState=function(N,Y,ie){return C.H.useActionState(N,Y,ie)},Re.useCallback=function(N,Y){return C.H.useCallback(N,Y)},Re.useContext=function(N){return C.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,Y){return C.H.useDeferredValue(N,Y)},Re.useEffect=function(N,Y){return C.H.useEffect(N,Y)},Re.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(N,Y,ie){return C.H.useImperativeHandle(N,Y,ie)},Re.useInsertionEffect=function(N,Y){return C.H.useInsertionEffect(N,Y)},Re.useLayoutEffect=function(N,Y){return C.H.useLayoutEffect(N,Y)},Re.useMemo=function(N,Y){return C.H.useMemo(N,Y)},Re.useOptimistic=function(N,Y){return C.H.useOptimistic(N,Y)},Re.useReducer=function(N,Y,ie){return C.H.useReducer(N,Y,ie)},Re.useRef=function(N){return C.H.useRef(N)},Re.useState=function(N){return C.H.useState(N)},Re.useSyncExternalStore=function(N,Y,ie){return C.H.useSyncExternalStore(N,Y,ie)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var H_;function Im(){return H_||(H_=1,Dd.exports=Db()),Dd.exports}var Ze=Im(),Od={exports:{}},No={},Md={exports:{}},Vd={};var q_;function Ob(){return q_||(q_=1,(function(r){function e(G,ne){var ce=G.length;G.push(ne);e:for(;0<ce;){var Ve=ce-1>>>1,Xe=G[Ve];if(0<o(Xe,ne))G[Ve]=ne,G[ce]=Xe,ce=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ce=G.pop();if(ce!==ne){G[0]=ce;e:for(var Ve=0,Xe=G.length,N=Xe>>>1;Ve<N;){var Y=2*(Ve+1)-1,ie=G[Y],re=Y+1,ye=G[re];if(0>o(ie,ce))re<Xe&&0>o(ye,ie)?(G[Ve]=ye,G[re]=ce,Ve=re):(G[Ve]=ie,G[Y]=ce,Ve=Y);else if(re<Xe&&0>o(ye,ce))G[Ve]=ye,G[re]=ce,Ve=re;else break e}}return ne}function o(G,ne){var ce=G.sortIndex-ne.sortIndex;return ce!==0?ce:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],_=[],A=1,S=null,M=3,F=!1,W=!1,se=!1,ee=!1,fe=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function We(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function Ue(G){if(se=!1,We(G),!W)if(i(g)!==null)W=!0,Me||(Me=!0,U());else{var ne=i(_);ne!==null&&Le(Ue,ne.startTime-G)}}var Me=!1,C=-1,w=5,I=-1;function V(){return ee?!0:!(r.unstable_now()-I<w)}function D(){if(ee=!1,Me){var G=r.unstable_now();I=G;var ne=!0;try{e:{W=!1,se&&(se=!1,Ae(C),C=-1),F=!0;var ce=M;try{t:{for(We(G),S=i(g);S!==null&&!(S.expirationTime>G&&V());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,M=S.priorityLevel;var Xe=Ve(S.expirationTime<=G);if(G=r.unstable_now(),typeof Xe=="function"){S.callback=Xe,We(G),ne=!0;break t}S===i(g)&&a(g),We(G)}else a(g);S=i(g)}if(S!==null)ne=!0;else{var N=i(_);N!==null&&Le(Ue,N.startTime-G),ne=!1}}break e}finally{S=null,M=ce,F=!1}ne=void 0}}finally{ne?U():Me=!1}}}var U;if(typeof ge=="function")U=function(){ge(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=D,U=function(){st.postMessage(null)}}else U=function(){fe(D,0)};function Le(G,ne){C=fe(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ce=M;M=ne;try{return G()}finally{M=ce}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=M;M=G;try{return ne()}finally{M=ce}},r.unstable_scheduleCallback=function(G,ne,ce){var Ve=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ve+ce:Ve):ce=Ve,G){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=ce+Xe,G={id:A++,callback:ne,priorityLevel:G,startTime:ce,expirationTime:Xe,sortIndex:-1},ce>Ve?(G.sortIndex=ce,e(_,G),i(g)===null&&G===i(_)&&(se?(Ae(C),C=-1):se=!0,Le(Ue,ce-Ve))):(G.sortIndex=Xe,e(g,G),W||F||(W=!0,Me||(Me=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ne=M;return function(){var ce=M;M=ne;try{return G.apply(this,arguments)}finally{M=ce}}}})(Vd)),Vd}var G_;function Mb(){return G_||(G_=1,Md.exports=Ob()),Md.exports}var kd={exports:{}},cn={};var F_;function Vb(){if(F_)return cn;F_=1;var r=Im();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,A)},cn.flushSync=function(g){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=A,a.d.f()}},cn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},cn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},cn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&a.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},cn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(g,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},cn.requestFormReset=function(g){a.d.r(g)},cn.unstable_batchedUpdates=function(g,_){return g(_)},cn.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var Q_;function kb(){if(Q_)return kd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Vb(),kd.exports}var K_;function Ub(){if(K_)return No;K_=1;var r=Mb(),e=Im(),i=kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case fe:return"Profiler";case ee:return"StrictMode";case Ue:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ge:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case We:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var Le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ve=[],Xe=-1;function N(t){return{current:t}}function Y(t){0>Xe||(t.current=Ve[Xe],Ve[Xe]=null,Xe--)}function ie(t,n){Xe++,Ve[Xe]=t.current,t.current=n}var re=N(null),ye=N(null),Se=N(null),ke=N(null);function It(t,n){switch(ie(Se,n),ie(ye,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o_(n),t=u_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function gt(){Y(re),Y(ye),Y(Se)}function Ki(t){t.memoizedState!==null&&ie(ke,t);var n=re.current,s=u_(n,t.type);n!==s&&(ie(ye,t),ie(re,s))}function Yi(t){ye.current===t&&(Y(re),Y(ye)),ke.current===t&&(Y(ke),wo._currentValue=ce)}var Ns,Ds;function Nn(t){if(Ns===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Ds}var Xi=!1;function $i(t,n){if(!t||Xi)return"";Xi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),j=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Xi=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nn(s):""}function Ji(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return $i(t.type,!1);case 11:return $i(t.type.render,!1);case 1:return $i(t.type,!0);case 31:return Nn("Activity");default:return""}}function Nr(t){try{var n="",s=null;do n+=Ji(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,vi=r.unstable_cancelCallback,Nl=r.unstable_shouldYield,pa=r.unstable_requestPaint,Nt=r.unstable_now,Zi=r.unstable_getCurrentPriorityLevel,Dr=r.unstable_ImmediatePriority,Or=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,ya=r.unstable_LowPriority,En=r.unstable_IdlePriority,Os=r.log,Mr=r.unstable_setDisableYieldValue,Dn=null,Kt=null;function B(t){if(typeof Os=="function"&&Mr(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Dn,t)}catch{}}var J=Math.clz32?Math.clz32:dt,ve=Math.log,pe=Math.LN2;function dt(t){return t>>>=0,t===0?32:31-(ve(t)/pe|0)|0}var Ke=256,Ce=262144,Te=4194304;function pt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function we(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=pt(l):(p&=E,p!==0?h=pt(p):s||(s=E&~t,s!==0&&(h=pt(s))))):(E=l&~f,E!==0?h=pt(E):p!==0?h=pt(p):s||(s=l&~t,s!==0&&(h=pt(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ot(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var t=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),t}function pn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ut(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vr(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-J(s),X=1<<Q;E[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&Wi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Wi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-J(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Pe(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-J(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Ie(t,n){var s=n&-n;return s=(s&42)!==0?1:ri(s),(s&(t.suspendedLanes|n))!==0?0:s}function ri(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:O_(t.type))}function ai(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var li=Math.random().toString(36).slice(2),Lt="__reactFiber$"+li,Jt="__reactProps$"+li,Ti="__reactContainer$"+li,_a="__reactEvents$"+li,kh="__reactListeners$"+li,uu="__reactHandles$"+li,cu="__reactResources$"+li,bi="__reactMarker$"+li;function va(t){delete t[Lt],delete t[Jt],delete t[_a],delete t[kh],delete t[uu]}function Ai(t){var n=t[Lt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ti]||s[Lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=p_(t);t!==null;){if(s=t[Lt])return s;t=p_(t)}return n}t=s,s=t.parentNode}return null}function Gn(t){if(t=t[Lt]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[bi]=!0}var Dl=new Set,Ol={};function wi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function hu(t){return St.call(kl,t)?!0:St.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function Ea(t,n,s){if(hu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function jt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=Ms(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function kr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function Tn(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,s,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,p,Zt(n)):s!=null?Ll(t,p,Zt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function fu(t,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}s=s!=null?""+Zt(s):"",n=n!=null?""+Zt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),rt(t)}function Ll(t,n,s){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Zt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,s){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Zt(s):""}function ks(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Le(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Zt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),rt(t)}function bn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function jl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Pl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Pl(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Us.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var zl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Ii=null;function Lr(t){var n=Gn(t);if(n&&(t=n.stateNode)){var s=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Jt]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&kr(l)}break e;case"textarea":du(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Vs(t,!!s.multiple,n,!1)}}}var Sa=!1;function Ps(t,n,s){if(Sa)return t(n,s);Sa=!0;try{var l=t(n);return l}finally{if(Sa=!1,(Ls!==null||Ii!==null)&&(oc(),Ls&&(n=Ls,t=Ii,Ii=Ls=null,Lr(n),t)))for(n=0;n<t.length;n++)Lr(t[n])}}function ui(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Jt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Qn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Pr=!1}var Ci=null,Bl=null,jr=null;function Hl(){if(jr)return jr;var t,n=Bl,s=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return jr=h.slice(t,1<l?1-l:void 0)}function zr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function ci(){return!1}function tn(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:ci,this.isPropagationStopped=ci,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=tn(ns),js=S({},ns,{view:0,detail:0}),ql=tn(js),zs,wa,Di,Ra=S({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(zs=t.screenX-Di.screenX,wa=t.screenY-Di.screenY):wa=zs=0,Di=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Gl=tn(Ra),Br=S({},Ra,{dataTransfer:0}),pu=tn(Br),yu=S({},js,{relatedTarget:0}),Hr=tn(yu),Fl=S({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=tn(Fl),xa=S({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=tn(xa),Eu=S({},ns,{data:0}),Oi=tn(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Bs(){return Su}var yn=S({},js,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=tn(yn),Ru=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=tn(Ru),u=S({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),m=tn(u),v=S({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),L=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(L),te=S({},ns,{newState:0,oldState:0}),Ne=tn(te),Dt=[9,13,27,32],et=Qn&&"CompositionEvent"in window,Et=null;Qn&&"documentMode"in document&&(Et=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!Et,Mi=Qn&&(!et||Et&&8<Et&&11>=Et),hi=" ",fi=!1;function qr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function WE(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function eT(t,n){if(Ca)return t==="compositionend"||!et&&qr(t,n)?(t=Hl(),jr=Bl=Ci=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tT[t.type]:n==="textarea"}function Eg(t,n,s,l){Ls?Ii?Ii.push(l):Ii=[l]:Ls=l,n=gc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ql=null,Kl=null;function nT(t){n_(t,0)}function xu(t){var n=On(t);if(kr(n))return t}function Tg(t,n){if(t==="change")return n}var bg=!1;if(Qn){var Uh;if(Qn){var Lh="oninput"in document;if(!Lh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Lh=typeof Ag.oninput=="function"}Uh=Lh}else Uh=!1;bg=Uh&&(!document.documentMode||9<document.documentMode)}function Sg(){Ql&&(Ql.detachEvent("onpropertychange",wg),Kl=Ql=null)}function wg(t){if(t.propertyName==="value"&&xu(Kl)){var n=[];Eg(n,Kl,t,Fn(t)),Ps(nT,n)}}function iT(t,n,s){t==="focusin"?(Sg(),Ql=n,Kl=s,Ql.attachEvent("onpropertychange",wg)):t==="focusout"&&Sg()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Kl)}function rT(t,n){if(t==="click")return xu(n)}function aT(t,n){if(t==="input"||t==="change")return xu(n)}function lT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:lT;function Yl(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!St.call(n,h)||!Vn(t[h],n[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,n){var s=Rg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rg(s)}}function Ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=xi(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oT=Qn&&"documentMode"in document&&11>=document.documentMode,Na=null,jh=null,Xl=null,zh=!1;function Ng(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Na==null||Na!==xi(l)||(l=Na,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=gc(jh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Na)))}function Gr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Da={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Bh={},Dg={};Qn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Fr(t){if(Bh[t])return Bh[t];if(!Da[t])return t;var n=Da[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dg)return Bh[t]=n[s];return t}var Og=Fr("animationend"),Mg=Fr("animationiteration"),Vg=Fr("animationstart"),uT=Fr("transitionrun"),cT=Fr("transitionstart"),hT=Fr("transitioncancel"),kg=Fr("transitionend"),Ug=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function di(t,n){Ug.set(t,n),wi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Oa=0,qh=0;function Cu(){for(var t=Oa,n=qh=Oa=0;n<t;){var s=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Lg(s,h,f)}}function Nu(t,n,s,l){Yn[Oa++]=t,Yn[Oa++]=n,Yn[Oa++]=s,Yn[Oa++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,s,l){return Nu(t,n,s,l),Du(t)}function Qr(t,n){return Nu(t,null,null,n),Du(t)}function Lg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-J(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(t){if(50<_o)throw _o=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function fT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,s,l){return new fT(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var s=t.alternate;return s===null?(s=kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Pg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Fh(t)&&(p=1);else if(typeof t=="string")p=yb(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,s,n,h),t.elementType=I,t.lanes=f,t;case se:return Kr(s.children,h,f,n);case ee:p=8,h|=24;break;case fe:return t=kn(12,s,n,h|2),t.elementType=fe,t.lanes=f,t;case Ue:return t=kn(13,s,n,h),t.elementType=Ue,t.lanes=f,t;case Me:return t=kn(19,s,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:p=10;break e;case Ae:p=9;break e;case We:p=11;break e;case C:p=14;break e;case w:p=16,l=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=kn(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,s,l){return t=kn(7,t,l,n),t.lanes=s,t}function Qh(t,n,s){return t=kn(6,t,null,n),t.lanes=s,t}function jg(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zg=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var s=zg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Nr(n)},zg.set(t,n),n)}return{value:t,source:n,stack:Nr(n)}}var Va=[],ka=0,Mu=null,$l=0,$n=[],Jn=0,Hs=null,Vi=1,ki="";function rs(t,n){Va[ka++]=$l,Va[ka++]=Mu,Mu=t,$l=n}function Bg(t,n,s){$n[Jn++]=Vi,$n[Jn++]=ki,$n[Jn++]=Hs,Hs=t;var l=Vi;t=ki;var h=32-J(l)-1;l&=~(1<<h),s+=1;var f=32-J(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Vi=1<<32-J(n)+h|s<<h|l,ki=f+t}else Vi=1<<f|s<<h|l,ki=t}function Yh(t){t.return!==null&&(rs(t,1),Bg(t,1,0))}function Xh(t){for(;t===Mu;)Mu=Va[--ka],Va[ka]=null,$l=Va[--ka],Va[ka]=null;for(;t===Hs;)Hs=$n[--Jn],$n[Jn]=null,ki=$n[--Jn],$n[Jn]=null,Vi=$n[--Jn],$n[Jn]=null}function Hg(t,n){$n[Jn++]=Vi,$n[Jn++]=ki,$n[Jn++]=Hs,Vi=n.id,ki=n.overflow,Hs=t}var nn=null,yt=null,Qe=!1,qs=null,Zn=!1,$h=Error(a(519));function Gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Xn(n,t)),$h}function qg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[Jt]=l,s){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(s=0;s<Eo.length;s++)ze(Eo[s],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),ks(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||a_(n.textContent,s)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Gs(t,!0)}function Gg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function Ua(t){if(t!==nn)return!1;if(!Qe)return Gg(t),Qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gd(t.type,t.memoizedProps)),s=!s),s&&yt&&Gs(t),Gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));yt=g_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));yt=g_(t)}else n===27?(n=yt,sr(t.type)?(t=Ed,Ed=null,yt=t):yt=n):yt=nn?ei(t.stateNode.nextSibling):null;return!0}function Yr(){yt=nn=null,Qe=!1}function Jh(){var t=qs;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),qs=null),t}function Jl(t){qs===null?qs=[t]:qs.push(t)}var Zh=N(null),Xr=null,as=null;function Fs(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function ls(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function La(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Vn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&ef(n,t,s,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Xr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Fg(Xr,t)}function ku(t,n){return Xr===null&&$r(t),Fg(t,n)}function Fg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return s}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mT=r.unstable_scheduleCallback,gT=r.unstable_NormalPriority,zt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new dT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&mT(gT,function(){t.controller.abort()})}var Wl=null,nf=0,Pa=0,ja=null;function pT(t,n){if(Wl===null){var s=Wl=[];nf=0,Pa=ad(),ja={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Qg,Qg),n}function Qg(){if(--nf===0&&Wl!==null){ja!==null&&(ja.status="fulfilled");var t=Wl;Wl=null,Pa=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Kg=G.S;G.S=function(t,n){Ny=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pT(t,n),Kg!==null&&Kg(t,n)};var Jr=N(null);function sf(){var t=Jr.current;return t!==null?t:mt.pooledCache}function Uu(t,n){n===null?ie(Jr,Jr.current):ie(Jr,n.pool)}function Yg(){var t=sf();return t===null?null:{parent:zt._currentValue,pool:t}}var za=Error(a(460)),rf=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(oi,oi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t}throw Wr=n,za}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Wr=s,za):s}}var Wr=null;function Jg(){if(Wr===null)throw Error(a(459));var t=Wr;return Wr=null,t}function Zg(t){if(t===za||t===Lu)throw Error(a(483))}var Ba=null,eo=0;function ju(t){var n=eo;return eo+=1,Ba===null&&(Ba=[]),$g(Ba,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wg(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ss(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Qh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function x(k,O,P,K){var he=P.type;return he===se?Q(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Zr(he)===O.type)?(O=h(O,P.props),to(O,P),O.return=k,O):(O=Ou(P.type,P.key,P.props,null,k.mode,K),to(O,P),O.return=k,O)}function j(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Kh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,K,he){return O===null||O.tag!==7?(O=Kr(P,k.mode,K,he),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Ou(O.type,O.key,O.props,null,k.mode,P),to(P,O),P.return=k,P;case W:return O=Kh(O,k.mode,P),O.return=k,O;case w:return O=Zr(O),X(k,O,P)}if(Le(O)||U(O))return O=Kr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,ju(O),P);if(O.$$typeof===ge)return X(k,ku(k,O),P);zu(k,O)}return null}function z(k,O,P,K){var he=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===he?x(k,O,P,K):null;case W:return P.key===he?j(k,O,P,K):null;case w:return P=Zr(P),z(k,O,P,K)}if(Le(P)||U(P))return he!==null?null:Q(k,O,P,K,null);if(typeof P.then=="function")return z(k,O,ju(P),K);if(P.$$typeof===ge)return z(k,O,ku(k,P),K);zu(k,P)}return null}function q(k,O,P,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?P:K.key)||null,x(O,k,K,he);case W:return k=k.get(K.key===null?P:K.key)||null,j(O,k,K,he);case w:return K=Zr(K),q(k,O,P,K,he)}if(Le(K)||U(K))return k=k.get(P)||null,Q(O,k,K,he,null);if(typeof K.then=="function")return q(k,O,P,ju(K),he);if(K.$$typeof===ge)return q(k,O,P,ku(O,K),he);zu(O,K)}return null}function le(k,O,P,K){for(var he=null,$e=null,oe=O,Oe=O=0,He=null;oe!==null&&Oe<P.length;Oe++){oe.index>Oe?(He=oe,oe=null):He=oe.sibling;var Je=z(k,oe,P[Oe],K);if(Je===null){oe===null&&(oe=He);break}t&&oe&&Je.alternate===null&&n(k,oe),O=f(Je,O,Oe),$e===null?he=Je:$e.sibling=Je,$e=Je,oe=He}if(Oe===P.length)return s(k,oe),Qe&&rs(k,Oe),he;if(oe===null){for(;Oe<P.length;Oe++)oe=X(k,P[Oe],K),oe!==null&&(O=f(oe,O,Oe),$e===null?he=oe:$e.sibling=oe,$e=oe);return Qe&&rs(k,Oe),he}for(oe=l(oe);Oe<P.length;Oe++)He=q(oe,k,Oe,P[Oe],K),He!==null&&(t&&He.alternate!==null&&oe.delete(He.key===null?Oe:He.key),O=f(He,O,Oe),$e===null?he=He:$e.sibling=He,$e=He);return t&&oe.forEach(function(ur){return n(k,ur)}),Qe&&rs(k,Oe),he}function me(k,O,P,K){if(P==null)throw Error(a(151));for(var he=null,$e=null,oe=O,Oe=O=0,He=null,Je=P.next();oe!==null&&!Je.done;Oe++,Je=P.next()){oe.index>Oe?(He=oe,oe=null):He=oe.sibling;var ur=z(k,oe,Je.value,K);if(ur===null){oe===null&&(oe=He);break}t&&oe&&ur.alternate===null&&n(k,oe),O=f(ur,O,Oe),$e===null?he=ur:$e.sibling=ur,$e=ur,oe=He}if(Je.done)return s(k,oe),Qe&&rs(k,Oe),he;if(oe===null){for(;!Je.done;Oe++,Je=P.next())Je=X(k,Je.value,K),Je!==null&&(O=f(Je,O,Oe),$e===null?he=Je:$e.sibling=Je,$e=Je);return Qe&&rs(k,Oe),he}for(oe=l(oe);!Je.done;Oe++,Je=P.next())Je=q(oe,k,Oe,Je.value,K),Je!==null&&(t&&Je.alternate!==null&&oe.delete(Je.key===null?Oe:Je.key),O=f(Je,O,Oe),$e===null?he=Je:$e.sibling=Je,$e=Je);return t&&oe.forEach(function(Ib){return n(k,Ib)}),Qe&&rs(k,Oe),he}function ft(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var he=P.key;O!==null;){if(O.key===he){if(he=P.type,he===se){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Zr(he)===O.type){s(k,O.sibling),K=h(O,P.props),to(K,P),K.return=k,k=K;break e}s(k,O);break}else n(k,O);O=O.sibling}P.type===se?(K=Kr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Ou(P.type,P.key,P.props,null,k.mode,K),to(K,P),K.return=k,k=K)}return p(k);case W:e:{for(he=P.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break e}else{s(k,O);break}else n(k,O);O=O.sibling}K=Kh(P,k.mode,K),K.return=k,k=K}return p(k);case w:return P=Zr(P),ft(k,O,P,K)}if(Le(P))return le(k,O,P,K);if(U(P)){if(he=U(P),typeof he!="function")throw Error(a(150));return P=he.call(P),me(k,O,P,K)}if(typeof P.then=="function")return ft(k,O,ju(P),K);if(P.$$typeof===ge)return ft(k,O,ku(k,P),K);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Qh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,O)}return function(k,O,P,K){try{eo=0;var he=ft(k,O,P,K);return Ba=null,he}catch(oe){if(oe===za||oe===Lu)throw oe;var $e=kn(29,oe,null,k.mode);return $e.lanes=K,$e.return=k,$e}}}var ea=Wg(!0),ep=Wg(!1),Qs=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Lg(t,null,s),n}return Nu(t,l,n,s),Du(t)}function no(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pe(t,s)}}function of(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function io(){if(uf){var t=ja;if(t!==null)throw t}}function so(t,n,s,l){uf=!1;var h=t.updateQueue;Qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,p===null?f=j:p.next=j,p=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;p=0,Q=j=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Be&z)===z:(l&z)===z){z!==0&&z===Pa&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,me=E;z=n;var ft=s;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){X=le.call(ft,X,z);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,z=typeof le=="function"?le.call(ft,X,z):le,z==null)break e;X=S({},X,z);break e;case 2:Qs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=q,x=X):Q=Q.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ws|=p,t.lanes=p,t.memoizedState=X}}function tp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function np(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)tp(s[t],n)}var Ha=N(null),Bu=N(0);function ip(t,n){t=ps,ie(Bu,t),ie(Ha,n),ps=t|n.baseLanes}function cf(){ie(Bu,ps),ie(Ha,Ha.current)}function hf(){ps=Bu.current,Y(Ha),Y(Bu)}var Un=N(null),Wn=null;function Xs(t){var n=t.alternate;ie(Ot,Ot.current&1),ie(Un,t),Wn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Wn=t)}function ff(t){ie(Ot,Ot.current),ie(Un,t),Wn===null&&(Wn=t)}function sp(t){t.tag===22?(ie(Ot,Ot.current),ie(Un,t),Wn===null&&(Wn=t)):$s()}function $s(){ie(Ot,Ot.current),ie(Un,Un.current)}function Ln(t){Y(Un),Wn===t&&(Wn=null),Y(Ot)}var Ot=N(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,De=null,ct=null,Bt=null,qu=!1,qa=!1,ta=!1,Gu=0,ro=0,Ga=null,_T=0;function wt(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Vn(t[s],n[s]))return!1;return!0}function mf(t,n,s,l,h,f){return os=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Bp:Cf,ta=!1,f=s(l,h),ta=!1,qa&&(f=ap(n,s,l,h)),rp(t),f}function rp(t){G.H=oo;var n=ct!==null&&ct.next!==null;if(os=0,Bt=ct=De=null,qu=!1,ro=0,Ga=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Vu(t)&&(Ht=!0))}function ap(t,n,s,l){De=t;var h=0;do{if(qa&&(Ga=null),ro=0,qa=!1,25<=h)throw Error(a(301));if(h+=1,Bt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Hp,f=n(s,l)}while(qa);return f}function vT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(De.flags|=1024),n}function gf(){var t=Gu!==0;return Gu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}os=0,Bt=ct=De=null,qa=!1,ro=Gu=0,Ga=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?De.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Mt(){if(ct===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Bt===null?De.memoizedState:Bt.next;if(n!==null)Bt=n,ct=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Bt===null?De.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Ga===null&&(Ga=[]),t=$g(Ga,t,n),n=De,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Bp:Cf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===ge)return sn(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=De.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),De.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function us(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Mt();return vf(n,ct,t)}function vf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,x=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Be&X)===X:(os&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Pa&&(Q=!0);else if((os&z)===z){j=j.next,z===Pa&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=X,p=f):x=x.next=X,De.lanes|=z,Ws|=z;X=j.action,ta&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,p=f):x=x.next=z,De.lanes|=X,Ws|=X;j=j.next}while(j!==null&&j!==n);if(x===null?p=f:x.next=E,!Vn(f,t.memoizedState)&&(Ht=!0,Q&&(s=ja,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=Mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Vn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function lp(t,n,s){var l=De,h=Mt(),f=Qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Vn((ct||h).memoizedState,s);if(p&&(h.memoizedState=s,Ht=!0),h=h.queue,Af(cp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},up.bind(null,l,h,s,n),null),mt===null)throw Error(a(349));f||(os&127)!==0||op(l,n,s)}return s}function op(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=De.updateQueue,n===null?(n=Fu(),De.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function up(t,n,s,l){n.value=s,n.getSnapshot=l,hp(n)&&fp(t)}function cp(t,n,s){return s(function(){hp(n)&&fp(t)})}function hp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Vn(t,s)}catch{return!0}}function fp(t){var n=Qr(t,2);n!==null&&xn(n,t,2)}function Tf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),ta){B(!0);try{s()}finally{B(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function dp(t,n,s,l){return t.baseState=s,vf(t,ct,typeof l=="function"?l:us)}function ET(t,n,s,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,mp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function mp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,l),x=G.S;x!==null&&x(p,E),gp(t,n,E)}catch(j){bf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),gp(t,n,f)}catch(j){bf(t,n,j)}}function gp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){pp(t,n,l)},function(l){return bf(t,n,l)}):pp(t,n,s)}function pp(t,n,s){n.status="fulfilled",n.value=s,yp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,mp(t,s)))}function bf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,yp(n),n=n.next;while(n!==l)}t.action=null}function yp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function vp(t,n){if(Qe){var s=mt.formState;if(s!==null){e:{var l=De;if(Qe){if(yt){t:{for(var h=yt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){yt=ei(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},s.queue=l,s=Pp.bind(null,De,l),l.dispatch=s,l=Tf(!1),f=If.bind(null,De,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=ET.bind(null,De,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Ep(t){var n=Mt();return Tp(n,ct,t)}function Tp(t,n,s){if(n=vf(t,n,_p)[0],t=Ku(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(p){throw p===za?Lu:p}else l=n;n=Mt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(De.flags|=2048,Fa(9,{destroy:void 0},TT.bind(null,h,s),null)),[l,f,t]}function TT(t,n){t.action=n}function bp(t){var n=Mt(),s=ct;if(s!==null)return Tp(n,s,t);Mt(),n=n.memoizedState,s=Mt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Fa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=Fu(),De.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Ap(){return Mt().memoizedState}function Yu(t,n,s,l){var h=_n();De.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Xu(t,n,s,l){var h=Mt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&df(l,ct.memoizedState.deps)?h.memoizedState=Fa(n,f,s,l):(De.flags|=t,h.memoizedState=Fa(1|n,f,s,l))}function Sp(t,n){Yu(8390656,8,t,n)}function Af(t,n){Xu(2048,8,t,n)}function bT(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Fu(),De.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function wp(t){var n=Mt().memoizedState;return bT({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rp(t,n){return Xu(4,2,t,n)}function xp(t,n){return Xu(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cp(t,n,s){s=s!=null?s.concat([t]):null,Xu(4,4,Ip.bind(null,n,t),s)}function Sf(){}function Np(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Dp(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),ta){B(!0);try{t()}finally{B(!1)}}return s.memoizedState=[l,n],l}function wf(t,n,s){return s===void 0||(os&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Oy(),De.lanes|=t,Ws|=t,s)}function Op(t,n,s,l){return Vn(s,n)?s:Ha.current!==null?(t=wf(t,s,l),Vn(t,n)||(Ht=!0),t):(os&42)===0||(os&1073741824)!==0&&(Be&261930)===0?(Ht=!0,t.memoizedState=s):(t=Oy(),De.lanes|=t,Ws|=t,n)}function Mp(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,If(t,!1,n,s);try{var x=h(),j=G.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=yT(x,l);lo(t,n,Q,zn(t))}else lo(t,n,l,zn(t))}catch(X){lo(t,n,{then:function(){},status:"rejected",reason:X},zn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function AT(){}function Rf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Vp(t).queue;Mp(t,h,n,ce,s===null?AT:function(){return kp(t),s(l)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},zn())}function xf(){return sn(wo)}function Up(){return Mt().memoizedState}function Lp(){return Mt().memoizedState}function ST(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=zn();t=Ks(s);var l=Ys(n,t,s);l!==null&&(xn(l,n,s),no(l,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function wT(t,n,s){var l=zn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?jp(n,s):(s=Gh(t,n,s,l),s!==null&&(xn(s,t,l),zp(s,n,l)))}function Pp(t,n,s){var l=zn();lo(t,n,s,l)}function lo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,p))return Nu(t,n,h,0),mt===null&&Cu(),!1}catch{}if(s=Gh(t,n,h,l),s!==null)return xn(s,t,l),zp(s,n,l),!0}return!1}function If(t,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Gh(t,s,l,2),n!==null&&xn(n,t,2)}function $u(t){var n=t.alternate;return t===De||n!==null&&n===De}function jp(t,n){qa=qu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function zp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pe(t,s)}}var oo={readContext:sn,use:Qu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};oo.useEffectEvent=wt;var Bp={readContext:sn,use:Qu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Sp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Yu(4194308,4,Ip.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var l=t();if(ta){B(!0);try{t()}finally{B(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_n();if(s!==void 0){var h=s(n);if(ta){B(!0);try{s(n)}finally{B(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wT.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Pp.bind(null,De,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=_n();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Mp.bind(null,De,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=De,h=_n();if(Qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),mt===null)throw Error(a(349));(Be&127)!==0||op(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Sp(cp.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},up.bind(null,l,f,s,n),null),s},useId:function(){var t=_n(),n=mt.identifierPrefix;if(Qe){var s=ki,l=Vi;s=(l&~(1<<32-J(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_T++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:vp,useActionState:vp,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,De,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return _n().memoizedState=ST.bind(null,De)},useEffectEvent:function(t){var n=_n(),s={impl:t};return n.memoizedState=s,function(){if((tt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:sn,use:Qu,useCallback:Np,useContext:sn,useEffect:Af,useImperativeHandle:Cp,useInsertionEffect:Rp,useLayoutEffect:xp,useMemo:Dp,useReducer:Ku,useRef:Ap,useState:function(){return Ku(us)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Mt();return Op(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ku(us)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:lp,useId:Up,useHostTransitionStatus:xf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var s=Mt();return dp(s,ct,t,n)},useMemoCache:_f,useCacheRefresh:Lp};Cf.useEffectEvent=wp;var Hp={readContext:sn,use:Qu,useCallback:Np,useContext:sn,useEffect:Af,useImperativeHandle:Cp,useInsertionEffect:Rp,useLayoutEffect:xp,useMemo:Dp,useReducer:Ef,useRef:Ap,useState:function(){return Ef(us)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Mt();return ct===null?wf(s,t,n):Op(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ef(us)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:lp,useId:Up,useHostTransitionStatus:xf,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var s=Mt();return ct!==null?dp(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Lp};Hp.useEffectEvent=wp;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Ks(l);h.payload=n,s!=null&&(h.callback=s),n=Ys(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Ks(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ys(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zn(),l=Ks(s);l.tag=2,n!=null&&(l.callback=n),n=Ys(t,l,s),n!==null&&(xn(n,t,s),no(n,t,s))}};function qp(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Yl(s,l)||!Yl(h,f):!0}function Gp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function na(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Fp(t){Iu(t)}function Qp(t){console.error(t)}function Kp(t){Iu(t)}function Ju(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Ks(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(t,n)},s}function Xp(t){return t=Ks(t),t.tag=3,t}function $p(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yp(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Yp(n,s,l),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&La(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return Wn===null?uc():s.alternate===null&&Rt===0&&(Rt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return s.flags|=65536,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(t,l,h)),!1}throw Error(a(435,s.tag))}return id(t,l,h),uc(),!1}if(Qe)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),Jl(Xn(t,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Jl(Xn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Xn(l,s),h=Of(t.stateNode,l,h),of(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(a(520),{cause:l});if(f=Xn(f,s),yo===null?yo=[f]:yo.push(f),Rt!==4&&(Rt=2),n===null)return!0;l=Xn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xp(h),$p(h,t,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ht=!1;function rn(t,n,s,l){n.child=t===null?ep(n,null,s,l):ea(n,t.child,s,l)}function Jp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return $r(n),l=mf(t,n,s,p,f,h),E=gf(),t!==null&&!Ht?(pf(t,n,h),cs(t,n,h)):(Qe&&E&&Yh(n),n.flags|=1,rn(t,n,l,h),n.child)}function Zp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Wp(t,n,f,l,h)):(t=Ou(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(p,l)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Vf(t,n,s,l,h)}function ey(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ip(n,f):cf(),sp(n);else return l=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Uu(n,f.cachePool),ip(n,f),$s(),n.memoizedState=null):(t!==null&&Uu(n,null),cf(),$s());return rn(t,n,h,s),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,s,l,h){var f=sf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Uu(n,null),cf(),sp(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,s){return ea(n,t.child,null,s),t=Zu(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function xT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,uo(null,t);if(ff(n),(t=yt)?(t=m_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,nn=n,yt=null)):t=null,t===null)throw Gs(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||La(t,n,s,!1),h=(s&t.childLanes)!==0,Ht||h){if(l=mt,l!==null&&(p=Ie(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Qr(t,p),xn(l,t,p),Mf;uc(),n=ny(t,n,s)}else t=f.treeContext,yt=ei(p.nextSibling),nn=n,Qe=!0,qs=null,Zn=!1,t!==null&&Hg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=ss(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,l,h){return $r(n),s=mf(t,n,s,l,void 0,h),l=gf(),t!==null&&!Ht?(pf(t,n,h),cs(t,n,h)):(Qe&&l&&Yh(n),n.flags|=1,rn(t,n,s,h),n.child)}function iy(t,n,s,l,h,f){return $r(n),n.updateQueue=null,s=ap(n,l,s,h),rp(t),l=gf(),t!==null&&!Ht?(pf(t,n,f),cs(t,n,f)):(Qe&&l&&Yh(n),n.flags|=1,rn(t,n,s,f),n.child)}function sy(t,n,s,l,h){if($r(n),n.stateNode===null){var f=Ma,p=s.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Ma,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=na(s,E);f.props=x;var j=f.context,Q=s.contextType;p=Ma,typeof Q=="object"&&Q!==null&&(p=sn(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Gp(n,f,l,p),Qs=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),j=n.memoizedState,E||z!==j||Qs?(typeof X=="function"&&(Nf(n,s,X,l),j=n.memoizedState),(x=Qs||qp(n,s,x,l,z,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),p=n.memoizedProps,Q=na(s,p),f.props=Q,X=n.pendingProps,z=f.context,j=s.contextType,x=Ma,typeof j=="object"&&j!==null&&(x=sn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==x)&&Gp(n,f,l,x),Qs=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var q=n.memoizedState;p!==X||z!==q||Qs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(Q=Qs||qp(n,s,Q,l,z,q,x)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ea(n,t.child,null,h),n.child=ea(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function ry(t,n,s,l){return Yr(),n.flags|=256,rn(t,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Yg()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jn),t}function ay(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?Xs(n):$s(),(t=yt)?(t=m_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,nn=n,yt=null)):t=null,t===null)throw Gs(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?($s(),h=n.mode,E=ec({mode:"hidden",children:E},h),l=Kr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,p,s),n.memoizedState=kf,uo(null,l)):(Xs(n),Pf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=jf(t,n,s)):n.memoizedState!==null?($s(),n.child=t.child,n.flags|=128,n=null):($s(),E=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),E=Kr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ea(n,t.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,p,s),n.memoizedState=kf,n=uo(null,l));else if(Xs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Jl({value:l,source:null,stack:null}),n=jf(t,n,s)}else if(Ht||La(t,n,s,!1),p=(s&t.childLanes)!==0,Ht||p){if(p=mt,p!==null&&(l=Ie(p,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,Qr(t,l),xn(p,t,l),Mf;_d(E)||uc(),n=jf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,yt=ei(E.nextSibling),nn=n,Qe=!0,qs=null,Zn=!1,t!==null&&Hg(n,t),n=Pf(n,l.children),n.flags|=4096);return n}return h?($s(),E=l.fallback,h=n.mode,x=t.child,j=x.sibling,l=ss(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=ss(j,E):(E=Kr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,uo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(x=zt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Yg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Lf(t,p,s),n.memoizedState=kf,uo(t.child,l)):(Xs(n),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Pf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function jf(t,n,s){return ea(n,t.child,null,s),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function oy(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ot.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(Ot,p),rn(t,n,l,s),l=Qe?$l:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,s,n);else if(t.tag===19)ly(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Hu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function cs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ws|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(La(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ss(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function IT(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),Fs(n,zt,t.memoizedState.cache),Yr();break;case 27:case 5:Ki(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ay(t,n,s):(Xs(n),t=cs(t,n,s),t!==null?t.sibling:null);Xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(La(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return oy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ot,Ot.current),l)break;return null;case 22:return n.lanes=0,ey(t,n,s,n.pendingProps);case 24:Fs(n,zt,t.memoizedState.cache)}return cs(t,n,s)}function uy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Ht=!1,IT(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,Qe&&(n.flags&1048576)!==0&&Bg(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=na(t,l),n.tag=1,n=sy(null,n,t,l,s)):(n.tag=0,n=Vf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===We){n.tag=11,n=Jp(null,n,t,l,s);break e}else if(h===C){n.tag=14,n=Zp(null,n,t,l,s);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=na(l,n.pendingProps),sy(t,n,l,h,s);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),so(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Fs(n,zt,l),l!==f.cache&&ef(n,[zt],s,!0),io(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,l,s);break e}else if(l!==h){h=Xn(Error(a(424)),n),Jl(h),n=ry(t,n,l,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ei(t.firstChild),nn=n,Qe=!0,qs=null,Zn=!0,s=ep(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Yr(),l===h){n=cs(t,n,s);break e}rn(t,n,l,s)}n=n.child}return n;case 26:return Wu(t,n),t===null?(s=E_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qe||(s=n.type,t=n.pendingProps,l=pc(Se.current).createElement(s),l[Lt]=n,l[Jt]=t,an(l,s,t),Pt(l),n.stateNode=l):n.memoizedState=E_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ki(n),t===null&&Qe&&(l=n.stateNode=y_(n.type,n.pendingProps,Se.current),nn=n,Zn=!0,h=yt,sr(n.type)?(Ed=h,yt=ei(l.firstChild)):yt=h),rn(t,n,n.pendingProps.children,s),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=l=yt)&&(l=sb(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,nn=n,yt=ei(l.firstChild),Zn=!1,h=!0):h=!1),h||Gs(n)),Ki(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:p!==null&&gd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,vT,null,null,s),wo._currentValue=h),Wu(t,n),rn(t,n,l,s),n.child;case 6:return t===null&&Qe&&((t=s=yt)&&(s=rb(s,n.pendingProps,Zn),s!==null?(n.stateNode=s,nn=n,yt=null,t=!0):t=!1),t||Gs(n)),null;case 13:return ay(t,n,s);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ea(n,null,l,s):rn(t,n,l,s),n.child;case 11:return Jp(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Fs(n,n.type,l.value),rn(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,$r(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,s),n.child;case 14:return Zp(t,n,n.type,n.pendingProps,s);case 15:return Wp(t,n,n.type,n.pendingProps,s);case 19:return oy(t,n,s);case 31:return xT(t,n,s);case 22:return ey(t,n,s,n.pendingProps);case 24:return $r(n),l=sn(zt),t===null?(h=sf(),h===null&&(h=mt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),Fs(n,zt,h)):((t.lanes&s)!==0&&(lf(t,n),so(n,null,null,s),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fs(n,zt,l)):(l=f.cache,Fs(n,zt,l),l!==h.cache&&ef(n,[zt],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Hf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Wr=Pu,rf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(n))if(Uy())t.flags|=8192;else throw Wr=Pu,rf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gn():536870912,t.lanes|=n,Xa|=n)}function co(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function CT(t,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return _t(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ls(zt),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),_t(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(_t(n),cy(n,f)):(_t(n),Hf(n,h,null,l,s))):f?f!==t.memoizedState?(hs(n),_t(n),cy(n,f)):(_t(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&hs(n),_t(n),Hf(n,h,t,l,s)),null;case 27:if(Yi(n),s=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _t(n),null}t=re.current,Ua(n)?qg(n):(t=y_(h,l,s),n.stateNode=t,hs(n))}return _t(n),null;case 5:if(Yi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _t(n),null}if(f=re.current,Ua(n))qg(n);else{var p=pc(Se.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Lt]=n,f[Jt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hs(n)}}return _t(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,Ua(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,s)),t||Gs(n,!0)}else t=pc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return _t(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(a(558))}return _t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),_t(n),null);case 4:return gt(),t===null&&cd(n.stateNode.containerInfo),_t(n),null;case 10:return ls(n.type),_t(n),null;case 19:if(Y(Ot),l=n.memoizedState,l===null)return _t(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Pg(s,t),s=s.sibling;return ie(Ot,Ot.current&1|2),Qe&&rs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Nt()>ac&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return _t(n),null}else 2*Nt()-l.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Nt(),t.sibling=null,s=Ot.current,ie(Ot,h?s&1|2:s&1),Qe&&rs(n,l.treeForkCount),t):(_t(n),null);case 22:case 23:return Ln(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Jr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ls(zt),_t(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(zt),gt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yi(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(a(340));Yr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Yr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ot),null;case 4:return gt(),null;case 10:return ls(n.type),null;case 22:case 23:return Ln(n),hf(),t!==null&&Y(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(zt),null;case 25:return null;default:return null}}function hy(t,n){switch(Xh(n),n.tag){case 3:ls(zt),gt();break;case 26:case 27:case 5:Yi(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:Y(Ot);break;case 10:ls(n.type);break;case 22:case 23:Ln(n),hf(),t!==null&&Y(Jr);break;case 24:ls(zt)}}function ho(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){lt(n,n.return,E)}}function Js(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=s,j=E;try{j()}catch(Q){lt(h,x,Q)}}}l=l.next}while(l!==f)}}catch(Q){lt(n,n.return,Q)}}function fy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{np(n,s)}catch(l){lt(t,t.return,l)}}}function dy(t,n,s){s.props=na(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){lt(t,n,l)}}function fo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){lt(t,n,h)}}function Ui(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){lt(t,n,h)}else s.current=null}function my(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){lt(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;ZT(l,t.type,s,n),l[Jt]=n}catch(h){lt(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&sr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function nc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(nc(t,n,s),t=t.sibling;t!==null;)nc(t,n,s),t=t.sibling}function py(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,l,s),n[Lt]=t,n[Jt]=s}catch(f){lt(t,t.return,f)}}var fs=!1,qt=!1,Qf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function DT(t,n){if(t=t.containerInfo,dd=Ac,t=Cg(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,x=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(x=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===s&&++j===h&&(E=p),z===f&&++Q===l&&(x=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},Ac=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=na(s.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){lt(s,s.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function _y(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s),l&4&&ho(5,s);break;case 1:if(ms(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(s,s.return,p)}else{var h=na(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(s,s.return,p)}}l&64&&fy(s),l&512&&fo(s,s.return);break;case 3:if(ms(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{np(t,n)}catch(p){lt(s,s.return,p)}}break;case 27:n===null&&l&4&&py(s);case 26:case 5:ms(t,s),n===null&&l&4&&my(s),l&512&&fo(s,s.return);break;case 12:ms(t,s);break;case 31:ms(t,s),l&4&&Ty(t,s);break;case 13:ms(t,s),l&4&&by(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zT.bind(null,s),ab(t,s))));break;case 22:if(l=s.memoizedState!==null||fs,!l){n=n!==null&&n.memoizedState!==null||qt,h=fs;var f=qt;fs=l,(qt=n)&&!f?gs(t,s,(s.subtreeFlags&8772)!==0):ms(t,s),fs=h,qt=f}break;case 30:break;default:ms(t,s)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,An=!1;function ds(t,n,s){for(s=s.child;s!==null;)Ey(t,n,s),s=s.sibling}function Ey(t,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Dn,s)}catch{}switch(s.tag){case 26:qt||Ui(s,n),ds(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||Ui(s,n);var l=Tt,h=An;sr(s.type)&&(Tt=s.stateNode,An=!1),ds(t,n,s),bo(s.stateNode),Tt=l,An=h;break;case 5:qt||Ui(s,n);case 6:if(l=Tt,h=An,Tt=null,ds(t,n,s),Tt=l,An=h,Tt!==null)if(An)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(s.stateNode)}catch(f){lt(s,n,f)}else try{Tt.removeChild(s.stateNode)}catch(f){lt(s,n,f)}break;case 18:Tt!==null&&(An?(t=Tt,f_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),il(t)):f_(Tt,s.stateNode));break;case 4:l=Tt,h=An,Tt=s.stateNode.containerInfo,An=!0,ds(t,n,s),Tt=l,An=h;break;case 0:case 11:case 14:case 15:Js(2,s,n),qt||Js(4,s,n),ds(t,n,s);break;case 1:qt||(Ui(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&dy(s,n,l)),ds(t,n,s);break;case 21:ds(t,n,s);break;case 22:qt=(l=qt)||s.memoizedState!==null,ds(t,n,s),qt=l;break;default:ds(t,n,s)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(s){lt(n,n.return,s)}}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(s){lt(n,n.return,s)}}function OT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var s=OT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=BT.bind(null,t,l);l.then(h,h)}})}function Sn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){Tt=E.stateNode,An=!1;break e}break;case 5:Tt=E.stateNode,An=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(Tt===null)throw Error(a(160));Ey(f,p,h),Tt=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var mi=null;function Ay(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),wn(t),l&4&&(Js(3,t,t.return),ho(3,t),Js(5,t,t.return));break;case 1:Sn(n,t),wn(t),l&512&&(qt||s===null||Ui(s,s.return)),l&64&&fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=mi;if(Sn(n,t),wn(t),l&512&&(qt||s===null||Ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,s),f[Lt]=t,Pt(f),l=f;break e;case"link":var p=A_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),an(f,l,s),h.head.appendChild(f);break;case"meta":if(p=A_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(l),an(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,Pt(f),l=f}t.stateNode=l}else S_(h,t.type,t.stateNode);else t.stateNode=b_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?S_(h,t.type,t.stateNode):b_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(n,t),wn(t),l&512&&(qt||s===null||Ui(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(n,t),wn(t),l&512&&(qt||s===null||Ui(s,s.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(le){lt(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(Sn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(le){lt(t,t.return,le)}}break;case 3:if(vc=null,h=mi,mi=yc(n.containerInfo),Sn(n,t),mi=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(le){lt(t,t.return,le)}Qf&&(Qf=!1,Sy(t));break;case 4:l=mi,mi=yc(t.stateNode.containerInfo),Sn(n,t),wn(t),mi=l;break;case 12:Sn(n,t),wn(t);break;case 31:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:Sn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=fs,Q=qt;if(fs=j||h,qt=Q||x,Sn(n,t),qt=Q,fs=j,wn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||fs||qt||ia(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){lt(x,x.return,le)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(le){lt(x,x.return,le)}}}else if(n.tag===18){if(s===null){x=n;try{var q=x.stateNode;h?d_(q,!0):d_(x.stateNode,!1)}catch(le){lt(x,x.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(t,s))));break;case 19:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(gy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);nc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(bn(p,""),s.flags&=-33);var E=Gf(t);nc(t,E,p);break;case 3:case 4:var x=s.stateNode.containerInfo,j=Gf(t);Ff(t,j,x);break;default:throw Error(a(161))}}catch(Q){lt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),ia(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&dy(n,n.return,s),ia(n);break;case 27:bo(n.stateNode);case 26:case 5:Ui(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}t=t.sibling}}function gs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,s),ho(4,f);break;case 1:if(gs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){lt(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)tp(x[h],E)}catch(j){lt(l,l.return,j)}}s&&p&64&&fy(f),fo(f,f.return);break;case 27:py(f);case 26:case 5:gs(h,f,s),s&&l===null&&p&4&&my(f),fo(f,f.return);break;case 12:gs(h,f,s);break;case 31:gs(h,f,s),s&&p&4&&Ty(h,f);break;case 13:gs(h,f,s),s&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&gs(h,f,s),fo(f,f.return);break;case 30:break;default:gs(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Zl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function gi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,s,l),n=n.sibling}function wy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,s,l),h&2048&&ho(9,n);break;case 1:gi(t,n,s,l);break;case 3:gi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){gi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){lt(n,n.return,x)}}else gi(t,n,s,l);break;case 31:gi(t,n,s,l);break;case 13:gi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,s,l):mo(t,n):f._visibility&2?gi(t,n,s,l):(f._visibility|=2,Qa(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:gi(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:gi(t,n,s,l)}}function Qa(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,x=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,E,x,h),ho(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Qa(f,p,E,x,h):mo(f,p):(Q._visibility|=2,Qa(f,p,E,x,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:Qa(f,p,E,x,h),h&&j&2048&&Yf(p.alternate,p);break;default:Qa(f,p,E,x,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:mo(s,l),h&2048&&Kf(l.alternate,l);break;case 24:mo(s,l),h&2048&&Yf(l.alternate,l);break;default:mo(s,l)}n=n.sibling}}var go=8192;function Ka(t,n,s){if(t.subtreeFlags&go)for(t=t.child;t!==null;)Ry(t,n,s),t=t.sibling}function Ry(t,n,s){switch(t.tag){case 26:Ka(t,n,s),t.flags&go&&t.memoizedState!==null&&_b(s,mi,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,n,s);break;case 3:case 4:var l=mi;mi=yc(t.stateNode.containerInfo),Ka(t,n,s),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=go,go=16777216,Ka(t,n,s),go=l):Ka(t,n,s));break;default:Ka(t,n,s)}}function xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function po(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Wt=l,Cy(l,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&Js(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):po(t);break;default:po(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Wt=l,Cy(l,t)}xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Js(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Cy(t,n){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:Js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Wt=l;else e:for(s=t;Wt!==null;){l=Wt;var h=l.sibling,f=l.return;if(vy(l),l===s){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var MT={getCacheForType:function(t){var n=sn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return sn(zt).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,je=null,Be=0,at=0,Pn=null,Zs=!1,Ya=!1,Xf=!1,ps=0,Rt=0,Ws=0,sa=0,$f=0,jn=0,Xa=0,yo=null,Rn=null,Jf=!1,rc=0,Ny=0,ac=1/0,lc=null,er=null,Yt=0,tr=null,$a=null,ys=0,Zf=0,Wf=null,Dy=null,_o=0,ed=null;function zn(){return(tt&2)!==0&&Be!==0?Be&-Be:G.T!==null?ad():ou()}function Oy(){if(jn===0)if((Be&536870912)===0||Qe){var t=Ce;Ce<<=1,(Ce&3932160)===0&&(Ce=262144),jn=t}else jn=536870912;return t=Un.current,t!==null&&(t.flags|=32),jn}function xn(t,n,s){(t===mt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),nr(t,Be,jn,!1)),Ut(t,s),((tt&2)===0||t!==mt)&&(t===mt&&((tt&2)===0&&(sa|=s),Rt===4&&nr(t,Be,jn,!1)),Li(t))}function My(t,n,s){if((tt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ot(t,n),h=l?LT(t,n):nd(t,n,!0),f=l;do{if(h===0){Ya&&!l&&nr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!kT(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=yo;var x=E.current.memoizedState.isDehydrated;if(x&&(Ja(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,sa|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,jn,!Zs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Nt(),10<h)){if(nr(l,n,jn,!Zs),we(l,0,!0)!==0)break e;ys=n,l.timeoutHandle=c_(Vy.bind(null,l,s,Rn,lc,Jf,n,jn,sa,Xa,Zs,f,"Throttled",-0,0),h);break e}Vy(l,s,Rn,lc,Jf,n,jn,sa,Xa,Zs,f,null,-0,0)}}break}while(!0);Li(t)}function Vy(t,n,s,l,h,f,p,E,x,j,Q,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Ry(n,f,X);var le=(f&62914560)===f?rc-Nt():(f&4194048)===f?Ny-Nt():0;if(le=vb(X,le),le!==null){ys=f,t.cancelPendingCommit=le(Hy.bind(null,t,n,f,s,l,h,p,E,x,Q,X,null,z,q)),nr(t,f,p,!j);return}}Hy(t,n,f,s,l,h,p,E,x)}function kT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,s,l){n&=~$f,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-J(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&Wi(t,s,n)}function oc(){return(tt&6)===0?(vo(0),!1):!0}function td(){if(je!==null){if(at===0)var t=je.return;else t=je,as=Xr=null,yf(t),Ba=null,eo=0,t=je;for(;t!==null;)hy(t.alternate,t),t=t.return;je=null}}function Ja(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ys=0,td(),mt=t,je=s=ss(t.current,null),Be=n,at=0,Pn=null,Zs=!1,Ya=ot(t,n),Xf=!1,Xa=jn=$f=sa=Ws=Rt=0,Rn=yo=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-J(l),f=1<<h;n|=t[h],l&=~f}return ps=n,Cu(),s}function ky(t,n){De=null,G.H=oo,n===za||n===Lu?(n=Jg(),at=3):n===rf?(n=Jg(),at=4):at=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,je===null&&(Rt=1,Ju(t,Xn(n,t.current)))}function Uy(){var t=Un.current;return t===null?!0:(Be&4194048)===Be?Wn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Wn:!1}function Ly(){var t=G.H;return G.H=oo,t===null?oo:t}function Py(){var t=G.A;return G.A=MT,t}function uc(){Rt=4,Zs||(Be&4194048)!==Be&&Un.current!==null||(Ya=!0),(Ws&134217727)===0&&(sa&134217727)===0||mt===null||nr(mt,Be,jn,!1)}function nd(t,n,s){var l=tt;tt|=2;var h=Ly(),f=Py();(mt!==t||Be!==n)&&(lc=null,Ja(t,n)),n=!1;var p=Rt;e:do try{if(at!==0&&je!==null){var E=je,x=Pn;switch(at){case 8:td(),p=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var j=at;if(at=0,Pn=null,Za(t,E,x,j),s&&Ya){p=0;break e}break;default:j=at,at=0,Pn=null,Za(t,E,x,j)}}UT(),p=Rt;break}catch(Q){ky(t,Q)}while(!0);return n&&t.shellSuspendCounter++,as=Xr=null,tt=l,G.H=h,G.A=f,je===null&&(mt=null,Be=0,Cu()),p}function UT(){for(;je!==null;)jy(je)}function LT(t,n){var s=tt;tt|=2;var l=Ly(),h=Py();mt!==t||Be!==n?(lc=null,ac=Nt()+500,Ja(t,n)):Ya=ot(t,n);e:do try{if(at!==0&&je!==null){n=je;var f=Pn;t:switch(at){case 1:at=0,Pn=null,Za(t,n,f,1);break;case 2:case 9:if(Xg(f)){at=0,Pn=null,zy(n);break}n=function(){at!==2&&at!==9||mt!==t||(at=7),Li(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Xg(f)?(at=0,Pn=null,zy(n)):(at=0,Pn=null,Za(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var E=je;if(p?w_(p):E.stateNode.complete){at=0,Pn=null;var x=E.sibling;if(x!==null)je=x;else{var j=E.return;j!==null?(je=j,cc(j)):je=null}break t}}at=0,Pn=null,Za(t,n,f,5);break;case 6:at=0,Pn=null,Za(t,n,f,6);break;case 8:td(),Rt=6;break e;default:throw Error(a(462))}}PT();break}catch(Q){ky(t,Q)}while(!0);return as=Xr=null,G.H=l,G.A=h,tt=s,je!==null?0:(mt=null,Be=0,Cu(),Rt)}function PT(){for(;je!==null&&!Nl();)jy(je)}function jy(t){var n=uy(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function zy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=iy(s,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=iy(s,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:yf(n);default:hy(s,n),n=je=Pg(n,ps),n=uy(s,n,ps)}t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function Za(t,n,s,l){as=Xr=null,yf(n),Ba=null,eo=0;var h=n.return;try{if(RT(t,h,n,s,Be)){Rt=1,Ju(t,Xn(s,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Rt=1,Ju(t,Xn(s,t.current)),je=null;return}n.flags&32768?(Qe||l===1?t=!0:Ya||(Be&536870912)!==0?t=!1:(Zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),By(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){By(n,Zs);return}t=n.return;var s=CT(n.alternate,n,ps);if(s!==null){je=s;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Rt===0&&(Rt=5)}function By(t,n){do{var s=NT(t.alternate,t);if(s!==null){s.flags&=32767,je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=s}while(t!==null);Rt=6,je=null}function Hy(t,n,s,l,h,f,p,E,x){t.cancelPendingCommit=null;do hc();while(Yt!==0);if((tt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vr(t,s,f,p,E,x),t===mt&&(je=mt=null,Be=0),$a=n,tr=t,ys=s,Zf=f,Wf=h,Dy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HT(Ei,function(){return Ky(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,p=tt,tt|=4;try{DT(t,n,s)}finally{tt=p,ne.p=h,G.T=l}}Yt=1,qy(),Gy(),Fy()}}function qy(){if(Yt===1){Yt=0;var t=tr,n=$a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=tt;tt|=4;try{Ay(n,t);var f=md,p=Cg(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ig(E.ownerDocument.documentElement,E)){if(x!==null&&Ph(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,me=Math.min(x.start,le),ft=x.end===void 0?me:Math.min(x.end,le);!q.extend&&me>ft&&(p=ft,ft=me,me=p);var k=xg(E,me),O=xg(E,ft);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),me>ft?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!dd,md=dd=null}finally{tt=h,ne.p=l,G.T=s}}t.current=n,Yt=2}}function Gy(){if(Yt===2){Yt=0;var t=tr,n=$a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=tt;tt|=4;try{_y(t,n.alternate,n)}finally{tt=h,ne.p=l,G.T=s}}Yt=3}}function Fy(){if(Yt===4||Yt===3){Yt=0,pa();var t=tr,n=$a,s=ys,l=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,$a=tr=null,Qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(er=null),es(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ys&3)!==0&&hc(),Li(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?_o++:(_o=0,ed=t):_o=0,vo(0)}}function Qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function hc(){return qy(),Gy(),Fy(),Ky()}function Ky(){if(Yt!==5)return!1;var t=tr,n=Zf;Zf=0;var s=es(ys),l=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=tr,p=ys;if(Yt=0,$a=tr=null,ys=0,(tt&6)!==0)throw Error(a(331));var E=tt;if(tt|=4,Iy(f.current),wy(f,f.current,p,s),tt=E,vo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Dn,f)}catch{}return!0}finally{ne.p=h,G.T=l,Qy(t,n)}}function Yy(t,n,s){n=Xn(s,n),n=Of(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(Ut(t,2),Li(t))}function lt(t,n,s){if(t.tag===3)Yy(t,t,s);else for(;n!==null;){if(n.tag===3){Yy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=Xn(s,t),s=Xp(2),l=Ys(n,s,2),l!==null&&($p(s,l,n,t),Ut(l,2),Li(l));break}}n=n.return}}function id(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=jT.bind(null,t,n,s),n.then(t,t))}function jT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(Be&s)===s&&(Rt===4||Rt===3&&(Be&62914560)===Be&&300>Nt()-rc?(tt&2)===0&&Ja(t,0):$f|=s,Xa===Be&&(Xa=0)),Li(t)}function Xy(t,n){n===0&&(n=gn()),t=Qr(t,n),t!==null&&(Ut(t,n),Li(t))}function zT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Xy(t,s)}function BT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xy(t,s)}function HT(t,n){return Ct(t,n)}var fc=null,Wa=null,sd=!1,dc=!1,rd=!1,ir=0;function Li(t){t!==Wa&&t.next===null&&(Wa===null?fc=Wa=t:Wa=Wa.next=t),dc=!0,sd||(sd=!0,GT())}function vo(t,n){if(!rd&&dc){rd=!0;do for(var s=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-J(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Wy(l,f))}else f=Be,f=we(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ot(l,f)||(s=!0,Wy(l,f));l=l.next}while(s);rd=!1}}function qT(){$y()}function $y(){dc=sd=!1;var t=0;ir!==0&&eb()&&(t=ir);for(var n=Nt(),s=null,l=fc;l!==null;){var h=l.next,f=Jy(l,n);f===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Wa=s)):(s=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Yt!==0&&Yt!==5||vo(t),ir!==0&&(ir=0)}function Jy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-J(f),E=1<<p,x=h[p];x===-1?((E&s)===0||(E&l)!==0)&&(h[p]=kt(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,s=Be,s=we(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ot(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&vi(l),es(s)){case 2:case 8:s=Or;break;case 32:s=Ei;break;case 268435456:s=En;break;default:s=Ei}return l=Zy.bind(null,t),s=Ct(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var l=Be;return l=we(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Jy(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?Zy.bind(null,t):null)}function Wy(t,n){if(hc())return null;My(t,n,!0)}function GT(){nb(function(){(tt&6)!==0?Ct(Dr,qT):$y()})}function ad(){if(ir===0){var t=Pa;t===0&&(t=Ke,Ke<<=1,(Ke&261888)===0&&(Ke=256)),ir=t}return ir}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function t_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function FT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=e_((h[Jt]||null).action),p=l.submitter;p&&(n=(n=p[Jt]||null)?e_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var x=p?t_(h,p):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?t_(h,p):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],QT=od.toLowerCase(),KT=od[0].toUpperCase()+od.slice(1);di(QT,"on"+KT)}di(Og,"onAnimationEnd"),di(Mg,"onAnimationIteration"),di(Vg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(uT,"onTransitionRun"),di(cT,"onTransitionStart"),di(hT,"onTransitionCancel"),di(kg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function n_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}else for(p=0;p<l.length;p++){if(E=l[p],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}}}}function ze(t,n){var s=n[_a];s===void 0&&(s=n[_a]=new Set);var l=t+"__bubble";s.has(l)||(i_(n,t,2,!1),s.add(l))}function ud(t,n,s){var l=0;n&&(l|=4),i_(s,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[mc]){t[mc]=!0,Dl.forEach(function(s){s!=="selectionchange"&&(YT.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,ud("selectionchange",!1,n))}}function i_(t,n,s,l){switch(O_(n)){case 2:var h=bb;break;case 8:h=Ab;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ai(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Ps(function(){var j=f,Q=Fn(s),X=[];e:{var z=Ug.get(t);if(z!==void 0){var q=Ni,le=t;switch(t){case"keypress":if(zr(s)===0)break e;case"keydown":case"keyup":q=wu;break;case"focusin":le="focus",q=Hr;break;case"focusout":le="blur",q=Hr;break;case"beforeblur":case"afterblur":q=Hr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Og:case Mg:case Vg:q=_u;break;case kg:q=T;break;case"scroll":case"scrollend":q=ql;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=Ne}var me=(n&4)!==0,ft=!me&&(t==="scroll"||t==="scrollend"),k=me?z!==null?z+"Capture":null:z;me=[];for(var O=j,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ui(O,k),K!=null&&me.push(To(O,K,P))),ft)break;O=O.return}0<me.length&&(z=new q(z,le,null,s,Q),X.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==zl&&(le=s.relatedTarget||s.fromElement)&&(Ai(le)||le[Ti]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=j,le=le?Ai(le):null,le!==null&&(ft=c(le),me=le.tag,le!==ft||me!==5&&me!==27&&me!==6)&&(le=null)):(q=null,le=j),q!==le)){if(me=Gl,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=is,K="onPointerLeave",k="onPointerEnter",O="pointer"),ft=q==null?z:On(q),P=le==null?z:On(le),z=new me(K,O+"leave",q,s,Q),z.target=ft,z.relatedTarget=P,K=null,Ai(Q)===j&&(me=new me(k,O+"enter",le,s,Q),me.target=P,me.relatedTarget=ft,K=me),ft=K,q&&le)t:{for(me=XT,k=q,O=le,P=0,K=k;K;K=me(K))P++;K=0;for(var he=O;he;he=me(he))K++;for(;0<P-K;)k=me(k),P--;for(;0<K-P;)O=me(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){me=k;break t}k=me(k),O=me(O)}me=null}else me=null;q!==null&&s_(X,z,q,me,!1),le!==null&&ft!==null&&s_(X,ft,le,me,!0)}}e:{if(z=j?On(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var $e=Tg;else if(vg(z))if(bg)$e=aT;else{$e=sT;var oe=iT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ba(j.elementType)&&($e=Tg):$e=rT;if($e&&($e=$e(t,j))){Eg(X,$e,s,Q);break e}oe&&oe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(oe=j?On(j):window,t){case"focusin":(vg(oe)||oe.contentEditable==="true")&&(Na=oe,jh=j,Xl=null);break;case"focusout":Xl=jh=Na=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ng(X,s,Q);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Ng(X,s,Q)}var Oe;if(et)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ca?qr(t,s)&&(He="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(Mi&&s.locale!=="ko"&&(Ca||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ca&&(Oe=Hl()):(Ci=Q,Bl="value"in Ci?Ci.value:Ci.textContent,Ca=!0)),oe=gc(j,He),0<oe.length&&(He=new Oi(He,t,null,s,Q),X.push({event:He,listeners:oe}),Oe?He.data=Oe:(Oe=Ia(s),Oe!==null&&(He.data=Oe)))),(Oe=Kn?WE(t,s):eT(t,s))&&(He=gc(j,"onBeforeInput"),0<He.length&&(oe=new Oi("onBeforeInput","beforeinput",null,s,Q),X.push({event:oe,listeners:He}),oe.data=Oe)),FT(X,t,j,s,Q)}n_(X,n)})}function To(t,n,s){return{instance:t,listener:n,currentTarget:s}}function gc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,s),h!=null&&l.unshift(To(t,h,f)),h=ui(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function XT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=ui(s,f),j!=null&&p.unshift(To(s,j,x))):h||(j=ui(s,f),j!=null&&p.push(To(s,j,x)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var $T=/\r\n?/g,JT=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(JT,"")}function a_(t,n){return n=r_(n),r_(t)===n}function ht(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,s,l);break;case"style":jl(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Aa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Aa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,Ea(t,s,l))}}function fd(t,n,s,l,h,f){switch(s){case"style":jl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Jt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ea(t,s,l)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),l&&ht(t,n,"src",s.src,s,null);return;case"input":ze("invalid",t);var E=f=p=h=null,x=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ht(t,n,l,Q,s,null)}}fu(t,f,E,x,j,p,h,!1);return;case"select":ze("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ht(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):s!=null&&Vs(t,!!l,s,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,s,null)}ks(t,l,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,x,l,s,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)ze(Eo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,j,l,s,null)}return;default:if(ba(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ht(t,n,E,l,s,null))}function ZT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,j=null,Q=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:l.hasOwnProperty(q)||ht(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=s[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ht(t,n,z,q,l,X)}}Ta(t,p,E,x,j,Q,f,h);return;case"select":q=p=E=z=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=s[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&ht(t,n,h,f,l,x)}n=E,s=p,l=q,z!=null?Vs(t,!!s,z,!1):!!l!=!!s&&(n!=null?Vs(t,!!s,n,!0):Vs(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,l,f)}du(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ht(t,n,le,null,l,z));for(x in l)z=l[x],q=s[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ht(t,n,x,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)z=s[me],s.hasOwnProperty(me)&&z!=null&&!l.hasOwnProperty(me)&&ht(t,n,me,null,l,z);for(j in l)if(z=l[j],q=s[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,j,z,l,q)}return;default:if(ba(n)){for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!==void 0&&!l.hasOwnProperty(ft)&&fd(t,n,ft,void 0,l,z);for(Q in l)z=l[Q],q=s[Q],!l.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||fd(t,n,Q,z,l,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ht(t,n,k,null,l,z);for(X in l)z=l[X],q=s[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||ht(t,n,X,z,l,q)}function l_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&l_(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var x=s[l],j=x.startTime;if(j>E)break;var Q=x.transferSize,X=x.initiatorType;Q&&l_(X)&&(x=x.responseEnd,p+=Q*(x<E?1:(E-j)/(x-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function eb(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(ib)}:c_;function ib(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function f_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),il(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")bo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,bo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[bi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&bo(t.ownerDocument.body);s=h}while(s);il(n)}function d_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),va(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function rb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ei(t.nextSibling),t===null))return null;return t}function m_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ab(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function g_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ei(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function p_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function y_(t,n,s){switch(n=pc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var ti=new Map,__=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=ne.d;ne.d={f:lb,r:ob,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:gb};function lb(){var t=_s.f(),n=oc();return t||n}function ob(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?kp(n):_s.r(t)}var el=typeof document>"u"?null:document;function v_(t,n,s){var l=el;if(l&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),__.has(h)||(__.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),an(n,"link",t),Pt(n),l.head.appendChild(n)))}}function ub(t){_s.D(t),v_("dns-prefetch",t,null)}function cb(t,n){_s.C(t,n),v_("preconnect",t,n)}function hb(t,n,s){_s.L(t,n,s);var l=el;if(l&&t&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(n){case"style":f=tl(t);break;case"script":f=nl(t)}ti.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ti.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ao(f))||n==="script"&&l.querySelector(So(f))||(n=l.createElement("link"),an(n,"link",t),Pt(n),l.head.appendChild(n)))}}function fb(t,n){_s.m(t,n);var s=el;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!ti.has(f)&&(t=S({rel:"modulepreload",href:t},n),ti.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(So(f)))return}l=s.createElement("link"),an(l,"link",t),Pt(l),s.head.appendChild(l)}}}function db(t,n,s){_s.S(t,n,s);var l=el;if(l&&t){var h=Si(l).hoistableStyles,f=tl(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Ao(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ti.get(f))&&Td(t,s);var x=p=l.createElement("link");Pt(x),an(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function mb(t,n){_s.X(t,n);var s=el;if(s&&t){var l=Si(s).hoistableScripts,h=nl(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0},n),(n=ti.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function gb(t,n){_s.M(t,n);var s=el;if(s&&t){var l=Si(s).hoistableScripts,h=nl(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function E_(t,n,s,l){var h=(h=Se.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=tl(s.href),s=Si(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=tl(s.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Ao(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ti.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ti.set(t,s),f||pb(h,t,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(s),s=Si(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function tl(t){return'href="'+Tn(t)+'"'}function Ao(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),an(n,"link",s),Pt(n),t.head.appendChild(n))}function nl(t){return'[src="'+Tn(t)+'"]'}function So(t){return"script[async]"+t}function b_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),an(l,"style",h),_c(l,s.precedence,t),n.instance=l;case"stylesheet":h=tl(s.href);var f=t.querySelector(Ao(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=T_(s),(h=ti.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",l),n.state.loading|=4,_c(f,s.precedence,t),n.instance=f;case"script":return f=nl(s.src),(h=t.querySelector(So(f)))?(n.instance=h,Pt(h),h):(l=s,(h=ti.get(f))&&(l=S({},s),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),an(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,s.precedence,t));return n.instance}function _c(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function A_(t,n,s){if(vc===null){var l=new Map,h=vc=new Map;h.set(s,l)}else h=vc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[bi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function S_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=tl(l.href),f=n.querySelector(Ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Pt(f);return}f=n.ownerDocument||n,l=T_(l),(h=ti.get(h))&&Td(l,h),f=f.createElement("link"),Pt(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ec.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function vb(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*WT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(Eb,t),Tc=null,Ec.call(t))}function Eb(t,n){if(!(n.state.loading&4)){var s=Tc.get(t);if(s)var l=s.get(null);else{s=new Map,Tc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Tb(t,n,s,l,h,f,p,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function R_(t,n,s,l,h,f,p,E,x,j,Q,X){return t=new Tb(t,n,s,p,x,j,Q,X,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),t}function x_(t){return t?(t=Ma,t):Ma}function I_(t,n,s,l,h,f){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ks(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ys(t,l,n),s!==null&&(xn(s,t,n),no(s,t,n))}function C_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){C_(t,n),(t=t.alternate)&&C_(t,n)}function N_(t){if(t.tag===13||t.tag===31){var n=Qr(t,67108864);n!==null&&xn(n,t,67108864),Sd(t,67108864)}}function D_(t){if(t.tag===13||t.tag===31){var n=zn();n=ri(n);var s=Qr(t,n);s!==null&&xn(s,t,n),Sd(t,n)}}var Ac=!0;function bb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function Ab(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function wd(t,n,s,l){if(Ac){var h=Rd(l);if(h===null)hd(t,n,l,Sc,s),M_(t,l);else if(wb(h,t,n,s,l))l.stopPropagation();else if(M_(t,l),n&4&&-1<Sb.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pt(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-J(p);E.entanglements[1]|=x,p&=~x}Li(f),(tt&6)===0&&(ac=Nt()+500,vo(0))}}break;case 31:case 13:E=Qr(f,2),E!==null&&xn(E,f,2),oc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(t,n,l,Sc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,s)}}function Rd(t){return t=Fn(t),xd(t)}var Sc=null;function xd(t){if(Sc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function O_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case Dr:return 2;case Or:return 8;case Ei:case ya:return 32;case En:return 268435456;default:return 32}default:return 32}}var Id=!1,rr=null,ar=null,lr=null,Ro=new Map,xo=new Map,or=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function Io(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&N_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function wb(t,n,s,l,h){switch(n){case"focusin":return rr=Io(rr,t,n,s,l,h),!0;case"dragenter":return ar=Io(ar,t,n,s,l,h),!0;case"mouseover":return lr=Io(lr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,xo.set(f,Io(xo.get(f)||null,t,n,s,l,h)),!0}return!1}function V_(t){var n=Ai(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ai(t.priority,function(){D_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,ai(t.priority,function(){D_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zl=l,s.target.dispatchEvent(l),zl=null}else return n=Gn(s),n!==null&&N_(n),t.blockedOn=s,!1;n.shift()}return!0}function k_(t,n,s){wc(t)&&s.delete(n)}function Rb(){Id=!1,rr!==null&&wc(rr)&&(rr=null),ar!==null&&wc(ar)&&(ar=null),lr!==null&&wc(lr)&&(lr=null),Ro.forEach(k_),xo.forEach(k_)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var xc=null;function U_(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var f=Gn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function il(t){function n(x){return Rc(x,t)}rr!==null&&Rc(rr,t),ar!==null&&Rc(ar,t),lr!==null&&Rc(lr,t),Ro.forEach(n),xo.forEach(n);for(var s=0;s<or.length;s++){var l=or[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(s=or[0],s.blockedOn===null);)V_(s),s.blockedOn===null&&or.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Jt]||null;if(typeof f=="function")p||U_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Jt]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),U_(s)}}}function L_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Ic.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=zn();I_(s,l,t,n,null,null)},Ic.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I_(t.current,2,null,t,null,null),oc(),n[Ti]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<or.length&&n!==0&&n<or[s].priority;s++);or.splice(s,0,t),s===0&&V_(t)}};var P_=e.version;if(P_!=="19.2.3")throw Error(a(527,P_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Dn=Cc.inject(xb),Kt=Cc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Fp,f=Qp,p=Kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R_(t,1,!1,null,null,s,l,null,h,f,p,L_),t[Ti]=n.current,cd(t),new Cd(n)},No.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Fp,p=Qp,E=Kp,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=R_(t,1,!0,n,s??null,l,h,x,f,p,E,L_),n.context=x_(null),s=n.current,l=zn(),l=ri(l),h=Ks(l),h.callback=null,Ys(s,h,l),s=l,n.current.lanes=s,Ut(n,s),Li(n),t[Ti]=n.current,cd(t),new Ic(n)},No.version="19.2.3",No}var Y_;function Lb(){if(Y_)return Od.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Ub(),Od.exports}var Pb=Lb();const jb=()=>{};var X_={};const Rv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},zb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],y=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,y=d?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[A],i[S],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new Bb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hb=function(r){const e=Rv(r);return xv.encodeByteArray(e,!0)},Yc=function(r){return Hb(r).replace(/\./g,"")},Iv=function(r){try{return xv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gb=()=>qb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iv(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return jb()||Gb()||Fb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>mh()?.emulatorHosts?.[r],Kb=r=>{const e=Cv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Nv=()=>mh()?.config,Dv=r=>mh()?.[`_${r}`];class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(r){return(await fetch(r,{credentials:"include"})).ok}function Xb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const ko={};function $b(){const r={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?r.emulator.push(e):r.prod.push(e);return r}function Jb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let $_=!1;function Mv(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||ko[r]===e||ko[r]||$_)return;ko[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=$b().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$_=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Jb(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),fe=i("preprendIcon"),Ae=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;y(ge),A(ee,se);const We=_();g(Ae,fe),ge.append(Ae,W,ee,We),document.body.appendChild(ge)}c?(W.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Wb(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sA(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const lA="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=lA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?oA(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,y,a)}}function oA(r,e){return r.replace(uA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const uA=/\{\$([^}]+)}/g;function cA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Tr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(J_(c)&&J_(d)){if(!Tr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function J_(r){return r!==null&&typeof r=="object"}function $o(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function hA(r,e){const i=new fA(r,e);return i.subscribe.bind(i)}class fA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function vn(r){return r&&r._delegate?r._delegate:r}class ua{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class mA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(r){return r===ra?void 0:r}function pA(r){return r.instantiationMode==="EAGER"}class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const _A={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},vA=qe.INFO,EA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},TA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=EA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=vA,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const bA=(r,e)=>e.some(i=>r instanceof i);let Z_,W_;function AA(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Wd=new WeakMap,kv=new WeakMap,Ld=new WeakMap,Nm=new WeakMap;function wA(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(pr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,r)}).catch(()=>{}),Nm.set(e,r),e}function RA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xA(r){em=r(em)}function IA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return kv.set(a,e.sort?e.sort():[e]),pr(a)}:SA().includes(r)?function(...e){return r.apply(Pd(this),e),pr(Vv.get(this))}:function(...e){return pr(r.apply(Pd(this),e))}}function CA(r){return typeof r=="function"?IA(r):(r instanceof IDBTransaction&&RA(r),bA(r,AA())?new Proxy(r,em):r)}function pr(r){if(r instanceof IDBRequest)return wA(r);if(Ld.has(r))return Ld.get(r);const e=CA(r);return e!==r&&(Ld.set(r,e),Nm.set(e,r)),e}const Pd=r=>Nm.get(r);function NA(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),y=pr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(pr(d.result),g.oldVersion,g.newVersion,pr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const DA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],jd=new Map;function e0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=OA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||DA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&g.done]))[0]};return jd.set(e,c),c}xA(r=>({...r,get:(e,i,a)=>e0(e,i)||r.get(e,i,a),has:(e,i)=>!!e0(e,i)||r.has(e,i)}));class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",t0="0.14.6";const As=new Cm("@firebase/app"),kA="@firebase/app-compat",UA="@firebase/analytics-compat",LA="@firebase/analytics",PA="@firebase/app-check-compat",jA="@firebase/app-check",zA="@firebase/auth",BA="@firebase/auth-compat",HA="@firebase/database",qA="@firebase/data-connect",GA="@firebase/database-compat",FA="@firebase/functions",QA="@firebase/functions-compat",KA="@firebase/installations",YA="@firebase/installations-compat",XA="@firebase/messaging",$A="@firebase/messaging-compat",JA="@firebase/performance",ZA="@firebase/performance-compat",WA="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",iS="@firebase/firestore",sS="@firebase/ai",rS="@firebase/firestore-compat",aS="firebase",lS="12.6.0";const nm="[DEFAULT]",oS={[tm]:"fire-core",[kA]:"fire-core-compat",[LA]:"fire-analytics",[UA]:"fire-analytics-compat",[jA]:"fire-app-check",[PA]:"fire-app-check-compat",[zA]:"fire-auth",[BA]:"fire-auth-compat",[HA]:"fire-rtdb",[qA]:"fire-data-connect",[GA]:"fire-rtdb-compat",[FA]:"fire-fn",[QA]:"fire-fn-compat",[KA]:"fire-iid",[YA]:"fire-iid-compat",[XA]:"fire-fcm",[$A]:"fire-fcm-compat",[JA]:"fire-perf",[ZA]:"fire-perf-compat",[WA]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[iS]:"fire-fst",[rS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[aS]:"fire-js-all"};const Xc=new Map,uS=new Map,im=new Map;function n0(r,e){try{r.container.addComponent(e)}catch(i){As.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function gl(r){const e=r.name;if(im.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())n0(i,r);for(const i of uS.values())n0(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r==null?!1:r.settings!==void 0}const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Xo("app","Firebase",cS);class hS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Sl=lS;function Uv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(i||(i=Nv()),!i)throw yr.create("no-options");const c=Xc.get(o);if(c){if(Tr(i,c.options)&&Tr(a,c.config))return c;throw yr.create("duplicate-app",{appName:o})}const d=new yA(o);for(const g of im.values())d.addComponent(g);const y=new hS(i,a,d);return Xc.set(o,y),y}function Lv(r=nm){const e=Xc.get(r);if(!e&&r===nm&&Nv())return Uv();if(!e)throw yr.create("no-app",{appName:r});return e}function _r(r,e,i){let a=oS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}gl(new ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const fS="firebase-heartbeat-database",dS=1,Bo="firebase-heartbeat-store";let zd=null;function Pv(){return zd||(zd=NA(fS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw yr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function mS(r){try{const i=(await Pv()).transaction(Bo),a=await i.objectStore(Bo).get(jv(r));return await i.done,a}catch(e){if(e instanceof Cs)As.warn(e.message);else{const i=yr.create("idb-get",{originalErrorMessage:e?.message});As.warn(i.message)}}}async function i0(r,e){try{const a=(await Pv()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,jv(r)),await a.done}catch(i){if(i instanceof Cs)As.warn(i.message);else{const a=yr.create("idb-set",{originalErrorMessage:i?.message});As.warn(a.message)}}}function jv(r){return`${r.name}!${r.options.appId}`}const gS=1024,pS=30;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pS){const o=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:i,unsentEntries:a}=_S(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function _S(r,e=gS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),r0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function ES(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function TS(r){gl(new ua("platform-logger",e=>new MA(e),"PRIVATE")),gl(new ua("heartbeat",e=>new yS(e),"PRIVATE")),_r(tm,t0,r),_r(tm,t0,"esm2020"),_r("fire-js","")}TS("");var bS="firebase",AS="12.7.0";_r(bS,AS,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=zv,Bv=new Xo("auth","Firebase",zv());const $c=new Cm("@firebase/auth");function wS(r,...e){$c.logLevel<=qe.WARN&&$c.warn(`Auth (${Sl}): ${r}`,...e)}function Pc(r,...e){$c.logLevel<=qe.ERROR&&$c.error(`Auth (${Sl}): ${r}`,...e)}function Ss(r,...e){throw Om(r,...e)}function ji(r,...e){return Om(r,...e)}function Hv(r,e,i){const a={...SS(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:r.name})}function bs(r){return Hv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Bv.create(r,...e)}function Ee(r,e,...i){if(!r)throw Om(e,...i)}function Es(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pc(e),new Error(e)}function ws(r,e){r||Es(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function RS(){return a0()==="http:"||a0()==="https:"}function a0(){return typeof self<"u"&&self.location?.protocol||null}function xS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||tA()||"connection"in navigator)?navigator.onLine:!0}function IS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=Zb()||nA()}get(){return xS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){ws(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new Jo(3e4,6e4);function Zo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wl(r,e,i,a,o={}){return Gv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=$o({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...c};return eA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Fv(r,r.config.apiHost,i,y),_)})}async function Gv(r,e,i){r._canInitEmulator=!1;const a={...CS,...e};try{const o=new OS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hv(r,A,_);Ss(r,A)}}catch(o){if(o instanceof Cs)throw o;Ss(r,"network-request-failed",{message:String(o)})}}async function Vm(r,e,i,a,o={}){const c=await wl(r,e,i,a,o);return"mfaPendingCredential"in c&&Ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return NS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),DS.get())})}}function Nc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ji(r,e,a);return o.customData._tokenResponse=i,o}async function MS(r,e){return wl(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return wl(r,"POST","/v1/accounts:lookup",e)}function Uo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const i=vn(r),a=await i.getIdToken(e),o=km(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Uo(Bd(o.auth_time)),issuedAtTime:Uo(Bd(o.iat)),expirationTime:Uo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iv(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l0(r){const e=km(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Cs&&kS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function kS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const e=r.auth,i=await r.getIdToken(),a=await Ho(r,Jc(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Qv(o.providerUserInfo):[],d=PS(r.providerData,c),y=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,_=y?g:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function LS(r){const e=vn(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PS(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Qv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function jS(r,e){const i=await Gv(r,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Fv(r,o,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(g.credentials="include"),qv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zS(r,e){return wl(r,"POST","/v2/accounts:revokeToken",Zo(r,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=l0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await jS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Es("not implemented")}}function cr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return VS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Ho(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:se}=i;Ee(S&&se,e,"internal-error");const ee=cl.fromJSON(this.name,se);Ee(typeof S=="string",e,"internal-error"),cr(a,e.name),cr(o,e.name),Ee(typeof M=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),cr(c,e.name),cr(d,e.name),cr(y,e.name),cr(g,e.name),cr(_,e.name),cr(A,e.name);const fe=new pi({uid:S,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(fe.providerData=W.map(Ae=>({...Ae}))),g&&(fe._redirectEventId=g),fe}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new pi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new cl;y.updateFromIdToken(a);const g=new pi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const o0=new Map;function Ts(r){ws(r instanceof Function,"Expected a class definition");let e=o0.get(r);return e?(ws(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o0.set(r,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const u0=Kv;function jc(r,e,i){return`firebase:${r}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?pi._fromGetAccountInfoResponse(this.auth,i,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(Ts(u0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Ts(u0);const d=jc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await Jc(e,{idToken:A}).catch(()=>{});if(!M)break;S=await pi._fromGetAccountInfoResponse(e,M,A)}else S=pi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new hl(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new hl(c,e,a))}}function c0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wv(e))return"Blackberry";if(e1(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Zv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(r=mn()){return/firefox\//i.test(r)}function Xv(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(r=mn()){return/crios\//i.test(r)}function Jv(r=mn()){return/iemobile/i.test(r)}function Zv(r=mn()){return/android/i.test(r)}function Wv(r=mn()){return/blackberry/i.test(r)}function e1(r=mn()){return/webos/i.test(r)}function Um(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BS(r=mn()){return Um(r)&&!!window.navigator?.standalone}function HS(){return iA()&&document.documentMode===10}function t1(r=mn()){return Um(r)||Zv(r)||e1(r)||Wv(r)||/windows phone/i.test(r)||Jv(r)}function n1(r,e=[]){let i;switch(r){case"Browser":i=c0(mn());break;case"Worker":i=`${c0(mn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class qS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function GS(r,e={}){return wl(r,"GET","/v2/passwordPolicy",Zo(r,e))}const FS=6;class QS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class KS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new qS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await pi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(bs(this));const i=e?vn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),i=new QS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ts(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(r){return vn(r)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YS(r){Lm=r}function XS(r){return Lm.loadJS(r)}function $S(){return Lm.gapiScript}function JS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZS(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Tr(c,e??{}))return o;Ss(o,"already-initialized")}return i.initialize({options:e})}function WS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ts);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function e2(r,e,i){const a=Wo(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=i1(e),{host:d,port:y}=t2(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Tr(_,a.config.emulator)&&Tr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(Ov(`${c}//${d}${g}`),Mv("Auth",!0)):n2()}function i1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function t2(r){const e=i1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:f0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f0(d)}}}function f0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function n2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class s1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,i){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function fl(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",Zo(r,e))}const i2="http://localhost";class ca extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ca(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class r1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends r1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr extends eu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";class fr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ca._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return fr.credential(i,a)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class dr extends eu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends eu{constructor(){super("twitter.com")}static credential(e,i){return ca._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function s2(r,e){return Vm(r,"POST","/v1/accounts:signUp",Zo(r,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await pi._fromIdTokenResponse(e,a,o),d=d0(a);return new Rs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=d0(a);return new Rs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function r2(r){if(ii(r.app))return Promise.reject(bs(r));const e=Wo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await s2(e,{returnSecureToken:!0}),a=await Rs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Cs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function a1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function a2(r,e,i=!1){const a=await Ho(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Rs._forOperation(r,"link",a)}async function l2(r,e,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(bs(a));const o="reauthenticate";try{const c=await Ho(r,a1(a,o,e,r),i);Ee(c.idToken,a,"internal-error");const d=km(c.idToken);Ee(d,a,"internal-error");const{sub:y}=d;return Ee(r.uid===y,a,"user-mismatch"),Rs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),c}}async function o2(r,e,i=!1){if(ii(r.app))return Promise.reject(bs(r));const a="signIn",o=await a1(r,a,e),c=await Rs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function u2(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",Zo(r,e))}async function c2(r,e){if(ii(r.app))return Promise.reject(bs(r));const i=Wo(r),a=await u2(i,{token:e,returnSecureToken:!0}),o=await Rs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function h2(r,e,i,a){return vn(r).onIdTokenChanged(e,i,a)}function f2(r,e,i){return vn(r).beforeAuthStateChanged(e,i)}function d2(r,e,i,a){return vn(r).onAuthStateChanged(e,i,a)}const eh="__sak";class l1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m2=1e3,g2=10;class o1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);HS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,g2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const p2=o1;class u1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}u1.type="SESSION";const c1=u1;function y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await y2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Pm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class _2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Pm("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function v2(r){zi().location.href=r}function h1(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function E2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){return navigator?.serviceWorker?.controller||null}function b2(){return h1()?self:null}const f1="firebaseLocalStorageDb",A2=1,th="firebaseLocalStorage",d1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function S2(){const r=indexedDB.deleteDatabase(f1);return new tu(r).toPromise()}function am(){const r=indexedDB.open(f1,A2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:d1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await S2(),e(await am()))})})}async function m0(r,e,i){const a=ph(r,!0).put({[d1]:e,value:i});return new tu(a).toPromise()}async function w2(r,e){const i=ph(r,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function g0(r,e){const i=ph(r,!0).delete(e);return new tu(i).toPromise()}const R2=800,x2=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>x2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(b2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await m0(e,eh,"1"),await g0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>w2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const I2=m1;new Jo(3e4,6e4);function C2(r,e){return e?Ts(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends s1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function N2(r){return o2(r.auth,new jm(r),r.bypassAuthState)}function D2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),l2(i,new jm(r),r.bypassAuthState)}async function O2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),a2(i,new jm(r),r.bypassAuthState)}class g1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Ss(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M2=new Jo(2e3,1e4);class ol extends g1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}ol.currentPopupAction=null;const V2="pendingRedirect",zc=new Map;class k2 extends g1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(r,e){const i=j2(e),a=P2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function L2(r,e){zc.set(r._key(),e)}function P2(r){return Ts(r._redirectPersistence)}function j2(r){return jc(V2,r.config.apiKey,r.name)}async function z2(r,e,i=!1){if(ii(r.app))return Promise.reject(bs(r));const a=Wo(r),o=C2(a,e),d=await new k2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const B2=600*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!p1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function p1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(r);default:return!1}}async function G2(r,e={}){return wl(r,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function K2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G2(r);for(const i of e)try{if(Y2(i))return}catch{}Ss(r,"unauthorized-domain")}function Y2(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Q2.test(i))return!1;if(F2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const X2=new Jo(3e4,6e4);function y0(){const r=zi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $2(r){return new Promise((e,i)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(ji(r,"network-request-failed"))},timeout:X2.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const o=JS("iframefcb");return zi()[o]=()=>{gapi.load?a():i(ji(r,"network-request-failed"))},XS(`${$S()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function J2(r){return Bc=Bc||$2(r),Bc}const Z2=new Jo(5e3,15e3),W2="__/auth/iframe",ew="emulator/auth/iframe",tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iw(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,ew):`https://${r.config.authDomain}/${W2}`,a={apiKey:e.apiKey,appName:r.name,v:Sl},o=nw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function sw(r){const e=await J2(r),i=zi().gapi;return Ee(i,r,"internal-error"),e.open({where:document.body,url:iw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),y=zi().setTimeout(()=>{c(d)},Z2.get());function g(){zi().clearTimeout(y),o(a)}a.ping(g).then(g,()=>{c(d)})}))}const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aw=500,lw=600,ow="_blank",uw="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cw(r,e,i,a=aw,o=lw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...rw,width:a.toString(),height:o.toString(),top:c,left:d},_=mn().toLowerCase();i&&(y=$v(_)?ow:i),Yv(_)&&(e=e||uw,g.scrollbars="yes");const A=Object.entries(g).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(BS(_)&&y!=="_self")return hw(e||"",y),new _0(null);const S=window.open(e||"",y,A);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new _0(S)}function hw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const fw="__/auth/handler",dw="emulator/auth/handler",mw=encodeURIComponent("fac");async function v0(r,e,i,a,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof r1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",cA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof eu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const g=await r._getAppCheckToken(),_=g?`#${mw}=${encodeURIComponent(g)}`:"";return`${gw(r)}?${$o(y).slice(1)}${_}`}function gw({config:r}){return r.emulator?Mm(r,dw):`https://${r.authDomain}/${fw}`}const Hd="webStorageSupport";class pw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=z2,this._overrideRedirectResult=L2}async _openPopup(e,i,a,o){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(e,i,a,sm(),o);return cw(e,c,Pm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await v0(e,i,a,sm(),o);return v2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ws(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await sw(e),a=new H2(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=K2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return t1()||Xv()||Um()}}const yw=pw;var E0="@firebase/auth",T0="1.12.0";class _w{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(r){gl(new ua("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(r)},_=new KS(a,o,c,g);return WS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),gl(new ua("auth-internal",e=>{const i=Wo(e.getProvider("auth").getImmediate());return(a=>new _w(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(E0,T0,vw(r)),_r(E0,T0,"esm2020")}const Tw=300,bw=Dv("authIdTokenMaxAge")||Tw;let b0=null;const Aw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bw)return;const o=i?.token;b0!==o&&(b0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sw(r=Lv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ZS(r,{popupRedirectResolver:yw,persistence:[I2,p2,c1]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Aw(c.toString());f2(i,d,()=>d(i.currentUser)),h2(i,y=>d(y))}}const o=Cv("auth");return o&&e2(i,`http://${o}`),i}function ww(){return document.getElementsByTagName("head")?.[0]??document}YS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=ji("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",ww().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,y1;(function(){var r;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,U){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],R;R=w+(U^I&(D^U))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^U&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^U)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~U))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<w;)if(V[D++]=C[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==w||(I[D]=U,V=!1)}this.g=I}var y={};function g(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=S;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var S=g(0),M=g(1),F=g(16777216);r=d.prototype,r.m=function(){if(se(this))return-ee(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(se(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const D=We(I,w).g;I=fe(I,D.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,W(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}r.l=function(C){return C=fe(this,C),se(C)?-1:W(C)?0:1};function ee(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}r.abs=function(){return se(this)?ee(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function fe(C,w){return C.add(ee(w))}r.j=function(C){if(W(this)||W(C))return S;if(se(this))return se(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(se(C))return ee(this.j(ee(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,st=C.i(D)>>>16,Le=C.i(D)&65535;I[2*V+2*D]+=R*Le,Ae(I,2*V+2*D),I[2*V+2*D+1]+=U*Le,Ae(I,2*V+2*D+1),I[2*V+2*D+1]+=R*st,Ae(I,2*V+2*D+1),I[2*V+2*D+2]+=U*st,Ae(I,2*V+2*D+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Ae(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ge(C,w){this.g=C,this.h=w}function We(C,w){if(W(w))throw Error("division by zero");if(W(C))return new ge(S,S);if(se(C))return w=We(ee(C),w),new ge(ee(w.g),ee(w.h));if(se(w))return w=We(C,ee(w)),new ge(ee(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(C)<=0;)I=Ue(I),V=Ue(V);var D=Me(I,1),U=Me(V,1);for(V=Me(V,2),I=Me(I,2);!W(V);){var R=U.add(V);R.l(C)<=0&&(D=D.add(I),U=R),V=Me(V,1),I=Me(I,1)}return w=fe(C,D.j(w)),new ge(D,w)}for(D=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(w);se(R)||R.l(C)>0;)I-=V,U=_(I),R=U.j(w);W(U)&&(U=M),D=D.add(U),C=fe(C,R)}return new ge(D,C)}r.B=function(C){return We(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Ue(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Me(C,w){const I=w>>5;w%=32;const V=C.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=w>0?C.i(U+I)>>>w|C.i(U+I+1)<<32-w:C.i(U+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,y1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,vr=d}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _1,Do,v1,Hc,lm,E1,T1,b1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,H){for(var te=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)te[Ne-2]=arguments[Ne];return m.prototype[L].apply(T,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=L[te]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=ge.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new se(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Me=!1,C=new Ae,w=()=>{const u=Promise.resolve(void 0);Ue=()=>{u.then(I)}};function I(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,D),st.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=Se(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,H,!!T,L),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,T){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),It={};function gt(u,m,v,T,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)gt(u,m[H],v,T,L);return null}return v=Nr(v),u&&u[Le]?u.J(m,v,y(T)?!!T.capture:!1,L):Ki(u,m,v,!1,T,L)}function Ki(u,m,v,T,L,H){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let Ne=$i(u);if(Ne||(u[ke]=Ne=new re(u)),v=Ne.add(m,v,T,te,H),v.proxy)return v;if(T=Yi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Nn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yi(){function u(v){return m.call(u.src,u.listener,v)}const m=Xi;return u}function Ns(u,m,v,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ns(u,m[H],v,T,L);else T=y(T)?!!T.capture:!!T,v=Nr(v),u&&u[Le]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Se(m,v,T,L),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=$i(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,T,L)),(v=u>-1?m[u]:null)&&Ds(v))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Nn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=$i(m))?(ye(v,u),v.h==0&&(v.src=null,m[ke]=null)):ce(u)}}}function Nn(u){return u in It?It[u]:It[u]="on"+u}function Xi(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ds(u),u=v.call(T,m)}return u}function $i(u){return u=u[ke],u instanceof re?u:null}var Ji="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nr(u){return typeof u=="function"?u:(u[Ji]||(u[Ji]=function(m){return u.handleEvent(m)}),u[Ji])}function St(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(St,V),St.prototype[Le]=!0,St.prototype.removeEventListener=function(u,m,v,T){Ns(this,u,m,v,T)};function Ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),ie(m,L)}L=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],L=vi(H,T,!0,m)&&L;if(H=m.g=u,L=vi(H,T,!0,m)&&L,L=vi(H,T,!1,m)&&L,v)for(te=0;te<v.length;te++)H=m.g=v[te],L=vi(H,T,!1,m)&&L}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},St.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function vi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Ne=te.listener,Dt=te.ha||te.src;te.fa&&ye(u.i,te),L=Ne.call(Dt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Nl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pa(u){u.g=Nl(()=>{u.g=null,u.i&&(u.i=!1,pa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(u){V.call(this),this.h=u,this.g={}}S(Zi,V);var Dr=[];function Or(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ds(m)},u),u.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),Or(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,ya=d.JSON.parse,En=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Os(){}function Mr(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}S(Kt,D);function B(){D.call(this,"c")}S(B,D);var J={},ve=null;function pe(){return ve=ve||new St}J.Ia="serverreachability";function dt(u){D.call(this,J.Ia,u)}S(dt,D);function Ke(u){const m=pe();Ct(m,new dt(m))}J.STAT_EVENT="statevent";function Ce(u,m){D.call(this,J.STAT_EVENT,u),this.stat=m}S(Ce,D);function Te(u){const m=pe();Ct(m,new Ce(m,u))}J.Ja="timingevent";function pt(u,m){D.call(this,J.Ja,u),this.size=m}S(pt,D);function we(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ot(){this.g=!0}ot.prototype.ua=function(){this.g=!1};function kt(u,m,v,T,L,H){u.info(function(){if(u.g)if(H){var te="",Ne=H.split("&");for(let et=0;et<Ne.length;et++){var Dt=Ne[et].split("=");if(Dt.length>1){const Et=Dt[0];Dt=Dt[1];const Kn=Et.split("_");te=Kn.length>=2&&Kn[1]=="type"?te+(Et+"="+Dt+"&"):te+(Et+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function gn(u,m,v,T,L,H,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+te})}function pn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(u,v)+(T?" "+T:"")})}function Ut(u,m){u.info(function(){return"TIMEOUT: "+m})}ot.prototype.info=function(){};function Vr(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Ei(H)}catch{return m}}var Wi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ie;function ri(){}S(ri,Os),ri.prototype.g=function(){return new XMLHttpRequest},Ie=new ri;function es(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Lt={},Jt={};function Ti(u,m,v){u.M=1,u.A=kr(jt(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),bi(u),u.B=jt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ba(v.i,"t",T),u.C=0,v=u.j.L,u.h=new li,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Nt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Dr[0]=L.toString()),L=Dr);for(let H=0;H<L.length;H++){const te=gt(v,L[H],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ke(),kt(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ci(this.g),Dt=this.g.ya(),et=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ne!=4||Dt==7||(Dt==8||et<=0?Ke(3):Ke(2)),Ai(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,gn(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)pn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Te(12),On(this),Gn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=cu(this,v),Et==Jt){Ne==4&&(this.m=4,Te(14),u=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Lt){this.m=4,Te(15),pn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pn(this.i,this.l,Et,null),Si(this,Et);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)pn(this.i,this.l,v,"[Invalid Chunked Response]"),On(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(te),te.P=!0,Te(11))}}else pn(this.i,this.l,v,null),Si(this,v);Ne==4&&On(this),this.o&&!this.K&&(Ne==4?vu(this.j,this):(this.o=!1,bi(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),On(this),Gn(this)}}}catch{}};function kh(u){if(!uu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Jt:(v=Number(m.substring(v,T)),isNaN(v)?Lt:(T+=1,T+v>m.length?Jt:(m=m.slice(T,T+v),u.C=T+v,m)))}ai.prototype.cancel=function(){this.K=!0,On(this)};function bi(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=we(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(Ke(),Te(17)),On(this),this.m=2,Gn(this)):va(this,this.T-u)};function Gn(u){u.j.I==0||u.K||vu(u.j,u)}function On(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Or(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),zs(v);else break e;Hr(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=we(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&xa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let et=L[m];const Et=et[0];if(!(Et<=v.K))if(v.K=Et,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Kn=et[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Mi=et[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const hi=et[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fi=u.g;if(fi){const qr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var H=T.h;H.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ml(H,H.h),H.h=null))}if(T.G){const Ia=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(T.wa=Ia,rt(T.J,T.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=bu(T,T.L?T.ba:null,T.W),te.L){Vl(T.h,te);var Ne=te,Dt=T.O;Dt&&(Ne.H=Dt),Ne.D&&(Ai(Ne),bi(Ne)),T.g=te}else yu(T);v.i.length>0&&Di(v)}else et[0]!="stop"&&et[0]!="close"||Oi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Oi(v,7):ql(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}Ke(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,H=null;T>=0?(L=u[v].substring(0,T),H=u[v].substring(T+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,Ul(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Ms(this,m[4]),this.h=xi(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,Ta,!0),"@"),u.push(es(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Ll:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,du)),u.join("")},Mn.prototype.resolve=function(u){const m=jt(this);let v=!!u.j;v?Zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let te=0;te<L.length;){const Ne=L[te++];Ne=="."?T&&te==L.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&te==L.length&&H.push("")):(H.push(Ne),T=!0)}T=H.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ul(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function jt(u){return new Mn(u)}function Zt(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof ks?(u.i=m,Aa(u.i,u.l)):(v||(m=Ur(m,Vs)),u.i=new ks(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function kr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,fu=/[#\?:]/g,Ll=/[#\?]/g,Vs=/[#\?@]/g,du=/#/g;function ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ks.prototype,r.add=function(u,m){bn(this),this.i=null,u=Us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){bn(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pl(u,m){return bn(u),m=Us(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function jl(u,m){bn(u);let v=[];if(typeof m=="string")Pl(u,m)&&(v=v.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bn(this),this.i=null,u=Us(this,u),Pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Us(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=es(v);v=jl(this,v);for(let H=0;H<v.length;H++){let te=L;v[H]!==""&&(te+="="+es(v[H])),u.push(te)}}return this.i=u.join("&")};function gu(u){const m=new ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(mu(this,T),ba(this,L,v))},u)),u.j=m}function oi(u,m){const v=new ot;if(d.Image){const T=new Image;T.onload=A(Fn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Fn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Fn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Fn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function zl(u,m){const v=new ot,T=new AbortController,L=setTimeout(()=>{T.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ls(){this.g=new En}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ii,Os),Ii.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Lr,St),r=Lr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ps(this):ui(this),this.readyState==3&&Sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},r.Na=function(u){this.g&&(this.response=u,Ps(this))},r.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Qn(v),typeof u=="string"?v!=null&&es(v):rt(u,m,v))}function ut(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,St);var Ci=/^https?$/i,Bl=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ie.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){jr(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){jr(this,H)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),ts(u)}function Hl(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),ts(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},r.Xa=function(){zr(this)};function zr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),ci(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let te=String(u.D).match(hu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ci.test(te?te.toLowerCase():"")}v=T}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Hl(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ya(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=ou(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Xe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function js(u){this.za=0,this.i=[],this.j=new ot,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new Ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=js.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),Di(this)};function ql(u){if(wa(u),u.I==3){var m=u.V++,v=jt(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),Br(u,v),m=new ai(u,u.j,m),m.M=2,m.A=kr(jt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Tu(u)}function zs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function wa(u){zs(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ue||w(),Me||(Ue(),Me=!0),C.add(m,u),u.D=0}}function Ra(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=we(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let H=this.o;if(this.U&&(H?(H=N(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,L,m),v=jt(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Br(this,v),H&&(this.R?m="headers="+es(Qn(H))+"&"+m:this.u&&Pr(v,this.u,H)),Ml(this.h,L),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const T=jt(u.J);rt(T,"SID",u.M),rt(T,"RID",v),rt(T,"AID",u.K),Br(u,T),u.u&&u.o&&Pr(T,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),Ti(v,T,m)}function Br(u,m){u.H&&Ve(u.H,function(v,T){rt(m,T,v)}),u.l&&Ve({},function(v,T){rt(m,T,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const Dt=["count="+v];Ne==-1?v>0?(Ne=L[0].g,Dt.push("ofs="+Ne)):Ne=0:Dt.push("ofs="+Ne);let et=!0;for(let Et=0;Et<v;Et++){var H=L[Et].g;const Kn=L[Et].map;if(H-=Ne,H<0)Ne=Math.max(0,L[Et].g-100),et=!1;else try{H="req"+H+"_"||"";try{var te=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Mi,hi]of te){let fi=hi;y(hi)&&(fi=Ei(hi)),Dt.push(H+Mi+"="+encodeURIComponent(fi))}}catch(Mi){throw Dt.push(H+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(Kn)}}if(et){te=Dt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ue||w(),Me||(Ue(),Me=!0),C.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=we(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=we(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),zs(this),_u(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=jt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Br(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(jt(m)),v.u=null,v.R=!0,_a(v,u)}r.Va=function(){this.C!=null&&(this.C=null,zs(this),Hr(this),Te(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){xa(u),Fl(u),u.g=null;var T=2}else if(Ri(u.h,m))v=m.G,Vl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=pe(),Ct(T,new pt(T,v)),Di(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ra(u,m)||T==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),kr(T),L?oi(T.toString(),v):zl(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),Tu(u),wa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof Mn?jt(v):new Mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new Mn(null);T&&Zt(H,T),m&&(H.g=m),L&&Ms(H,L),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&rt(T,v,m),rt(T,"VER",u.ka),Br(u,T),T}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ii({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){St.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}S(yn,St),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ql(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ei(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Di(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,yn.Z.N.call(this)};function wu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,Kt);function Ru(){B.call(this),this.status=1}S(Ru,B);function is(u){this.g=u}S(is,Su),is.prototype.ra=function(){Ct(this.g,"a")},is.prototype.qa=function(u){Ct(this.g,new wu(u))},is.prototype.pa=function(u){Ct(this.g,new Ru)},is.prototype.oa=function(){Ct(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,b1=function(){return new Bs},T1=function(){return pe()},E1=J,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Hc=Wi,Pe.COMPLETE="complete",v1=Pe,Mr.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",St.prototype.listen=St.prototype.J,Do=Mr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,_1=ut}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",w0="4.9.3";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Rl="12.7.0";const ha=new Cm("@firebase/firestore");function sl(){return ha.logLevel}function ae(r,...e){if(ha.logLevel<=qe.DEBUG){const i=e.map(zm);ha.debug(`Firestore (${Rl}): ${r}`,...i)}}function xs(r,...e){if(ha.logLevel<=qe.ERROR){const i=e.map(zm);ha.error(`Firestore (${Rl}): ${r}`,...i)}}function pl(r,...e){if(ha.logLevel<=qe.WARN){const i=e.map(zm);ha.warn(`Firestore (${Rl}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _e(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,A1(r,a,i)}function A1(r,e,i){let a=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xs(a),new Error(a)}function it(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||A1(e,o,a)}function xe(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class S1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class xw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Iw{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},y=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it(typeof a.accessToken=="string",31837,{l:a}),new S1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Cw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Cw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ow(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ow(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ge(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?Ge(o,c):qd(o)?1:-1}return Ge(r.length,e.length)}const Mw=55296,Vw=57343;function qd(r){const e=r.charCodeAt(0);return e>=Mw&&e<=Vw}function yl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const x0="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class bt extends Pi{construct(e,i,a){return new bt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new bt(i)}static emptyPath(){return new bt([])}}const kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Pi{construct(e,i,a){return new on(e,i,a)}static isValidIdentifier(e){return kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new on([x0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(bt.fromString(e))}static fromName(e){return new de(bt.fromString(e).popFirst(5))}static empty(){return new de(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return bt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new bt(e.slice()))}}function Uw(r,e,i){if(!i)throw new ue(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lw(r,e,i,a){if(e===!0&&a===!0)throw new ue(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function I0(r){if(!de.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(r);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ft(r,e){const i={typeString:r};return e&&(i.value=e),i}function nu(r,e){if(!w1(r))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(Z.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,N0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*N0);return new vt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new vt(0,0))}static max(){return new be(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function Pw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new vt(i+1,0):new vt(i,a));return new br(o,de.empty(),e)}function jw(r){return new br(r.readTime,r.key,qo)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(be.min(),de.empty(),qo)}static max(){return new br(be.max(),de.empty(),qo)}}function zw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:Ge(r.largestBatchId,e.largestBatchId))}const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Bw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(g=>a(g)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function qw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Il(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const qm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function Gw(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const R1="";function Fw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=D0(e)),e=Qw(r.get(i),e);return D0(e)}function Qw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case R1:i+="";break;default:i+=c}}return i}function D0(r){return r+R1+""}function O0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ir(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function x1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new ln(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new qn([])}unionWith(e){let i=new $t(on.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(r){if(it(!!r,39018),typeof r=="string"){let e=0;const i=Kw.exec(r);if(it(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(r.seconds),nanos:Vt(r.nanos)}}function Vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sr(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const C1="server_timestamp",N1="__type__",D1="__previous_value__",O1="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[N1]?.stringValue===C1}function vh(r){const e=r.mapValue.fields[D1];return Gm(e)?vh(e):e}function Go(r){const e=Ar(r.mapValue.fields[O1].timestampValue);return new vt(e.seconds,e.nanos)}class Yw{constructor(e,i,a,o,c,d,y,g,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Fo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}const M1="__type__",Xw="__max__",Mc={mapValue:{}},V1="__vector__",sh="value";function wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:Jw(r)?9007199254740991:$w(r)?10:11:_e(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const i=wr(r);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Go(r).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ar(o.timestampValue),y=Ar(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Sr(o.bytesValue).isEqual(Sr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),y=Vt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return yl(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(O0(d)!==O0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Fi(d[g],y[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function Qo(r,e){return(r.values||[]).find((i=>Fi(i,e)))!==void 0}function _l(r,e){if(r===e)return 0;const i=wr(r),a=wr(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Vt(c.integerValue||c.doubleValue),g=Vt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return V0(r.timestampValue,e.timestampValue);case 4:return V0(Go(r),Go(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Sr(c),g=Sr(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const A=Ge(y[_],g[_]);if(A!==0)return A}return Ge(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(Vt(c.latitude),Vt(d.latitude));return y!==0?y:Ge(Vt(c.longitude),Vt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return k0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[sh]?.arrayValue,A=g[sh]?.arrayValue,S=Ge(_?.values?.length||0,A?.values?.length||0);return S!==0?S:k0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const M=om(g[S],A[S]);if(M!==0)return M;const F=_l(y[g[S]],_[A[S]]);if(F!==0)return F}return Ge(g.length,A.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function V0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const i=Ar(r),a=Ar(e),o=Ge(i.seconds,a.seconds);return o!==0?o:Ge(i.nanos,a.nanos)}function k0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=_l(i[o],a[o]);if(c)return c}return Ge(i.length,a.length)}function vl(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function qc(r){switch(wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+qc(d)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function U0(r){return!!r&&"nullValue"in r}function L0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function $w(r){return(r?.mapValue?.fields||{})[M1]?.stringValue===V1}function Lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ir(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(r.arrayValue.values[i]);return e}return{...r}}function Jw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=on.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Lo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Cn(Lo(this.value))}}function k1(r){const e=[];return Ir(r.fields,((i,a)=>{const o=new on([i]);if(Gc(a)){const c=k1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class dn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),Cn.empty(),0)}static newFoundDocument(e,i,a,o){return new dn(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new dn(e,2,i,be.min(),be.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,be.min(),be.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function P0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=de.comparator(de.fromName(d.referenceValue),i.key):a=_l(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class U1{}class Xt extends U1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new eR(e,i,a):i==="array-contains"?new iR(e,a):i==="in"?new sR(e,a):i==="not-in"?new rR(e,a):i==="array-contains-any"?new aR(e,a):new Xt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tR(e,a):new nR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_l(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(_l(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends U1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return L1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L1(r){return r.op==="and"}function P1(r){return Ww(r)&&L1(r)}function Ww(r){for(const e of r.filters)if(e instanceof Qi)return!1;return!0}function hm(r){if(r instanceof Xt)return r.field.canonicalString()+r.op.toString()+vl(r.value);if(P1(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function j1(r,e){return r instanceof Xt?(function(a,o){return o instanceof Xt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(r,e):r instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&j1(d,o.filters[y])),!0):!1})(r,e):void _e(19439)}function z1(r){return r instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${vl(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(z1).join(" ,")+"}"})(r):"Filter"}class eR extends Xt{constructor(e,i,a){super(e,i,a),this.key=de.fromName(a.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class tR extends Xt{constructor(e,i){super(e,"in",i),this.keys=B1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nR extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=B1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function B1(r,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class iR extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Qo(i.arrayValue,this.value)}}class sR extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class rR extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class aR extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class lR{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function z0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new lR(r,e,i,a,o,c,d)}function Qm(r){const e=xe(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>vl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>vl(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!j1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j0(r.startAt,e.startAt)&&j0(r.endAt,e.endAt)}function fm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,e,i,a,o,c,d,y){return new Eh(r,e,i,a,o,c,d,y)}function Th(r){return new Eh(r)}function B0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uR(r){return r.collectionGroup!==null}function Po(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new $t(on.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(on.keyField().canonicalString())||e.Ie.push(new ah(on.keyField(),a))}return e.Ie}function Bi(r){const e=xe(r);return e.Ee||(e.Ee=cR(e,Po(r))),e.Ee}function cR(r,e){if(r.limitType==="F")return z0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return z0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Km(Bi(r),Bi(e))&&r.limitType===e.limitType}function H1(r){return`${Qm(Bi(r))}|lt:${r.limitType}`}function rl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>z1(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>vl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>vl(o))).join(",")),`Target(${a})`})(Bi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):de.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,g){const _=P0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,y,g){const _=P0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Po(a),o))})(r,e)}function hR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q1(r){return(e,i)=>{let a=!1;for(const o of Po(r)){const c=fR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function fR(r,e,i){const a=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?_l(g,_):_e(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:r.dir})}}class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}const dR=new At(de.comparator);function Is(){return dR}const G1=new At(de.comparator);function Oo(...r){let e=G1;for(const i of r)e=e.insert(i.key,i);return e}function F1(r){let e=G1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function la(){return jo()}function Q1(){return jo()}function jo(){return new ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mR=new At(de.comparator),gR=new $t(de.comparator);function Fe(...r){let e=gR;for(const i of r)e=e.add(i);return e}const pR=new $t(Ge);function yR(){return pR}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function K1(r){return{integerValue:""+r}}function _R(r,e){return Gw(e)?K1(e):Ym(r,e)}class Sh{constructor(){this._=void 0}}function vR(r,e,i){return r instanceof lh?(function(o,c){const d={fields:{[N1]:{stringValue:C1},[O1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gm(c)&&(c=vh(c)),c&&(d.fields[D1]=c),{mapValue:d}})(i,e):r instanceof El?X1(r,e):r instanceof Ko?$1(r,e):(function(o,c){const d=Y1(o,c),y=H0(d)+H0(o.Ae);return cm(d)&&cm(o.Ae)?K1(y):Ym(o.serializer,y)})(r,e)}function ER(r,e,i){return r instanceof El?X1(r,e):r instanceof Ko?$1(r,e):i}function Y1(r,e){return r instanceof oh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends Sh{}class El extends Sh{constructor(e){super(),this.elements=e}}function X1(r,e){const i=J1(e);for(const a of r.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ko extends Sh{constructor(e){super(),this.elements=e}}function $1(r,e){let i=J1(e);for(const a of r.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function H0(r){return Vt(r.integerValue||r.doubleValue)}function J1(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TR{constructor(e,i){this.field=e,this.transform=i}}function bR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof El&&o instanceof El||a instanceof Ko&&o instanceof Ko?yl(a.elements,o.elements,Fi):a instanceof oh&&o instanceof oh?Fi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,e.transform)}class AR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function Z1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xm(r.key,_i.none()):new iu(r.key,r.data,_i.none());{const i=r.data,a=Cn.empty();let o=new $t(on.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(r.key,a,new qn(o.toArray()),_i.none())}}function SR(r,e,i){r instanceof iu?(function(o,c,d){const y=o.value.clone(),g=G0(o.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Cr?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=G0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(W1(o)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zo(r,e,i,a){return r instanceof iu?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=c.value.clone(),A=F0(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Cr?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=F0(c.fieldTransforms,g,d),A=d.data;return A.setAll(W1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function wR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Y1(a.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,c))}return i||null}function q0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yl(a,o,((c,d)=>bR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function W1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function G0(r,e,i){const a=new Map;it(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,ER(d,y,i[o]))}return a}function F0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,vR(c,d,e))}return a}class Xm extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&SR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Q1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const g=Z1(d,y);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((i,a)=>q0(i,a)))&&yl(this.baseMutations,e.baseMutations,((i,a)=>q0(i,a)))}}class $m{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){it(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return mR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new $m(e,i,a,o)}}class IR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Ye;function NR(r){switch(r){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function eE(r){if(r===void 0)return xs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Gt.OK:return Z.OK;case Gt.CANCELLED:return Z.CANCELLED;case Gt.UNKNOWN:return Z.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return Z.INTERNAL;case Gt.UNAVAILABLE:return Z.UNAVAILABLE;case Gt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Gt.NOT_FOUND:return Z.NOT_FOUND;case Gt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Gt.ABORTED:return Z.ABORTED;case Gt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Gt.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:r})}}(Ye=Gt||(Gt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function DR(){return new TextEncoder}const OR=new vr([4294967295,4294967295],0);function Q0(r){const e=DR().encode(r),i=new y1;return i.update(e),new Uint8Array(i.digest())}function K0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vr([i,a],0),new vr([o,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(vr.fromNumber(a)));return o.compare(OR)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Q0(e),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Q0(e),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(be.min(),o,new At(Ge),Is(),Fe())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,Fe(),Fe(),Fe())}}class Qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class tE{constructor(e,i){this.targetId=e,this.Ce=i}}class nE{constructor(e,i,a=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Vc(),this.He=Vc(),this.Ye=new At(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new de(c.path);this.et(i,d,dn.newNoDocument(d,be.min()))}else it(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(g){if(g instanceof I1)return pl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Jm(d,o,c)}catch(g){return pl(g instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const g=new de(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Fe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ye,this.je,a);return this.je=Is(),this.Je=Vc(),this.He=Vc(),this.Ye=new At(Ge),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new At(de.comparator)}function X0(){return new At(de.comparator)}const VR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class LR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PR(r,e){return uh(r,e.toTimestamp())}function Hi(r){return it(!!r,49232),be.fromTimestamp((function(i){const a=Ar(i);return new vt(a.seconds,a.nanos)})(r))}function Zm(r,e){return gm(r,e).canonicalString()}function gm(r,e){const i=(function(o){return new bt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function sE(r){const e=bt.fromString(r);return it(uE(e),10190,{key:e.toString()}),e}function pm(r,e){return Zm(r.databaseId,e.path)}function Gd(r,e){const i=sE(e);if(i.get(1)!==r.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(aE(i))}function rE(r,e){return Zm(r.databaseId,e)}function jR(r){const e=sE(r);return e.length===4?bt.emptyPath():aE(e)}function ym(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aE(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $0(r,e,i){return{name:pm(r,e),fields:i.value.mapValue.fields}}function zR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:eE(_.code);return new ue(A,_.message||"")})(d);i=new nE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):be.min(),y=new Cn({mapValue:{fields:a.document.fields}}),g=dn.newFoundDocument(o,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?Hi(a.readTime):be.min(),d=dn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new CR(o,c),y=a.targetId;i=new tE(y,d)}}return i}function BR(r,e){let i;if(e instanceof iu)i={update:$0(r,e.key,e.value)};else if(e instanceof Xm)i={delete:pm(r,e.key)};else if(e instanceof Cr)i={update:$0(r,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof RR))return _e(16599,{Vt:e.type});i={verify:pm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:PR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(r,e.precondition)),i}function HR(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Hi(o.updateTime):Hi(c);return d.isEqual(be.min())&&(d=Hi(c)),new AR(d,o.transformResults||[])})(i,e)))):[]}function qR(r,e){return{documents:[rE(r,e.path)]}}function GR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rE(r,o);const c=(function(_){if(_.length!==0)return oE(Qi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:al(M.field),direction:KR(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function FR(r){let e=jR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){it(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=lE(S);return M instanceof Qi&&P1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new ah(ll(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(S){const M=!!S.before,F=S.values||[];return new rh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new rh(F,M)})(i.endAt)),oR(e,o,d,c,y,"F",g,_)}function QR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return Xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ll(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ll(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Xt.create(ll(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>lE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(r):_e(30097,{filter:r})}function KR(r){return VR[r]}function YR(r){return kR[r]}function XR(r){return UR[r]}function al(r){return{fieldPath:r.canonicalString()}}function ll(r){return on.fromServerFormat(r.fieldPath)}function oE(r){return r instanceof Xt?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(i.field),op:YR(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const a=i.getFilters().map((o=>oE(o)));return a.length===1?a[0]:{compositeFilter:{op:XR(i.op),filters:a}}})(r):_e(54877,{filter:r})}function $R(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function uE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class gr{constructor(e,i,a,o,c=be.min(),d=be.min(),y=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JR{constructor(e){this.yt=e}}function ZR(r){const e=FR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class WR{constructor(){this.Cn=new ex}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(br.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class ex{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new $t(bt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(bt.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(cE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const Z0="LruGarbageCollector",tx=1048576;function W0([r,e],[i,a]){const o=Ge(r,i);return o===0?Ge(e,a):o}class nx{constructor(e){this.Ir=e,this.buffer=new $t(W0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ix{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Il(i)?ae(Z0,"Ignoring IndexedDB error during garbage collection: ",i):await xl(i)}await this.Vr(3e5)}))}}class sx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new nx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(J0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,g,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),sl()<=qe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function rx(r,e){return new sx(r,e)}class ax{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ox{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&zo(a.mutation,o,qn.empty(),vt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const o=la();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Is();const d=jo(),y=(function(){return jo()})();return i.forEach(((g,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Cr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),zo(A.mutation,_,A.mutation.getFieldMask(),vt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new lx(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=jo();let o=new At(((d,y)=>d-y)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=a.get(g)||qn.empty();A=y.applyToLocalView(_,A),a.set(g,A);const S=(o.get(y.batchId)||Fe()).add(g);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,A=g.value,S=Q1();A.forEach((M=>{if(!c.has(M)){const F=Z1(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(la());let y=qo,g=c;return d.next((_=>$.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{g=g.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Fe()))).next((A=>({batchId:y,changes:F1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(g=>{const _=(function(S,M){return new Eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,dn.newInvalidDocument(A)))}));let y=Oo();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&zo(A.mutation,_,qn.empty(),vt.now()),Ah(i,_)&&(y=y.insert(g,_))})),y}))}}class ux{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ZR(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),$.resolve()}}class cx{constructor(){this.overlays=new At(de.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=la(),c=i.length+1,d=new de(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new At(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=la(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=la(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return $.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IR(i,a));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hx{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Wm{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new en(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new en(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new de(new bt([])),a=new en(i,e),o=new en(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new bt([])),a=new en(i,e),o=new en(i,e+1);let c=Fe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class fx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new en(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Ge);return i.forEach((o=>{const c=new en(o,0),d=new en(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;de.isDocumentKey(c)||(c=c.child(""));const d=new en(new de(c),0);let y=new $t(Ge);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(g.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new en(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new en(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dx{constructor(e){this.ri=e,this.docs=(function(){return new At(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=Is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Is();const d=i.path,y=new de(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||zw(jw(A),a)<=0||(o.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mx(this)}getSize(e){return $.resolve(this.size)}}class mx extends ax{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gx{constructor(e){this.persistence=e,this.si=new ma((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class hE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new hx,this.referenceDelegate=e(this),this.Pi=new gx(this),this.indexManager=new WR,this.remoteDocumentCache=(function(o){return new dx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new px(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class px extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=de.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ma((a=>Fw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rx(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Fe(),o=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tg(e,i.fromCache,a,o)}}class yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _x{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sA()?8:qw(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yx;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(sl()<=qe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(sl()<=qe.DEBUG&&ae("QueryEngine","Query:",rl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(sl()<=qe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):$.resolve())}ys(e,i){if(B0(i))return $.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,o){return B0(i)||o.isEqual(be.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(sl()<=qe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(i)),this.vs(e,d,i,Pw(o,qo)).next((y=>y)))}))}Ds(e,i){let a=new $t(q1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return sl()<=qe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",rl(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",vx=3e8;class Ex{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new At(Ge),this.xs=new ma((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Tx(r,e,i,a){return new Ex(r,e,i,a)}async function fE(r,e){const i=xe(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Fe();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function bx(r,e){const i=xe(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,A){const S=_.batch,M=S.keys();let F=$.resolve();return M.forEach((W=>{F=F.next((()=>A.getEntry(g,W))).next((se=>{const ee=_.docVersions.get(W);it(ee!==null,48541),se.version.compareTo(ee)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Fe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function dE(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ax(r,e){const i=xe(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(un.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(S,F),(function(se,ee,fe){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=vx?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(M,F,A)&&y.push(i.Pi.updateTargetData(c,F))}));let g=Is(),_=Fe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(Sx(c,d,e.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!a.isEqual(be.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function Sx(r,e,i){let a=Fe(),o=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Is();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ae(ng,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function wx(r,e){const i=xe(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Rx(r,e){const i=xe(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new gr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=xe(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;ae(ng,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ev(r,e,i){const a=xe(r);let o=be.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const S=xe(g),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,Bi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Fe()))).next((y=>(xx(a,hR(e),y),{documents:y,Qs:c})))))}function xx(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class tv{constructor(){this.activeTargetIds=yR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cx{Oo(e){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function vm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Fd="RestConnection",Nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:_}=new URL(y),A=Al(_);return this.Jo(e,y,g,a,A).then((S=>(ae(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw pl(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=Nx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Ox{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Mx extends Dx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((y,g)=>{const _=new _1;_.setWithCredentials(!0),_.listenOnce(v1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();ae(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Hc.TIMEOUT:ae(hn,`RPC '${e}' ${d} timed out`),g(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const se=(function(fe){const Ae=fe.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ae)>=0?Ae:Z.UNKNOWN})(W.status);g(new ue(se,W.message))}else g(new ue(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(hn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(hn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=b1(),y=T1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const A=c.join("");ae(hn,`Creating RPC '${e}' stream ${o}: ${A}`,g);const S=d.createWebChannel(A,g);this.I_(S);let M=!1,F=!1;const W=new Ox({Yo:ee=>{F?ae(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(ae(hn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),ae(hn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),se=(ee,fe,Ae)=>{ee.listen(fe,(ge=>{try{Ae(ge)}catch(We){setTimeout((()=>{throw We}),0)}}))};return se(S,Do.EventType.OPEN,(()=>{F||(ae(hn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(S,Do.EventType.CLOSE,(()=>{F||(F=!0,ae(hn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),se(S,Do.EventType.ERROR,(ee=>{F||(F=!0,pl(hn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),se(S,Do.EventType.MESSAGE,(ee=>{if(!F){const fe=ee.data[0];it(!!fe,16349);const Ae=fe,ge=Ae?.error||Ae[0]?.error;if(ge){ae(hn,`RPC '${e}' stream ${o} received error:`,ge);const We=ge.status;let Ue=(function(w){const I=Gt[w];if(I!==void 0)return eE(I)})(We),Me=ge.message;Ue===void 0&&(Ue=Z.INTERNAL,Me="Unknown error status: "+We+" with message "+ge.message),F=!0,W.a_(new ue(Ue,Me)),S.close()}else ae(hn,`RPC '${e}' stream ${o} received:`,fe),W.u_(fe)}})),se(y,E1.STAT_EVENT,(ee=>{ee.stat===lm.PROXY?ae(hn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&ae(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function xh(r){return new LR(r,!0)}class mE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class gE{constructor(e,i,a,o,c,d,y,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(xs(i.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vx extends gE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=zR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Hi(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=fm(g)?{documents:qR(c,g)}:{query:GR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=QR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class kx extends gE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HR(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>BR(this.serializer,a)))};this.q_(i)}}class Ux{}class Lx extends Ux{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,gm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Px{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class jx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(ae(fa,"Restarting streams for network reachability change."),await(async function(g){const _=xe(g);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new Px(a,o)}}async function Ih(r){if(ga(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function pE(r,e){const i=xe(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ag(i)?rg(i):Cl(i).O_()&&sg(i,e))}function ig(r,e){const i=xe(r),a=Cl(i);i.Ia.delete(e),a.O_()&&yE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function sg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cl(r).Y_(e)}function yE(r,e){r.Va.Ue(e),Cl(r).Z_(e)}function rg(r){r.Va=new MR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.Ra.ua()}function ag(r){return ga(r)&&!Cl(r).x_()&&r.Ia.size>0}function ga(r){return xe(r).Ea.size===0}function _E(r){r.Va=void 0}async function zx(r){r.Ra.set("Online")}async function Bx(r){r.Ia.forEach(((e,i)=>{sg(r,e)}))}async function Hx(r,e){_E(r),ag(r)?(r.Ra.ha(e),rg(r)):r.Ra.set("Unknown")}async function qx(r,e,i){if(r.Ra.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ae(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Qc?r.Va.Ze(e):e instanceof tE?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await dE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),yE(c,g);const S=new gr(A.target,g,_,A.sequenceNumber);sg(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(fa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!Il(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>dE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(fa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function vE(r,e){return e().catch((i=>hh(r,i,e)))}async function Ch(r){const e=xe(r),i=Rr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;Gx(e);)try{const o=await wx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Fx(e,o)}catch(o){await hh(e,o)}EE(e)&&TE(e)}function Gx(r){return ga(r)&&r.Ta.length<10}function Fx(r,e){r.Ta.push(e);const i=Rr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function EE(r){return ga(r)&&!Rr(r).x_()&&r.Ta.length>0}function TE(r){Rr(r).start()}async function Qx(r){Rr(r).ra()}async function Kx(r){const e=Rr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Yx(r,e,i){const a=r.Ta.shift(),o=$m.from(a,e,i);await vE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function Xx(r,e){e&&Rr(r).X_&&await(async function(a,o){if((function(d){return NR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Rr(a).B_(),await vE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,e),EE(r)&&TE(r)}async function rv(r,e){const i=xe(r);i.asyncQueue.verifyOperationInProgress(),ae(fa,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function $x(r,e){const i=xe(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Cl(r){return r.ma||(r.ma=(function(i,a,o){const c=xe(i);return c.sa(),new Vx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:zx.bind(null,r),t_:Bx.bind(null,r),r_:Hx.bind(null,r),H_:qx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ag(r)?rg(r):r.Ra.set("Unknown")):(await r.ma.stop(),_E(r))}))),r.ma}function Rr(r){return r.fa||(r.fa=(function(i,a,o){const c=xe(i);return c.sa(),new kx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qx.bind(null,r),r_:Xx.bind(null,r),ta:Kx.bind(null,r),na:Yx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class lg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new lg(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,e){if(xs("AsyncQueue",`${e}: ${r}`),Il(r))return new ue(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||de.comparator(i.key,a.key):(i,a)=>de.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class av{constructor(){this.ga=new At(de.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new bl(e,i,dl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Zx{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=lv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function lv(){return new ma((r=>H1(r)),bh)}async function bE(r,e){const i=xe(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new Jx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=og(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ug(i)}async function AE(r,e){const i=xe(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Wx(r,e){const i=xe(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&ug(i)}function eI(r,e,i){const a=xe(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var Em,ov;(ov=Em||(Em={})).Ma="default",ov.Cache="cache";class SE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class wE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class tI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=q1(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new av,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),F=Ah(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?W!==se&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(g||_)&&(y=!0)),ee&&(F?(d=d.add(F),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(F,W){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:ee})}};return se(F)-se(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new RE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new wE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class nI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class iI{constructor(e){this.key=e,this.hu=!1}}class sI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((y=>H1(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new At(de.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rI(r,e,i=!0){const a=OE(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await xE(a,e,i,!0),o}async function aI(r,e){const i=OE(r);await xE(i,e,!0,!1)}async function xE(r,e,i,a){const o=await Rx(r.localStore,Bi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lI(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&pE(r.remoteStore,o),y}async function lI(r,e,i,a,o){r.pu=(S,M,F)=>(async function(se,ee,fe,Ae){let ge=ee.view.ru(fe);ge.Cs&&(ge=await ev(se.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,ge))));const We=Ae&&Ae.targetChanges.get(ee.targetId),Ue=Ae&&Ae.targetMismatches.get(ee.targetId)!=null,Me=ee.view.applyChanges(ge,se.isPrimaryClient,We,Ue);return cv(se,ee.targetId,Me.au),Me.snapshot})(r,S,M,F);const c=await ev(r.localStore,e,!0),d=new tI(e,c.Qs),y=d.ru(c.documents),g=su.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,g);cv(r,i,_.au);const A=new nI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function oI(r,e,i){const a=xe(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ig(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(xl)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function uI(r,e){const i=xe(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ig(i.remoteStore,a.targetId))}async function cI(r,e,i){const a=yI(r);try{const o=await(function(d,y){const g=xe(d),_=vt.now(),A=y.reduce(((F,W)=>F.add(W.key)),Fe());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Is(),se=Fe();return g.Ns.getEntries(F,A).next((ee=>{W=ee,W.forEach(((fe,Ae)=>{Ae.isValidDocument()||(se=se.add(fe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,W))).next((ee=>{S=ee;const fe=[];for(const Ae of y){const ge=wR(Ae,S.get(Ae.key).overlayedDocument);ge!=null&&fe.push(new Cr(Ae.key,ge,k1(ge.value.mapValue),_i.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,fe,y)})).next((ee=>{M=ee;const fe=ee.applyToLocalDocumentSet(S,se);return g.documentOverlayCache.saveOverlays(F,ee.batchId,fe)}))})).then((()=>({batchId:M.batchId,changes:F1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Ge)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await au(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=og(o,"Failed to persist write");i.reject(c)}}async function IE(r,e){const i=xe(r);try{const a=await Ax(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?it(d.hu,14607):o.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await xl(a)}}function uv(r,e,i){const a=xe(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const g=xe(d);g.onlineState=y;let _=!1;g.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&ug(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function hI(r,e,i){const a=xe(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new At(de.comparator);d=d.insert(c,dn.newNoDocument(c,be.min()));const y=Fe().add(c),g=new Rh(be.min(),new Map,new At(Ge),d,y);await IE(a,g),a.du=a.du.remove(c),a.Au.delete(e),hg(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(xl)}async function fI(r,e){const i=xe(r),a=e.batch.batchId;try{const o=await bx(i.localStore,e);NE(i,a,null),CE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await xl(o)}}async function dI(r,e,i){const a=xe(r);try{const o=await(function(d,y){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,y).next((S=>(it(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);NE(a,e,i),CE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await xl(o)}}function CE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function NE(r,e,i){const a=xe(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||DE(r,a)}))}function DE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ig(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),hg(r))}function cv(r,e,i){for(const a of i)a instanceof wE?(r.Ru.addReference(a.key,e),mI(r,a)):a instanceof RE?(ae(cg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||DE(r,a.key)):_e(19791,{wu:a})}function mI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(cg,"New document in limbo: "+i),r.Eu.add(a),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new de(bt.fromString(e)),a=r.fu.next();r.Au.set(a,new iI(i)),r.du=r.du.insert(i,a),pE(r.remoteStore,new gr(Bi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function au(r,e,i){const a=xe(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){o.push(_);const A=tg.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(g,_){const A=xe(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(M=>$.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!Il(S))throw S;ae(ng,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),W=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,se)}}})(a.localStore,c))}async function gI(r,e){const i=xe(r);if(!i.currentUser.isEqual(e)){ae(cg,"User change. New user:",e.toKey());const a=await fE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ue(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function pI(r,e){const i=xe(r),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let o=Fe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function OE(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hI.bind(null,e),e.Pu.H_=Wx.bind(null,e.eventManager),e.Pu.yu=eI.bind(null,e.eventManager),e}function yI(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Tx(this.persistence,new _x,e.initialUser,this.serializer)}Cu(e){return new hE(eg.mi,this.serializer)}Du(e){return new Ix}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class _I extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ix(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new hE((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zx})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=(function(c){return new Mx(c)})(e.databaseInfo);return(function(c,d,y,g){return new Lx(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new jx(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new Cx})())}createSyncEngine(e,i){return(function(o,c,d,y,g,_,A){const S=new sI(o,c,d,y,g,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);ae(fa,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const xr="FirestoreClient";class vI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=og(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(xr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await fE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await EI(r);ae(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>rv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>rv(e.remoteStore,o))),r._onlineComponents=e}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(xr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;pl("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new fh)}}else ae(xr,"Using default OfflineComponentProvider"),await Kd(r,new _I(void 0));return r._offlineComponents}async function VE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(xr,"Using user provided OnlineComponentProvider"),await hv(r,r._uninitializedComponentsProvider._online)):(ae(xr,"Using default OnlineComponentProvider"),await hv(r,new bm))),r._onlineComponents}function TI(r){return VE(r).then((e=>e.syncEngine))}async function Am(r){const e=await VE(r),i=e.eventManager;return i.onListen=rI.bind(null,e.syncEngine),i.onUnlisten=oI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uI.bind(null,e.syncEngine),i}function bI(r,e,i={}){const a=new Er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const A=new ME({next:M=>{A.Nu(),d.enqueueAndForget((()=>AE(c,S)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new SE(Th(y.path),A,{includeMetadataChanges:!0,qa:!0});return bE(c,S)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function kE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const fv=new Map;const UE="firestore.googleapis.com",dv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=dv}else this.host=e.host,this.ssl=e.ssl??dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tx)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rw;switch(a.type){case"firstParty":return new Nw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function AI(r,e,i,a={}){r=yi(r,fg);const o=Al(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(Ov(`https://${y}`),Mv("Firestore",!0)),c.host!==UE&&c.host!==y&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:o,emulatorOptions:a};if(!Tr(g,d)&&(r._setSettings(g),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=fn.MOCK_USER;else{_=Xb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fn(S)}r._authCredentials=new xw(new S1(_,A))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Qt._jsonSchema))return new Qt(e,a||null,new de(bt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Yo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new de(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Bn(r,e,...i){if(r=vn(r),arguments.length===1&&(e=Bm.newId()),Uw("doc","path",e),r instanceof fg){const a=bt.fromString(e,...i);return I0(a),new Qt(r,null,new de(a))}{if(!(r instanceof Qt||r instanceof Yo))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...i));return I0(a),new Qt(r.firestore,r instanceof Yo?r.converter:null,new de(a))}}const gv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ae(gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=lg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function yv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function _v(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class da extends fg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function SI(r,e){const i=typeof r=="object"?r:Lv(),a=typeof r=="string"?r:ih,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Kb("firestore");c&&AI(o,...c)}return o}function dg(r){if(r._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wI(r),r._firestoreClient}function wI(r){const e=r._freezeSettings(),i=(function(o,c,d,y){return new Yw(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(un.fromBase64String(e))}catch(i){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),bytes:Ft("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ft("string",qi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ft("string",Gi._jsonSchemaVersion),vectorValues:Ft("object")};const RI=/^__.*__$/;class xI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class LE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function PE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PE(this.Ac)&&RI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jE(r){const e=r._freezeSettings(),i=xh(r._databaseId);return new II(r._databaseId,!!e.ignoreUndefinedProperties,i)}function CI(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);gg("Data must be an object, but it was:",d,a);const y=zE(a,d);let g,_;if(c.merge)g=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Sm(e,S,i);if(!d.contains(M))throw new ue(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HE(A,M)||A.push(M)}g=new qn(A),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new xI(new Cn(y),g,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function NI(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=NI(this,e,!0),a=this.vc.map((c=>lu(c,i))),o=new El(a);return new TR(e.path,o)}isEqual(e){return e instanceof mg&&Tr(this.vc,e.vc)}}function DI(r,e,i,a){const o=r.Cc(1,e,i);gg("Data must be an object, but it was:",o,a);const c=[],d=Cn.empty();Ir(a,((g,_)=>{const A=pg(e,g,i);_=vn(_);const S=o.yc(A);if(_ instanceof Vh)c.push(A);else{const M=lu(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const y=new qn(c);return new LE(d,y,o.fieldTransforms)}function OI(r,e,i,a,o,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],g=[o];if(c.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),g.push(c[M+1]);const _=[],A=Cn.empty();for(let M=y.length-1;M>=0;--M)if(!HE(_,y[M])){const F=y[M];let W=g[M];W=vn(W);const se=d.yc(F);if(W instanceof Vh)_.push(F);else{const ee=lu(W,se);ee!=null&&(_.push(F),A.set(F,ee))}}const S=new qn(_);return new LE(A,S,d.fieldTransforms)}function lu(r,e){if(BE(r=vn(r)))return gg("Unsupported field value:",e,r),zE(r,e);if(r instanceof Oh)return(function(a,o){if(!PE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let g=lu(y,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _R(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=vt.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof vt){const c=new vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:iE(o.serializer,a._byteString)};if(a instanceof Qt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,y){return{mapValue:{fields:{[M1]:{stringValue:V1},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Hm(a)}`)})(r,e)}function zE(r,e){const i={};return x1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(r,((a,o)=>{const c=lu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof qi||r instanceof si||r instanceof Qt||r instanceof Oh||r instanceof Gi)}function gg(r,e,i){if(!BE(i)||!w1(i)){const a=Hm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=vn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return pg(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MI=new RegExp("[~\\*/\\[\\]]");function pg(r,e,i){if(e.search(MI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new ue(Z.INVALID_ARGUMENT,y+r+g)}function HE(r,e){return r.some((i=>i.isEqual(e)))}class qE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VI extends qE{data(){return super.data()}}function GE(r,e){return typeof e=="string"?pg(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function kI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UI{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>Vt(a.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new qi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=bt.fromString(e);it(uE(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),c=new de(a.popFirst(5));return o.isEqual(i)||xs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends qE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(GE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ft("string",oa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Kc extends oa{data(e={}){return super.data(e)}}class ml{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const g=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:PI(y.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function jI(r){r=yi(r,Qt);const e=yi(r.firestore,da);return bI(dg(e),r._key).then((i=>QE(e,r,i)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Ft("string",ml._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class FE extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function zI(r,e,i){r=yi(r,Qt);const a=yi(r.firestore,da),o=LI(r.converter,e);return yg(a,[CI(jE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,_i.none())])}function vs(r,e,i,...a){r=yi(r,Qt);const o=yi(r.firestore,da),c=jE(o);let d;return d=typeof(e=vn(e))=="string"||e instanceof Dh?OI(c,"updateDoc",r._key,e,i,a):DI(c,"updateDoc",r._key,e),yg(o,[d.toMutation(r._key,_i.exists(!0))])}function BI(r){return yg(yi(r.firestore,da),[new Xm(r._key,_i.none())])}function vv(r,...e){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof Qt)d=yi(r.firestore,da),y=Th(r._key.path),c={next:g=>{e[a]&&e[a](QE(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=yi(r,Nh);d=yi(g.firestore,da),y=g._query;const _=new FE(d);c={next:A=>{e[a]&&e[a](new ml(d,_,g,A))},error:e[a+1],complete:e[a+2]},kI(r._query)}return(function(_,A,S,M){const F=new ME(M),W=new SE(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>bE(await Am(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>AE(await Am(_),W)))}})(dg(d),y,o,c)}function yg(r,e){return(function(a,o){const c=new Er;return a.asyncQueue.enqueueAndForget((async()=>cI(await TI(a),o,c))),c.promise})(dg(r),e)}function QE(r,e,i){const a=i.docs.get(e._key),o=new FE(r);return new oa(r,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function Yd(...r){return new mg("arrayUnion",r)}(function(e,i=!0){(function(o){Rl=o})(Sl),gl(new ua("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new da(new Iw(a.getProvider("auth-internal")),new Dw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),_r(S0,w0,e),_r(S0,w0,"esm2020")})();const HI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Ev=r=>{const e=qI(r);return e.charAt(0).toUpperCase()+e.slice(1)},KE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QI=Ze.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},g)=>Ze.createElement("svg",{ref:g,...FI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:KE("lucide",o),...!c&&!GI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Ze.createElement(_,A)),...Array.isArray(c)?c:[c]]));const nt=(r,e)=>{const i=Ze.forwardRef(({className:a,...o},c)=>Ze.createElement(QI,{ref:c,iconNode:e,className:KE(`lucide-${HI(Ev(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Ev(r),i};const KI=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],YI=nt("arrow-right-left",KI);const XI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=nt("book-open",XI);const $I=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JI=nt("briefcase",$I);const ZI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WI=nt("circle-check-big",ZI);const eC=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],aa=nt("coins",eC);const tC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YE=nt("copy",tC);const nC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xd=nt("crown",nC);const iC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],sC=nt("dice-5",iC);const rC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tv=nt("eye",rC);const aC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lC=nt("gavel",aC);const oC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],XE=nt("ghost",oC);const uC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],cC=nt("hammer",uC);const hC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],fC=nt("hand",hC);const dC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],mC=nt("history",dC);const gC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],pC=nt("hourglass",gC);const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_C=nt("info",yC);const vC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bv=nt("loader-circle",vC);const EC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rm=nt("log-out",EC);const TC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],bC=nt("scale",TC);const AC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$E=nt("search",AC);const SC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wC=nt("shield",SC);const RC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],xC=nt("skull",RC);const IC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xm=nt("sparkles",IC);const CC=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],NC=nt("sword",CC);const DC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uc=nt("trash-2",DC);const OC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_g=nt("triangle-alert",OC);const MC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JE=nt("trophy",MC);const VC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kC=nt("user",VC);const UC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LC=nt("users",UC);const PC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ul=nt("x",PC);const jC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zC=nt("zap",jC),BC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},ZE=Uv(BC),$d=Sw(ZE),Hn=SI(ZE),ni=typeof __app_id<"u"?__app_id:"guild-shadows",HC="15",qC=3,xt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:aa,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:fC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:1,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:sC,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:xC,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:lC,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:3,desc:"Copy effect of last Action card.",icon:YE,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:JI,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:$E,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:3,desc:"Immune to theft & assassination.",icon:wC,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:bC,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:_g,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},GC=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],Av=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Sv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(XE,{size:12,className:"text-purple-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Jd=r=>r<=2?20:r===3?18:15,Zd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),FC=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),QC=({notification:r})=>{if(!r)return null;let e="bg-gray-800 border-gray-600",i=b.jsx(_C,{className:"text-gray-400",size:20});return r.type==="danger"?(e="bg-red-950/90 border-red-500 text-red-100",i=b.jsx(NC,{className:"text-red-500",size:20})):r.type==="success"?(e="bg-green-950/90 border-green-500 text-green-100",i=b.jsx(xm,{className:"text-green-500",size:20})):r.type==="warning"?(e="bg-orange-950/90 border-orange-500 text-orange-100",i=b.jsx(_g,{className:"text-orange-500",size:20})):r.type==="failure"&&(e="bg-gray-800/90 border-gray-500 text-gray-300",i=b.jsx(ul,{className:"text-gray-400",size:20})),b.jsx("div",{className:"fixed top-20 left-0 right-0 z-[170] flex justify-center pointer-events-none px-4",children:b.jsxs("div",{className:`
          flex items-center gap-3 px-6 py-4 rounded-xl border-2 shadow-[0_10px_40px_rgba(0,0,0,0.5)] backdrop-blur-md
          animate-in slide-in-from-top-4 fade-in zoom-in-95 duration-300
          max-w-md w-full text-center md:text-left ${e}
        `,children:[b.jsx("div",{className:"shrink-0 p-2 bg-black/30 rounded-full",children:i}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-bold text-sm md:text-base leading-tight drop-shadow-md",children:r.text}),b.jsx("p",{className:"text-[10px] opacity-60 uppercase tracking-widest mt-1 font-bold",children:"New Event"})]})]},r.id)})},Lc=({cardId:r,onClick:e,disabled:i,highlight:a,small:o,tiny:c,turnsLeft:d,showCost:y=!0})=>{const g=xt[r];if(!g)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsxs("div",{className:`relative w-6 h-8 rounded flex items-center justify-center ${g.bg} border ${g.border} shadow-sm`,title:g.name,children:[b.jsx(g.icon,{className:`${g.color} w-3.5 h-3.5`}),d!==void 0&&b.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-black text-[9px] text-white w-4 h-4 rounded-full flex items-center justify-center border border-gray-500 z-10",children:d})]});const _=o?"w-20 h-28 p-1.5":"w-24 h-40 md:w-32 md:h-48 p-2",A=o?20:28,S=o?"text-[8px]":"text-[9px] md:text-[10px]",M=o?"text-[10px]":"text-[11px] md:text-xs";return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible shrink-0
        ${_} ${g.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":g.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-center font-bold text-gray-300",children:[b.jsx("span",{className:`${o?"text-[8px]":"text-[10px]"} ${g.type==="AGENT"?"text-blue-300":"text-amber-200"}`,children:g.type==="AGENT"?"AGT":"ACT"}),y&&g.cost>0&&b.jsxs("span",{className:"bg-black/50 px-1.5 rounded text-yellow-400 flex items-center gap-0.5 text-[10px]",children:[g.cost," ",b.jsx(aa,{size:8})]})]}),b.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[b.jsx(g.icon,{className:`${g.color}`,size:A}),d!==void 0&&b.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[b.jsx(pC,{size:8,className:"text-gray-400"}),b.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),b.jsxs("div",{className:"w-full text-center",children:[b.jsx("div",{className:`font-bold text-white leading-tight mb-1 line-clamp-1 ${M}`,children:g.name}),b.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1 w-full
            ${S} h-auto p-1 whitespace-normal text-center
          `,children:g.desc})]})]})},wv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[b.jsx(wm,{size:18})," Guild Archives"]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:b.jsx(ul,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[b.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[b.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[b.jsx(JE,{size:18,className:"text-yellow-400"})," Victory Condition"]}),b.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),b.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"4 Players:"})," 15 Gold"]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(zC,{size:18})," Actions"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[xt.URCHIN,xt.THIEF,xt.HEIST,xt.ASSASSIN,xt.BLACKMAIL,xt.DOPPELGANGER].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(LC,{size:18})," Agents"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[xt.MERCHANT,xt.LOOKOUT,xt.BODYGUARD,xt.POLITICIAN,xt.SABOTEUR].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[b.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",b.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",b.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),KC=({report:r})=>r?b.jsxs("div",{className:"w-full bg-green-950/40 border-b border-green-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-300",children:r.breakdown.map((e,i)=>b.jsxs("span",{className:"flex gap-1 items-center",children:[b.jsxs("span",{className:"text-gray-400",children:[e.source,":"]}),b.jsxs("span",{className:"text-green-300",children:["+",e.amount]})]},i))}),r.expired.length>0&&b.jsxs("div",{className:"text-[9px] text-red-300 mt-0.5 flex gap-1 items-center",children:[b.jsx(Rm,{size:8})," Lost:"," ",r.expired.map(e=>xt[e]?.name).join(", ")]})]}),b.jsx("div",{className:"pl-3 border-l border-green-500/20 flex flex-col items-center justify-center text-green-400 shrink-0",children:b.jsxs("span",{className:"text-sm font-black",children:["+",r.income]})})]}):null,YC=({report:r})=>r?b.jsxs("div",{className:"w-full bg-indigo-950/40 border-b border-indigo-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase",children:r.actionName}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-[9px] text-gray-400",children:[b.jsxs("span",{children:["Cost: ",r.cost]}),r.tax>0&&b.jsxs("span",{className:"text-red-400",children:["Tax: ",r.tax]}),r.gains.map((e,i)=>b.jsxs("span",{className:"text-green-300",children:[e.desc,": +",e.amount]},i))]})]}),b.jsx("div",{className:"pl-3 border-l border-indigo-500/20 flex flex-col items-center justify-center shrink-0",children:b.jsxs("span",{className:`text-sm font-black ${r.netChange>=0?"text-green-400":"text-red-400"}`,children:[r.netChange>0?"+":"",r.netChange]})})]}):null;function XC(){const[r,e]=Ze.useState(null),[i,a]=Ze.useState("menu"),[o,c]=Ze.useState(""),[d,y]=Ze.useState(""),[g,_]=Ze.useState(null),[A,S]=Ze.useState(""),[M,F]=Ze.useState(!1),[W,se]=Ze.useState(localStorage.getItem("guild_room_id")||""),[ee,fe]=Ze.useState(!1),[Ae,ge]=Ze.useState(null),We=Ze.useRef(0),[Ue,Me]=Ze.useState(null),[C,w]=Ze.useState(null),[I,V]=Ze.useState(!1),[D,U]=Ze.useState(!1),[R,st]=Ze.useState(!1),[Le,G]=Ze.useState(null),[ne,ce]=Ze.useState(null),[Ve,Xe]=Ze.useState(null),[N,Y]=Ze.useState(null),[ie,re]=Ze.useState(null),[ye,Se]=Ze.useState(null);Ze.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await c2($d,__initial_auth_token):await r2($d))(),d2($d,e)),[]),Ze.useEffect(()=>{if(!(!W||!r))return vv(Bn(Hn,"artifacts",ni,"public","data","rooms",W),B=>{if(B.exists()){const J=B.data();if(!J.players.some(pe=>pe.id===r.uid)){se(""),a("menu"),S("You have been removed from the guild.");return}_(J),J.status==="playing"&&J.turnReport&&J.turnReport.playerId===r.uid&&!J.turnReport.seen&&(re(J.turnReport),Se(null)),J.status==="playing"&&J.eveningReport&&J.eveningReport.playerId===r.uid&&!J.eveningReport.seen&&(Se(J.eveningReport),re(null)),J.status==="lobby"?a("lobby"):(J.status==="playing"||J.status==="finished")&&a("game")}else se(""),a("menu"),S("The Guild Hall was disbanded by the host.")},B=>console.error(B))},[W,r]),Ze.useEffect(()=>{if(!g||!g.logs||g.logs.length===0)return;const B=g.logs[g.logs.length-1];if(B.id>We.current){We.current=B.id,ge(B);const J=setTimeout(()=>{ge(null)},4e3);return()=>clearTimeout(J)}},[g?.logs]),Ze.useEffect(()=>{const B=vv(Bn(Hn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[HC]?.maintenance?fe(!0):fe(!1)});return()=>B()},[]);const ke=(B,J,ve,pe)=>{w({type:B,message:J,subtext:ve,icon:pe}),setTimeout(()=>w(null),2500)},It=async()=>{if(!o)return S("Enter Alias");F(!0);try{const B=Math.random().toString(36).substring(2,7).toUpperCase();await zI(Bn(Hn,"artifacts",ni,"public","data","rooms",B),{roomId:B,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null}),se(B),localStorage.setItem("guild_room_id",B)}catch(B){console.error(B),S("Failed to create room.")}finally{F(!1)}},gt=async()=>{if(!d||!o)return S("Enter Info");F(!0);try{const B=Bn(Hn,"artifacts",ni,"public","data","rooms",d),J=await jI(B);if(!J.exists())return F(!1),S("Invalid Room");const ve=J.data();if(ve.status!=="lobby")return F(!1),S("Game Started");if(ve.players.length>=4)return F(!1),S("Room Full");await vs(B,{players:[...ve.players,{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}]}),se(d),localStorage.setItem("guild_room_id",d)}catch(B){console.error(B),S("Failed to join room.")}finally{F(!1)}},Ki=async B=>{if(g.hostId!==r.uid)return;const J=g.players.filter(ve=>ve.id!==B);await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:J})},Yi=async()=>{if(g){if(g.hostId===r.uid)await BI(Bn(Hn,"artifacts",ni,"public","data","rooms",W));else{const B=g.players.filter(J=>J.id!==r.uid);await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:B})}se(""),localStorage.removeItem("guild_room_id"),a("menu"),st(!1)}},Ns=async()=>{if(g.hostId!==r.uid)return;const B=Av([...GC]),J=g.players.map(ve=>({...ve,hand:[B.pop(),B.pop()],tableau:[],gold:2,ready:!1}));await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{status:"playing",deck:B,players:J,turnIndex:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null})},Ds=async()=>{const B=g.players.map(J=>J.id===r.uid?{...J,ready:!J.ready}:J);await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:B})},Nn=async()=>{if(g.hostId!==r.uid)return;const B=g.players.map(J=>({...J,hand:[],tableau:[],gold:0,ready:!1}));await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:B}),st(!1)},Xi=(B,J)=>{let ve=0;return B.forEach(pe=>{if(pe.id!==J){const dt=pe.tableau.filter(Ke=>Ke.cardId==="SABOTEUR").length;ve+=dt}}),ve},$i=(B,J)=>{B.forEach(ve=>{if(ve.id!==J){const pe=ve.tableau.filter(dt=>dt.cardId==="POLITICIAN").length;pe>0&&(ve.gold+=pe)}})},Ji=async(B,J,ve,pe,dt=null,Ke=null)=>{let Ce=(g.turnIndex+1)%B.length,Te=B[Ce];const pt=[],we=[];Te.tableau.forEach(Ut=>{Ut.turnsLeft-=1,Ut.turnsLeft<=0?(pt.push(Ut.cardId),ve.push(Ut.cardId)):we.push(Ut)}),Te.tableau=we;let ot=0;const kt=[];kt.push({source:"Guild Stipend",amount:1}),ot+=1,Te.tableau.forEach(Ut=>{Ut.cardId==="MERCHANT"&&(kt.push({source:"Silk Trader",amount:1}),ot+=1)}),Te.gold===0&&(kt.push({source:"Pity Bonus",amount:1}),ot+=1),Te.gold+=ot,pt.length>0&&pe.push({text:`${Te.name} lost ${pt.length} agents to time.`,type:"warning",id:Date.now()}),pe.push({text:`${Te.name} begins turn (+${ot} Gold).`,type:"neutral",id:Date.now()+1});const gn={playerId:Te.id,income:ot,breakdown:kt,expired:pt,seen:!1},pn=Jd(B.length);if(Te.gold>=pn){const Ut=B.map(Vr=>({...Vr,ready:!1}));await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:Ut,status:"finished",winnerId:Te.id,logs:Yd({text:` ${Te.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}J.length===0&&(ve.length>0?(J=Av([...ve]),ve=[],pe.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):pe.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),J.length>0&&Te.hand.push(J.pop()),await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:B,deck:J,discardPile:ve,turnIndex:Ce,logs:Yd(...pe),lastAction:dt!==null?dt:g.lastAction,turnReport:gn,eveningReport:Ke})},Nr=async(B,J,ve,pe,dt,Ke,Ce,Te,pt)=>{const we=pe[Te],ot=xt[B];let kt=[],gn=-(ot.cost+pt);we.gold-=ot.cost+pt,ot.type==="ACTION"&&$i(pe,we.id);const pn=we.hand.indexOf(B);pn>-1&&we.hand.splice(pn,1);let Ut=g.lastAction;if(ot.type==="AGENT")we.tableau.push({cardId:B,turnsLeft:qC}),Ce.push({text:` ${we.name} recruited ${ot.name}.`,type:"success",id:Date.now()}),kt.push({desc:"Recruited Agent",amount:0});else if(Ke.push(B),Ut={cardId:B,playerId:we.id},B==="URCHIN")we.gold+=2,gn+=2,kt.push({desc:"Street Urchin",amount:2}),Ce.push({text:` ${we.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()});else if(B==="HEIST")Math.floor(Math.random()*6)+1>=4?(we.gold+=5,gn+=5,kt.push({desc:"Heist Success",amount:5}),Ce.push({text:` ${we.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()})):(kt.push({desc:"Heist Failed",amount:0}),Ce.push({text:` ${we.name}'s Heist failed.`,type:"failure",id:Date.now()}));else if(B==="THIEF"){const Pe=pe.find(Ie=>Ie.id===J);if(Pe.tableau.some(Ie=>Ie.cardId==="BODYGUARD"))kt.push({desc:"Thief Blocked",amount:0}),Ce.push({text:` ${Pe.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()});else{const Ie=Math.min(Pe.gold,2);Pe.gold-=Ie,we.gold+=Ie,gn+=Ie,kt.push({desc:`Stole from ${Pe.name}`,amount:Ie}),Ce.push({text:` ${we.name} stole ${Ie} Gold from ${Pe.name}.`,type:"danger",id:Date.now()})}}else if(B==="ASSASSIN"){const Pe=pe.find(Ie=>Ie.id===J);if(Pe.tableau.some(Ie=>Ie.cardId==="BODYGUARD"))Ce.push({text:` ${Pe.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()});else if(ve!==null&&Pe.tableau[ve]){const Ie=Pe.tableau[ve];Pe.tableau.splice(ve,1),Ke.push(Ie.cardId),Ce.push({text:` ${we.name} assassinated ${Pe.name}'s ${xt[Ie.cardId].name}!`,type:"danger",id:Date.now()})}}else if(B==="BLACKMAIL"){const Pe=pe.find(Ie=>Ie.id===J);if(Pe.tableau.some(Ie=>Ie.cardId==="BODYGUARD"))Ce.push({text:` ${Pe.name} blocked Blackmail.`,type:"warning",id:Date.now()});else if(ve==="GOLD"){const Ie=Math.min(Pe.gold,4);Pe.gold-=Ie,we.gold+=Ie,gn+=Ie,kt.push({desc:"Blackmail Gold",amount:Ie}),Ce.push({text:` ${we.name} blackmailed ${Pe.name} for ${Ie} Gold.`,type:"danger",id:Date.now()})}else{const Ie=parseInt(ve);if(!isNaN(Ie)&&Pe.tableau[Ie]){const ri=Pe.tableau[Ie];Pe.tableau.splice(Ie,1),we.tableau.push(ri),Ce.push({text:` ${we.name} blackmailed ${Pe.name}'s ${xt[ri.cardId].name}.`,type:"danger",id:Date.now()})}}}else if(B==="DOPPELGANGER"){const Pe=g.lastAction;if(!Pe||Pe.cardId==="DOPPELGANGER")Ce.push({text:` ${we.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()});else{Ce.push({text:` ${we.name} copies ${xt[Pe.cardId].name}...`,type:"neutral",id:Date.now()});const Ie=Pe.cardId;["URCHIN","HEIST"].includes(Ie)?(Ie==="URCHIN"&&(we.gold+=2,gn+=2,kt.push({desc:"Copied Urchin",amount:2})),Ie==="HEIST"&&Math.floor(Math.random()*6)+1>=4&&(we.gold+=5,gn+=5,kt.push({desc:"Copied Heist",amount:5}))):(we.gold+=3,gn+=3,kt.push({desc:"Copied Complex Action",amount:3}),Ce.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}))}}const Vr=Jd(pe.length);if(we.gold>=Vr){const Pe=pe.map(Ie=>({...Ie,ready:!1}));await vs(Bn(Hn,"artifacts",ni,"public","data","rooms",W),{players:Pe,status:"finished",winnerId:we.id,logs:Yd({text:` ${we.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}const Wi={playerId:we.id,actionName:ot.name,cost:ot.cost,tax:pt,gains:kt,netChange:gn,seen:!1};Me(null),G(null),ce(null),Y(null),await Ji(pe,dt,Ke,Ce,Ut,Wi)},St=async B=>{const J=JSON.parse(JSON.stringify(g.players)),ve=g.turnIndex,pe=J[ve],dt=[...g.deck],Ke=[...g.discardPile],Ce=[],Te=pe.hand.splice(B,1)[0];Ke.push(Te),Ce.push({text:` ${pe.name} discarded ${xt[Te].name} (Hand Limit).`,type:"neutral",id:Date.now()});const pt={playerId:pe.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1};Me(null),G(null),await Ji(J,dt,Ke,Ce,null,pt)},Ct=B=>{if(Le==="DISCARD"){St(B);return}if(Le==="SCOUT"){Dr(B);return}const J=g.players[g.turnIndex].hand[B],ve=xt[J],pe=g.players[g.turnIndex],dt=ve.type==="ACTION"?Xi(g.players,pe.id):0;if(pe.gold<ve.cost+dt){ke("failure","Insufficient Funds",`Cost: ${ve.cost} + ${dt} Tax`,aa);return}if(J==="DOPPELGANGER"){const Ke=g.lastAction;let Ce=null;Ke&&Ke.cardId!=="DOPPELGANGER"&&(Ce=xt[Ke.cardId]),Y({handIdx:B,targetCard:Ce});return}Me(B),J==="THIEF"||J==="ASSASSIN"||J==="BLACKMAIL"?G("PLAYER"):(ve.type==="AGENT"||J==="URCHIN"||J==="HEIST")&&Nt(B,null,null)},vi=B=>{if(!Le)return;const J=g.players[g.turnIndex].hand[Ue];J==="THIEF"?Nt(Ue,B,null):J==="ASSASSIN"?(ce(B),G("CARD")):J==="BLACKMAIL"&&(ce(B),G("OPTION"))},Nl=B=>{Le==="CARD"&&ne&&Nt(Ue,ne,B)},pa=B=>{Le==="OPTION"&&ne&&Nt(Ue,ne,B)},Nt=async(B,J,ve)=>{const pe=JSON.parse(JSON.stringify(g.players)),dt=[...g.deck],Ke=[...g.discardPile],Ce=[],Te=pe.find(ot=>ot.id===r.uid),pt=Te.hand[B],we=xt[pt].type==="ACTION"?Xi(pe,Te.id):0;await Nr(pt,J,ve,pe,dt,Ke,Ce,g.turnIndex,we)},Zi=()=>{G("SCOUT"),ke("success","Scout Mode","Select a card to discard",Tv)},Dr=async B=>{const J=JSON.parse(JSON.stringify(g.players)),ve=g.turnIndex,pe=J[ve],dt=[...g.deck],Ke=[...g.discardPile],Ce=[],Te=pe.hand.splice(B,1)[0];Ke.push(Te),dt.length>0&&pe.hand.push(dt.pop()),Ce.push({text:`zzz ${pe.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const pt={playerId:pe.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1};Me(null),G(null),await Ji(J,dt,Ke,Ce,null,pt)},Or=()=>{g.deck.length!==0&&(Xe(g.deck[g.deck.length-1]),setTimeout(()=>Xe(null),3e3))},Ei=B=>B==="URCHIN"?"Effect: Gain +2 Gold":B==="HEIST"?"Effect: 50% chance to gain +5 Gold":"Effect: Gain +3 Gold (Mimic Bonus)";if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(cC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(xm,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(xm,{size:16})]})})})})]});if(!i)return b.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[b.jsx(XE,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),b.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:o,onChange:B=>c(B.target.value)}),b.jsxs("button",{onClick:It,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[M?b.jsx(bv,{size:18,className:"animate-spin"}):b.jsx(Xd,{size:18}),M?"Establishing...":"Establish Guild"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:B=>y(B.target.value.toUpperCase())}),b.jsx("button",{onClick:gt,disabled:M,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:M?b.jsx(bv,{size:16,className:"animate-spin"}):"Join"})]}),b.jsxs("button",{onClick:()=>V(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(wm,{size:14})," Guild Archives"]})]}),I&&b.jsx(wv,{onClose:()=>V(!1)}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const B=g.hostId===r.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Room:"," ",b.jsx("span",{className:"text-white font-mono",children:g.roomId})]}),b.jsx("button",{onClick:Yi,className:"text-red-400 hover:text-red-300",children:b.jsx(Rm,{size:20})})]}),b.jsxs("div",{className:"space-y-2 mb-6",children:[b.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),g.players.map(J=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(kC,{size:14})," ",J.name,J.id===g.hostId&&b.jsx(Xd,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(WI,{size:12})," Ready"]}),B&&J.id!==r.uid&&b.jsx("button",{onClick:()=>Ki(J.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(Uc,{size:14})})]})]},J.id))]}),B?b.jsx("button",{onClick:Ns,disabled:g.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${g.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Game"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),b.jsx(Sv,{})]})}const ya=g.players.findIndex(B=>B.id===r.uid),En=g.players[ya],Os=g.turnIndex===ya;Ue!==null&&xt[En.hand[Ue]];const Mr=Xi(g.players,En.id),Dn=Jd(g.players.length),Kt=En.tableau.some(B=>B.cardId==="LOOKOUT");return b.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[b.jsx(Zd,{}),C&&b.jsx(FC,{...C}),b.jsx(QC,{notification:Ae}),Ve&&b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>Xe(null),children:b.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[b.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),b.jsx("div",{className:"scale-150 transform transition-all",children:b.jsx(Lc,{cardId:Ve})}),b.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),N&&b.jsx("div",{className:"fixed inset-0 z-[190] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 border-2 border-cyan-500 rounded-2xl w-full max-w-sm flex flex-col items-center p-6 shadow-[0_0_30px_rgba(34,211,238,0.2)] animate-in zoom-in-95",children:[b.jsx(YE,{size:48,className:"text-cyan-400 mb-4"}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Doppelganger"}),b.jsxs("div",{className:"text-center mb-6 w-full",children:[b.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Copying previous action:"}),N.targetCard?b.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-700 flex flex-col items-center w-full",children:[b.jsx("span",{className:`font-bold ${N.targetCard.color} text-lg`,children:N.targetCard.name}),b.jsx("div",{className:"mt-3 bg-cyan-900/30 text-cyan-200 px-3 py-2 rounded text-sm font-bold border border-cyan-500/30 w-full text-center",children:Ei(N.targetCard.id)})]}):b.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-200 text-sm italic",children:"No valid action to copy (Effect will fizzle)."})]}),b.jsxs("div",{className:"flex gap-3 w-full",children:[b.jsx("button",{onClick:()=>Y(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded-xl font-bold transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Nt(N.handIdx,null,null),className:"flex-1 bg-cyan-600 hover:bg-cyan-500 py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95",children:"Proceed"})]})]})}),b.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-[160] shrink-0 shadow-md",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline text-lg",children:"GUILD OF SHADOWS"}),b.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-xs px-3 py-1 rounded-full border border-purple-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:["Goal: ",Dn," ",b.jsx(aa,{size:10,className:"inline ml-0.5"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>U(!D),className:`p-2 rounded-full ${D?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(mC,{size:20})}),b.jsx("button",{onClick:()=>V(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full transition-colors",children:b.jsx(wm,{size:20})}),b.jsx("button",{onClick:()=>st(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full transition-colors",children:b.jsx(Rm,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:g.players.map((B,J)=>{if(B.id===r.uid)return null;const ve=g.turnIndex===J,pe=Le==="PLAYER",dt=ne===B.id;return b.jsxs("div",{onClick:()=>pe?vi(B.id):null,className:`
                        relative bg-gray-900/80 backdrop-blur-sm p-3 rounded-xl border transition-all duration-200
                        ${ve?"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.25)] bg-purple-900/10 scale-[1.02]":"border-gray-800"}
                        ${pe?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${dt?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("span",{className:"text-sm font-bold text-gray-200 flex items-center gap-1.5 truncate max-w-[100px]",children:[B.name,B.id===g.hostId&&b.jsx(Xd,{size:12,className:"text-yellow-500"})]}),b.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1 font-mono bg-black/40 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:[B.gold," ",b.jsx(aa,{size:10})]})]}),b.jsx("div",{className:"flex gap-0.5",children:B.hand.map((Ke,Ce)=>b.jsx("div",{className:"w-2.5 h-4 bg-gradient-to-b from-purple-800 to-purple-950 rounded-[2px] border border-purple-600/50 shadow-sm"},Ce))})]}),b.jsxs("div",{className:"flex flex-wrap gap-1.5 min-h-[32px]",children:[B.tableau.map((Ke,Ce)=>b.jsx("div",{onClick:Te=>{Te.stopPropagation(),Nl(Ce)},className:`${Le==="CARD"&&dt?"animate-pulse cursor-pointer ring-1 ring-red-400 rounded":""}`,children:b.jsx(Lc,{cardId:Ke.cardId,turnsLeft:Ke.turnsLeft,tiny:!0})},Ce)),B.tableau.length===0&&b.jsx("div",{className:"w-full h-8 flex items-center justify-center text-[10px] text-gray-600 italic border border-dashed border-gray-800 rounded",children:"Empty Hall"})]})]},B.id)})}),b.jsx("div",{className:"mt-6 flex flex-col items-center space-y-1.5 pointer-events-none opacity-80",children:g.logs.slice(-3).reverse().map(B=>b.jsx("div",{className:`text-[10px] px-3 py-1 rounded-full backdrop-blur-md shadow-lg border ${B.type==="danger"?"bg-red-950/70 border-red-500/30 text-red-200":"bg-gray-900/70 border-gray-700/50 text-gray-300"}`,children:B.text},B.id))})]}),b.jsxs("div",{className:"bg-gray-950 border-t border-purple-900/30 pb-safe z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] flex flex-col shrink-0",children:[b.jsx("div",{className:"w-full bg-black/20",children:!Ve&&ie?b.jsx(KC,{report:ie}):!Ve&&ye?b.jsx(YC,{report:ye}):null}),b.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-900 border-b border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"text-yellow-400 font-black text-2xl flex items-center gap-2 drop-shadow-md",children:[b.jsx(aa,{className:"fill-yellow-400/20",size:24})," ",En.gold]}),Mr>0&&b.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1 bg-red-950/50 px-2 py-1 rounded border border-red-900/50",children:["Tax: +",Mr," ",b.jsx(aa,{size:10})]})]}),b.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-w-[50%] no-scrollbar items-center mask-linear-fade",children:En.tableau.map((B,J)=>b.jsx("div",{className:"shrink-0",children:b.jsx(Lc,{cardId:B.cardId,turnsLeft:B.turnsLeft,tiny:!0})},J))})]}),b.jsxs("div",{className:"min-h-[50px] flex items-center justify-center py-2 px-4",children:[Os&&!Le&&Ue===null&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[Kt&&b.jsxs("button",{onClick:Or,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-5 py-2.5 rounded-xl font-bold shadow-lg flex items-center gap-2 text-sm transition-all active:scale-95",children:[b.jsx($E,{size:16})," Peek"]}),En.hand.length>5?b.jsxs("button",{onClick:()=>{G("DISCARD"),ke("neutral","Discard Mode","Hand limit reached",Uc)},className:"flex-1 max-w-xs bg-red-900/90 hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Discard & Pass ",b.jsx(Uc,{size:16})]}):b.jsxs("button",{onClick:Zi,className:"flex-1 max-w-xs bg-gray-800 hover:bg-gray-700 text-gray-200 border border-gray-600 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Pass & Scout ",b.jsx(YI,{size:16})]})]}),Le==="SCOUT"&&b.jsxs("div",{className:"flex items-center gap-3 bg-blue-900/30 border border-blue-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-blue-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(Tv,{size:16})," Select card to discard"]}),b.jsx("button",{onClick:()=>G(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(ul,{size:12})})]}),Le==="DISCARD"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(Uc,{size:16})," Hand Full: Discard 1"]}),b.jsx("button",{onClick:()=>G(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(ul,{size:12})})]}),Le==="PLAYER"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full animate-pulse",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(_g,{size:16})," Select Target Player"]}),b.jsx("button",{onClick:()=>{G(null),Me(null)},className:"bg-gray-800 p-1 rounded-full",children:b.jsx(ul,{size:12})})]}),Ue!==null&&!Le&&b.jsx("button",{onClick:()=>Me(null),className:"bg-gray-800 text-gray-400 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-700",children:"Cancel Selection"}),Le==="CARD"&&b.jsx("div",{className:"bg-black/60 px-4 py-2 rounded-full text-sm font-bold border border-red-500/50 text-red-200",children:"Select Agent to Destroy"}),Le==="OPTION"&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[b.jsx("button",{onClick:()=>pa("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-yellow-500",children:"Steal 4 Gold"}),b.jsx("button",{onClick:()=>G("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-blue-500",children:"Steal Agent"})]})]}),b.jsxs("div",{className:"flex overflow-x-auto px-4 pb-4 gap-3 no-scrollbar snap-x snap-mandatory min-h-[180px] items-center",children:[En.hand.length===0&&b.jsx("div",{className:"text-gray-600 text-sm italic w-full text-center py-8 border-2 border-dashed border-gray-800 rounded-xl",children:"Hand Empty"}),En.hand.map((B,J)=>b.jsx("div",{className:`snap-center transition-transform duration-200 ${Ue===J?"-translate-y-6 scale-105":""}`,children:b.jsx(Lc,{cardId:B,onClick:()=>Os?Ct(J):null,disabled:!Os||Le!==null&&Le!=="SCOUT"&&Le!=="DISCARD"&&Ue!==J,highlight:Ue===J})},J)),b.jsx("div",{className:"w-2 shrink-0"})]})]})]}),D&&b.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),b.jsx("button",{onClick:()=>U(!1),children:b.jsx(ul,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...g.logs].reverse().map(B=>b.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${B.type==="danger"?"bg-red-900/20 border-red-500":B.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[b.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(B.id).toLocaleTimeString()}),B.text]},B.id))})]}),R&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>st(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),g.hostId===r.uid&&b.jsx("button",{onClick:Nn,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:Yi,className:"bg-red-600 py-3 rounded font-bold",children:g.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),g.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[b.jsx(JE,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[g.players.find(B=>B.id===g.winnerId)?.name," ","is the new Guild Master!"]}),b.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[b.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),b.jsx("div",{className:"space-y-2",children:g.players.map(B=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:B.name}),b.jsx("span",{className:B.ready?"text-green-400 font-bold":"text-gray-500",children:B.ready?"READY":"WAITING"})]},B.id))})]}),b.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[En.ready?b.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):b.jsx("button",{onClick:Ds,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),g.hostId===r.uid&&b.jsx("button",{onClick:Nn,disabled:!g.players.every(B=>B.ready),className:`py-3 rounded-lg font-bold transition-all ${g.players.every(B=>B.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),b.jsx(Sv,{}),I&&b.jsx(wv,{onClose:()=>V(!1)})]})}Pb.createRoot(document.getElementById("root")).render(b.jsx(Ze.StrictMode,{children:b.jsx(XC,{})}));
