(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},Co={};var P_;function Db(){if(P_)return Co;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var j_;function Ob(){return j_||(j_=1,Nd.exports=Db()),Nd.exports}var b=Ob(),Dd={exports:{}},xe={};var z_;function Mb(){if(z_)return xe;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function me(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}me.prototype.isReactComponent={},me.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function fe(){}fe.prototype=me.prototype;function de(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}var Ze=de.prototype=new fe;Ze.constructor=de,se(Ze,me.prototype),Ze.isPureReactComponent=!0;var ot=Array.isArray;function Le(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,ie){var re=ie.ref;return{$$typeof:r,type:O,key:Y,ref:re!==void 0?re:null,props:ie}}function k(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function nt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function At(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Le,Le):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,re,Ee){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case r:case e:Me=!0;break;case A:return Me=O._init,G(Me(O._payload),Y,ie,re,Ee)}}if(Me)return Ee=Ee(O),Me=re===""?"."+nt(O,0):re,ot(Ee)?(ie="",Me!=null&&(ie=Me.replace(R,"$&/")+"/"),G(Ee,Y,ie,"",function(Yi){return Yi})):Ee!=null&&(N(Ee)&&(Ee=k(Ee,ie+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Me)),Y.push(Ee)),1;Me=0;var Nt=re===""?".":re+":";if(ot(O))for(var gt=0;gt<O.length;gt++)re=O[gt],Re=Nt+nt(re,gt),Me+=G(re,Y,ie,Re,Ee);else if(gt=F(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(re=O.next()).done;)re=re.value,Re=Nt+nt(re,gt++),Me+=G(re,Y,ie,Re,Ee);else if(Re==="object"){if(typeof O.then=="function")return G(At(O),Y,ie,re,Ee);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(O,Y,ie){if(O==null)return O;var re=[],Ee=0;return G(O,re,"","",function(Re){return Y.call(ie,Re,Ee++)}),re}function ue(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},We={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=S,xe.Children=We,xe.Component=me,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=de,xe.StrictMode=a,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),Ee=O.key;if(Y!=null)for(Re in Y.key!==void 0&&(Ee=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(re[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)re.children=ie;else if(1<Re){for(var Me=Array(Re),Nt=0;Nt<Re;Nt++)Me[Nt]=arguments[Nt+2];re.children=Me}return I(O.type,Ee,re)},xe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,Y,ie){var re,Ee={},Re=null;if(Y!=null)for(re in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var Me=arguments.length-2;if(Me===1)Ee.children=ie;else if(1<Me){for(var Nt=Array(Me),gt=0;gt<Me;gt++)Nt[gt]=arguments[gt+2];Ee.children=Nt}if(O&&O.defaultProps)for(re in Me=O.defaultProps,Me)Ee[re]===void 0&&(Ee[re]=Me[re]);return I(O,Re,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:y,render:O}},xe.isValidElement=N,xe.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ue}},xe.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},xe.startTransition=function(O){var Y=C.T,ie={};C.T=ie;try{var re=O(),Ee=C.S;Ee!==null&&Ee(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Le,Ve)}catch(Re){Ve(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),C.T=Y}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(O){return C.H.use(O)},xe.useActionState=function(O,Y,ie){return C.H.useActionState(O,Y,ie)},xe.useCallback=function(O,Y){return C.H.useCallback(O,Y)},xe.useContext=function(O){return C.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},xe.useEffect=function(O,Y){return C.H.useEffect(O,Y)},xe.useEffectEvent=function(O){return C.H.useEffectEvent(O)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(O,Y,ie){return C.H.useImperativeHandle(O,Y,ie)},xe.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},xe.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},xe.useMemo=function(O,Y){return C.H.useMemo(O,Y)},xe.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},xe.useReducer=function(O,Y,ie){return C.H.useReducer(O,Y,ie)},xe.useRef=function(O){return C.H.useRef(O)},xe.useState=function(O){return C.H.useState(O)},xe.useSyncExternalStore=function(O,Y,ie){return C.H.useSyncExternalStore(O,Y,ie)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var B_;function Im(){return B_||(B_=1,Dd.exports=Mb()),Dd.exports}var Je=Im(),Od={exports:{}},No={},Md={exports:{}},Vd={};var H_;function Vb(){return H_||(H_=1,(function(r){function e(G,ne){var ue=G.length;G.push(ne);e:for(;0<ue;){var Ve=ue-1>>>1,We=G[Ve];if(0<o(We,ne))G[Ve]=ne,G[ue]=We,ue=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ue=G.pop();if(ue!==ne){G[0]=ue;e:for(var Ve=0,We=G.length,O=We>>>1;Ve<O;){var Y=2*(Ve+1)-1,ie=G[Y],re=Y+1,Ee=G[re];if(0>o(ie,ue))re<We&&0>o(Ee,ie)?(G[Ve]=Ee,G[re]=ue,Ve=re):(G[Ve]=ie,G[Y]=ue,Ve=Y);else if(re<We&&0>o(Ee,ue))G[Ve]=Ee,G[re]=ue,Ve=re;else break e}}return ne}function o(G,ne){var ue=G.sortIndex-ne.sortIndex;return ue!==0?ue:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],_=[],A=1,S=null,M=3,F=!1,W=!1,se=!1,ee=!1,me=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ze(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=i(_)}}function ot(G){if(se=!1,Ze(G),!W)if(i(p)!==null)W=!0,Le||(Le=!0,V());else{var ne=i(_);ne!==null&&At(ot,ne.startTime-G)}}var Le=!1,C=-1,w=5,I=-1;function k(){return ee?!0:!(r.unstable_now()-I<w)}function N(){if(ee=!1,Le){var G=r.unstable_now();I=G;var ne=!0;try{e:{W=!1,se&&(se=!1,fe(C),C=-1),F=!0;var ue=M;try{t:{for(Ze(G),S=i(p);S!==null&&!(S.expirationTime>G&&k());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,M=S.priorityLevel;var We=Ve(S.expirationTime<=G);if(G=r.unstable_now(),typeof We=="function"){S.callback=We,Ze(G),ne=!0;break t}S===i(p)&&a(p),Ze(G)}else a(p);S=i(p)}if(S!==null)ne=!0;else{var O=i(_);O!==null&&At(ot,O.startTime-G),ne=!1}}break e}finally{S=null,M=ue,F=!1}ne=void 0}}finally{ne?V():Le=!1}}}var V;if(typeof de=="function")V=function(){de(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=N,V=function(){nt.postMessage(null)}}else V=function(){me(N,0)};function At(G,ne){C=me(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ue=M;M=ne;try{return G()}finally{M=ue}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=M;M=G;try{return ne()}finally{M=ue}},r.unstable_scheduleCallback=function(G,ne,ue){var Ve=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ve+ue:Ve):ue=Ve,G){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=ue+We,G={id:A++,callback:ne,priorityLevel:G,startTime:ue,expirationTime:We,sortIndex:-1},ue>Ve?(G.sortIndex=ue,e(_,G),i(p)===null&&G===i(_)&&(se?(fe(C),C=-1):se=!0,At(ot,ue-Ve))):(G.sortIndex=We,e(p,G),W||F||(W=!0,Le||(Le=!0,V()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var ne=M;return function(){var ue=M;M=ne;try{return G.apply(this,arguments)}finally{M=ue}}}})(Vd)),Vd}var q_;function kb(){return q_||(q_=1,Md.exports=Vb()),Md.exports}var kd={exports:{}},fn={};var G_;function Ub(){if(G_)return fn;G_=1;var r=Im();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,A)},fn.flushSync=function(p){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=A,a.d.f()}},fn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},fn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},fn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},fn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(p,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},fn.requestFormReset=function(p){a.d.r(p)},fn.unstable_batchedUpdates=function(p,_){return p(_)},fn.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var F_;function Lb(){if(F_)return kd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Ub(),kd.exports}var Q_;function Pb(){if(Q_)return No;Q_=1;var r=kb(),e=Im(),i=Lb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ze=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case me:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case Le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case de:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case Ze:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var At=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ve=[],We=-1;function O(t){return{current:t}}function Y(t){0>We||(t.current=Ve[We],Ve[We]=null,We--)}function ie(t,n){We++,Ve[We]=t.current,t.current=n}var re=O(null),Ee=O(null),Re=O(null),Me=O(null);function Nt(t,n){switch(ie(Re,n),ie(Ee,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function gt(){Y(re),Y(Ee),Y(Re)}function Yi(t){t.memoizedState!==null&&ie(Me,t);var n=re.current,s=o_(n,t.type);n!==s&&(ie(Ee,t),ie(re,s))}function Xi(t){Ee.current===t&&(Y(re),Y(Ee)),Me.current===t&&(Y(Me),wo._currentValue=ue)}var Ns,Ds;function Nn(t){if(Ns===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Ds}var $i=!1;function Ji(t,n){if(!t||$i)return"";$i=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{$i=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nn(s):""}function Zi(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Nn("Activity");default:return""}}function Nr(t){try{var n="",s=null;do n+=Zi(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Rt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Nl=r.unstable_shouldYield,ya=r.unstable_requestPaint,Ot=r.unstable_now,Wi=r.unstable_getCurrentPriorityLevel,Dr=r.unstable_ImmediatePriority,Or=r.unstable_UserBlockingPriority,Ti=r.unstable_NormalPriority,_a=r.unstable_LowPriority,En=r.unstable_IdlePriority,Os=r.log,Mr=r.unstable_setDisableYieldValue,Dn=null,Yt=null;function H(t){if(typeof Os=="function"&&Mr(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Dn,t)}catch{}}var $=Math.clz32?Math.clz32:dt,be=Math.log,pe=Math.LN2;function dt(t){return t>>>=0,t===0?32:31-(be(t)/pe|0)|0}var Fe=256,De=262144,Pe=4194304;function Qe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ye(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Qe(l):(g&=E,g!==0?h=Qe(g):s||(s=E&~t,s!==0&&(h=Qe(s))))):(E=l&~f,E!==0?h=Qe(E):g!==0?h=Qe(g):s||(s=l&~t,s!==0&&(h=Qe(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function yt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var t=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),t}function Mt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Gn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hn(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-$(s),X=1<<Q;E[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&ai(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ai(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Vr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-$(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function kr(t,n){var s=n&-n;return s=(s&42)!==0?1:Se(s),(s&(t.suspendedLanes|n))!==0?0:s}function Se(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _e(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function es(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function li(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var oi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+oi,Zt="__reactProps$"+oi,bi="__reactContainer$"+oi,va="__reactEvents$"+oi,kh="__reactListeners$"+oi,hu="__reactHandles$"+oi,fu="__reactResources$"+oi,Ai="__reactMarker$"+oi;function Ea(t){delete t[Pt],delete t[Zt],delete t[va],delete t[kh],delete t[hu]}function Si(t){var n=t[Pt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[bi]||s[Pt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=p_(t);t!==null;){if(s=t[Pt])return s;t=p_(t)}return n}t=s,s=t.parentNode}return null}function Fn(t){if(t=t[Pt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[Ai]=!0}var Dl=new Set,Ol={};function Ri(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function du(t){return Rt.call(kl,t)?!0:Rt.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function Ta(t,n,s){if(du(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function zt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Ms(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function Tn(t){return t.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,s,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,g,Wt(n)):s!=null?Ll(t,g,Wt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Wt(E):t.removeAttribute("name")}function mu(t,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),st(t)}function Ll(t,n,s){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,s){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wt(s):""}function ks(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(At(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Wt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),st(t)}function bn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||gu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function jl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Pl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Pl(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Us.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var zl=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Ci=null;function Pr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var s=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ur(l)}break e;case"textarea":pu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Vs(t,!!s.multiple,n,!1)}}}var wa=!1;function Ps(t,n,s){if(wa)return t(n,s);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ls!==null||Ci!==null)&&(cc(),Ls&&(n=Ls,t=Ci,Ci=Ls=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function ci(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Zt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Kn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{jr=!1}var Ni=null,Bl=null,zr=null;function Hl(){if(zr)return zr;var t,n=Bl,s=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function hi(){return!1}function nn(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=nn(ns),js=S({},ns,{view:0,detail:0}),ql=nn(js),zs,Ra,Oi,xa=S({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(zs=t.screenX-Oi.screenX,Ra=t.screenY-Oi.screenY):Ra=zs=0,Oi=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Gl=nn(xa),Hr=S({},xa,{dataTransfer:0}),_u=nn(Hr),vu=S({},js,{relatedTarget:0}),qr=nn(vu),Fl=S({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=nn(Fl),Ia=S({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=nn(Ia),bu=S({},ns,{data:0}),Mi=nn(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Bs(){return Ru}var yn=S({},js,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=nn(yn),Iu=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=nn(Iu),u=S({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),m=nn(u),v=S({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),L=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=nn(L),te=S({},ns,{newState:0,oldState:0}),Ce=nn(te),Vt=[9,13,27,32],et=Kn&&"CompositionEvent"in window,Tt=null;Kn&&"documentMode"in document&&(Tt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!Tt,Vi=Kn&&(!et||Tt&&8<Tt&&11>=Tt),fi=" ",di=!1;function Gr(t,n){switch(t){case"keyup":return Vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function tT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function nT(t,n){if(Na)return t==="compositionend"||!et&&Gr(t,n)?(t=Hl(),zr=Bl=Ni=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!iT[t.type]:n==="textarea"}function vp(t,n,s,l){Ls?Ci?Ci.push(l):Ci=[l]:Ls=l,n=yc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ql=null,Kl=null;function sT(t){t_(t,0)}function Cu(t){var n=On(t);if(Ur(n))return t}function Ep(t,n){if(t==="change")return n}var Tp=!1;if(Kn){var Uh;if(Kn){var Lh="oninput"in document;if(!Lh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Lh=typeof bp.oninput=="function"}Uh=Lh}else Uh=!1;Tp=Uh&&(!document.documentMode||9<document.documentMode)}function Ap(){Ql&&(Ql.detachEvent("onpropertychange",Sp),Kl=Ql=null)}function Sp(t){if(t.propertyName==="value"&&Cu(Kl)){var n=[];vp(n,Kl,t,Qn(t)),Ps(sT,n)}}function rT(t,n,s){t==="focusin"?(Ap(),Ql=n,Kl=s,Ql.attachEvent("onpropertychange",Sp)):t==="focusout"&&Ap()}function aT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Kl)}function lT(t,n){if(t==="click")return Cu(n)}function oT(t,n){if(t==="input"||t==="change")return Cu(n)}function uT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:uT;function Yl(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Rt.call(n,h)||!Vn(t[h],n[h]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,n){var s=wp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wp(s)}}function xp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cT=Kn&&"documentMode"in document&&11>=document.documentMode,Da=null,jh=null,Xl=null,zh=!1;function Cp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Da==null||Da!==Ii(l)||(l=Da,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=yc(jh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Da)))}function Fr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Oa={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Bh={},Np={};Kn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qr(t){if(Bh[t])return Bh[t];if(!Oa[t])return t;var n=Oa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Np)return Bh[t]=n[s];return t}var Dp=Qr("animationend"),Op=Qr("animationiteration"),Mp=Qr("animationstart"),hT=Qr("transitionrun"),fT=Qr("transitionstart"),dT=Qr("transitioncancel"),Vp=Qr("transitionend"),kp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function mi(t,n){kp.set(t,n),Ri(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ma=0,qh=0;function Du(){for(var t=Ma,n=qh=Ma=0;n<t;){var s=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Up(s,h,f)}}function Ou(t,n,s,l){Xn[Ma++]=t,Xn[Ma++]=n,Xn[Ma++]=s,Xn[Ma++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,s,l){return Ou(t,n,s,l),Mu(t)}function Kr(t,n){return Ou(t,null,null,n),Mu(t)}function Up(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-$(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Mu(t){if(50<_o)throw _o=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function mT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,s,l){return new mT(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var s=t.alternate;return s===null?(s=kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Lp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=vb(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,s,n,h),t.elementType=I,t.lanes=f,t;case se:return Yr(s.children,h,f,n);case ee:g=8,h|=24;break;case me:return t=kn(12,s,n,h|2),t.elementType=me,t.lanes=f,t;case ot:return t=kn(13,s,n,h),t.elementType=ot,t.lanes=f,t;case Le:return t=kn(19,s,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:g=10;break e;case fe:g=9;break e;case Ze:g=11;break e;case C:g=14;break e;case w:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=kn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,s,l){return t=kn(7,t,l,n),t.lanes=s,t}function Qh(t,n,s){return t=kn(6,t,null,n),t.lanes=s,t}function Pp(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=jp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Nr(n)},jp.set(t,n),n)}return{value:t,source:n,stack:Nr(n)}}var ka=[],Ua=0,ku=null,$l=0,Jn=[],Zn=0,Hs=null,ki=1,Ui="";function rs(t,n){ka[Ua++]=$l,ka[Ua++]=ku,ku=t,$l=n}function zp(t,n,s){Jn[Zn++]=ki,Jn[Zn++]=Ui,Jn[Zn++]=Hs,Hs=t;var l=ki;t=Ui;var h=32-$(l)-1;l&=~(1<<h),s+=1;var f=32-$(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,ki=1<<32-$(n)+h|s<<h|l,Ui=f+t}else ki=1<<f|s<<h|l,Ui=t}function Yh(t){t.return!==null&&(rs(t,1),zp(t,1,0))}function Xh(t){for(;t===ku;)ku=ka[--Ua],ka[Ua]=null,$l=ka[--Ua],ka[Ua]=null;for(;t===Hs;)Hs=Jn[--Zn],Jn[Zn]=null,Ui=Jn[--Zn],Jn[Zn]=null,ki=Jn[--Zn],Jn[Zn]=null}function Bp(t,n){Jn[Zn++]=ki,Jn[Zn++]=Ui,Jn[Zn++]=Hs,ki=n.id,Ui=n.overflow,Hs=t}var sn=null,_t=null,Ge=!1,qs=null,Wn=!1,$h=Error(a(519));function Gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl($n(n,t)),$h}function Hp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[Zt]=l,s){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<Eo.length;s++)Ue(Eo[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),ks(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||r_(n.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Gs(t,!0)}function qp(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:sn=sn.return}}function La(t){if(t!==sn)return!1;if(!Ge)return qp(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pd(t.type,t.memoizedProps)),s=!s),s&&_t&&Gs(t),qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=m_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=m_(t)}else n===27?(n=_t,sr(t.type)?(t=Ed,Ed=null,_t=t):_t=n):_t=sn?ti(t.stateNode.nextSibling):null;return!0}function Xr(){_t=sn=null,Ge=!1}function Jh(){var t=qs;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),qs=null),t}function Jl(t){qs===null?qs=[t]:qs.push(t)}var Zh=O(null),$r=null,as=null;function Fs(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function ls(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Vn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&ef(n,t,s,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Gp($r,t)}function Lu(t,n){return $r===null&&Jr(t),Gp(t,n)}function Gp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return s}var pT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},gT=r.unstable_scheduleCallback,yT=r.unstable_NormalPriority,Bt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new pT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&gT(yT,function(){t.controller.abort()})}var Wl=null,nf=0,ja=0,za=null;function _T(t,n){if(Wl===null){var s=Wl=[];nf=0,ja=ad(),za={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Fp,Fp),n}function Fp(){if(--nf===0&&Wl!==null){za!==null&&(za.status="fulfilled");var t=Wl;Wl=null,ja=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Qp=G.S;G.S=function(t,n){Cy=Ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_T(t,n),Qp!==null&&Qp(t,n)};var Zr=O(null);function sf(){var t=Zr.current;return t!==null?t:mt.pooledCache}function Pu(t,n){n===null?ie(Zr,Zr.current):ie(Zr,n.pool)}function Kp(){var t=sf();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),rf=Error(a(474)),ju=Error(a(542)),zu={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ui,ui),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t}throw ea=n,Ba}}function Wr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ea=s,Ba):s}}var ea=null;function $p(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function Jp(t){if(t===Ba||t===ju)throw Error(a(483))}var Ha=null,eo=0;function Bu(t){var n=eo;return eo+=1,Ha===null&&(Ha=[]),Xp(Ha,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zp(t){function n(U,D){if(t){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=ss(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,K){return D===null||D.tag!==6?(D=Qh(P,U.mode,K),D.return=U,D):(D=h(D,P),D.return=U,D)}function x(U,D,P,K){var he=P.type;return he===se?Q(U,D,P.props.children,K,P.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Wr(he)===D.type)?(D=h(D,P.props),to(D,P),D.return=U,D):(D=Vu(P.type,P.key,P.props,null,U.mode,K),to(D,P),D.return=U,D)}function j(U,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Kh(P,U.mode,K),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function Q(U,D,P,K,he){return D===null||D.tag!==7?(D=Yr(P,U.mode,K,he),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Vu(D.type,D.key,D.props,null,U.mode,P),to(P,D),P.return=U,P;case W:return D=Kh(D,U.mode,P),D.return=U,D;case w:return D=Wr(D),X(U,D,P)}if(At(D)||V(D))return D=Yr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,Bu(D),P);if(D.$$typeof===de)return X(U,Lu(U,D),P);Hu(U,D)}return null}function z(U,D,P,K){var he=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(U,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===he?x(U,D,P,K):null;case W:return P.key===he?j(U,D,P,K):null;case w:return P=Wr(P),z(U,D,P,K)}if(At(P)||V(P))return he!==null?null:Q(U,D,P,K,null);if(typeof P.then=="function")return z(U,D,Bu(P),K);if(P.$$typeof===de)return z(U,D,Lu(U,P),K);Hu(U,P)}return null}function q(U,D,P,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(D,U,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return U=U.get(K.key===null?P:K.key)||null,x(D,U,K,he);case W:return U=U.get(K.key===null?P:K.key)||null,j(D,U,K,he);case w:return K=Wr(K),q(U,D,P,K,he)}if(At(K)||V(K))return U=U.get(P)||null,Q(D,U,K,he,null);if(typeof K.then=="function")return q(U,D,P,Bu(K),he);if(K.$$typeof===de)return q(U,D,P,Lu(D,K),he);Hu(D,K)}return null}function le(U,D,P,K){for(var he=null,Xe=null,oe=D,Oe=D=0,ze=null;oe!==null&&Oe<P.length;Oe++){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var $e=z(U,oe,P[Oe],K);if($e===null){oe===null&&(oe=ze);break}t&&oe&&$e.alternate===null&&n(U,oe),D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e,oe=ze}if(Oe===P.length)return s(U,oe),Ge&&rs(U,Oe),he;if(oe===null){for(;Oe<P.length;Oe++)oe=X(U,P[Oe],K),oe!==null&&(D=f(oe,D,Oe),Xe===null?he=oe:Xe.sibling=oe,Xe=oe);return Ge&&rs(U,Oe),he}for(oe=l(oe);Oe<P.length;Oe++)ze=q(oe,U,Oe,P[Oe],K),ze!==null&&(t&&ze.alternate!==null&&oe.delete(ze.key===null?Oe:ze.key),D=f(ze,D,Oe),Xe===null?he=ze:Xe.sibling=ze,Xe=ze);return t&&oe.forEach(function(ur){return n(U,ur)}),Ge&&rs(U,Oe),he}function ve(U,D,P,K){if(P==null)throw Error(a(151));for(var he=null,Xe=null,oe=D,Oe=D=0,ze=null,$e=P.next();oe!==null&&!$e.done;Oe++,$e=P.next()){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var ur=z(U,oe,$e.value,K);if(ur===null){oe===null&&(oe=ze);break}t&&oe&&ur.alternate===null&&n(U,oe),D=f(ur,D,Oe),Xe===null?he=ur:Xe.sibling=ur,Xe=ur,oe=ze}if($e.done)return s(U,oe),Ge&&rs(U,Oe),he;if(oe===null){for(;!$e.done;Oe++,$e=P.next())$e=X(U,$e.value,K),$e!==null&&(D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e);return Ge&&rs(U,Oe),he}for(oe=l(oe);!$e.done;Oe++,$e=P.next())$e=q(oe,U,Oe,$e.value,K),$e!==null&&(t&&$e.alternate!==null&&oe.delete($e.key===null?Oe:$e.key),D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e);return t&&oe.forEach(function(Nb){return n(U,Nb)}),Ge&&rs(U,Oe),he}function ft(U,D,P,K){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var he=P.key;D!==null;){if(D.key===he){if(he=P.type,he===se){if(D.tag===7){s(U,D.sibling),K=h(D,P.props.children),K.return=U,U=K;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Wr(he)===D.type){s(U,D.sibling),K=h(D,P.props),to(K,P),K.return=U,U=K;break e}s(U,D);break}else n(U,D);D=D.sibling}P.type===se?(K=Yr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Vu(P.type,P.key,P.props,null,U.mode,K),to(K,P),K.return=U,U=K)}return g(U);case W:e:{for(he=P.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),K=h(D,P.children||[]),K.return=U,U=K;break e}else{s(U,D);break}else n(U,D);D=D.sibling}K=Kh(P,U.mode,K),K.return=U,U=K}return g(U);case w:return P=Wr(P),ft(U,D,P,K)}if(At(P))return le(U,D,P,K);if(V(P)){if(he=V(P),typeof he!="function")throw Error(a(150));return P=he.call(P),ve(U,D,P,K)}if(typeof P.then=="function")return ft(U,D,Bu(P),K);if(P.$$typeof===de)return ft(U,D,Lu(U,P),K);Hu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,P),K.return=U,U=K):(s(U,D),K=Qh(P,U.mode,K),K.return=U,U=K),g(U)):s(U,D)}return function(U,D,P,K){try{eo=0;var he=ft(U,D,P,K);return Ha=null,he}catch(oe){if(oe===Ba||oe===ju)throw oe;var Xe=kn(29,oe,null,U.mode);return Xe.lanes=K,Xe.return=U,Xe}}}var ta=Zp(!0),Wp=Zp(!1),Qs=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Mu(t),Up(t,null,s),n}return Ou(t,l,n,s),Mu(t)}function no(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Vr(t,s)}}function of(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function io(){if(uf){var t=za;if(t!==null)throw t}}function so(t,n,s,l){uf=!1;var h=t.updateQueue;Qs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;g=0,Q=j=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(je&z)===z:(l&z)===z){z!==0&&z===ja&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ve=E;z=n;var ft=s;switch(ve.tag){case 1:if(le=ve.payload,typeof le=="function"){X=le.call(ft,X,z);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ve.payload,z=typeof le=="function"?le.call(ft,X,z):le,z==null)break e;X=S({},X,z);break e;case 2:Qs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=q,x=X):Q=Q.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ws|=g,t.lanes=g,t.memoizedState=X}}function eg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function tg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)eg(s[t],n)}var qa=O(null),qu=O(0);function ng(t,n){t=gs,ie(qu,t),ie(qa,n),gs=t|n.baseLanes}function cf(){ie(qu,gs),ie(qa,qa.current)}function hf(){gs=qu.current,Y(qa),Y(qu)}var Un=O(null),ei=null;function Xs(t){var n=t.alternate;ie(kt,kt.current&1),ie(Un,t),ei===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ei=t)}function ff(t){ie(kt,kt.current),ie(Un,t),ei===null&&(ei=t)}function ig(t){t.tag===22?(ie(kt,kt.current),ie(Un,t),ei===null&&(ei=t)):$s()}function $s(){ie(kt,kt.current),ie(Un,Un.current)}function Ln(t){Y(Un),ei===t&&(ei=null),Y(kt)}var kt=O(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Ne=null,ct=null,Ht=null,Fu=!1,Ga=!1,na=!1,Qu=0,ro=0,Fa=null,ET=0;function It(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Vn(t[s],n[s]))return!1;return!0}function mf(t,n,s,l,h,f){return os=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?zg:Cf,na=!1,f=s(l,h),na=!1,Ga&&(f=rg(n,s,l,h)),sg(t),f}function sg(t){G.H=oo;var n=ct!==null&&ct.next!==null;if(os=0,Ht=ct=Ne=null,Fu=!1,ro=0,Fa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Uu(t)&&(qt=!0))}function rg(t,n,s,l){Ne=t;var h=0;do{if(Ga&&(Fa=null),ro=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Bg,f=n(s,l)}while(Ga);return f}function TT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ne.flags|=1024),n}function pf(){var t=Qu!==0;return Qu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}os=0,Ht=ct=Ne=null,Ga=!1,ro=Qu=0,Fa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Ut(){if(ct===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Ht===null?Ne.memoizedState:Ht.next;if(n!==null)Ht=n,ct=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Fa===null&&(Fa=[]),t=Xp(Fa,t,n),n=Ne,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zg:Cf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===de)return rn(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=k;return n.index++,s}function us(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Ut();return vf(n,ct,t)}function vf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(je&X)===X:(os&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===ja&&(Q=!0);else if((os&z)===z){j=j.next,z===ja&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=X,g=f):x=x.next=X,Ne.lanes|=z,Ws|=z;X=j.action,na&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Ne.lanes|=X,Ws|=X;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!Vn(f,t.memoizedState)&&(qt=!0,Q&&(s=za,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=Ut(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Vn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ag(t,n,s){var l=Ne,h=Ut(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Vn((ct||h).memoizedState,s);if(g&&(h.memoizedState=s,qt=!0),h=h.queue,Af(ug.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},og.bind(null,l,h,s,n),null),mt===null)throw Error(a(349));f||(os&127)!==0||lg(l,n,s)}return s}function lg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=Ku(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function og(t,n,s,l){n.value=s,n.getSnapshot=l,cg(n)&&hg(t)}function ug(t,n,s){return s(function(){cg(n)&&hg(t)})}function cg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Vn(t,s)}catch{return!0}}function hg(t){var n=Kr(t,2);n!==null&&xn(n,t,2)}function Tf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),na){H(!0);try{s()}finally{H(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function fg(t,n,s,l){return t.baseState=s,vf(t,ct,typeof l=="function"?l:us)}function bT(t,n,s,l,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,dg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function dg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),x=G.S;x!==null&&x(g,E),mg(t,n,E)}catch(j){bf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),mg(t,n,f)}catch(j){bf(t,n,j)}}function mg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){pg(t,n,l)},function(l){return bf(t,n,l)}):pg(t,n,s)}function pg(t,n,s){n.status="fulfilled",n.value=s,gg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,dg(t,s)))}function bf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,gg(n),n=n.next;while(n!==l)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yg(t,n){return n}function _g(t,n){if(Ge){var s=mt.formState;if(s!==null){e:{var l=Ne;if(Ge){if(_t){t:{for(var h=_t,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_t=ti(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},s.queue=l,s=Lg.bind(null,Ne,l),l.dispatch=s,l=Tf(!1),f=If.bind(null,Ne,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=bT.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function vg(t){var n=Ut();return Eg(n,ct,t)}function Eg(t,n,s){if(n=vf(t,n,yg)[0],t=Xu(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(g){throw g===Ba?ju:g}else l=n;n=Ut();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,Qa(9,{destroy:void 0},AT.bind(null,h,s),null)),[l,f,t]}function AT(t,n){t.action=n}function Tg(t){var n=Ut(),s=ct;if(s!==null)return Eg(n,s,t);Ut(),n=n.memoizedState,s=Ut();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Qa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Ku(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function bg(){return Ut().memoizedState}function $u(t,n,s,l){var h=_n();Ne.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ju(t,n,s,l){var h=Ut();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&df(l,ct.memoizedState.deps)?h.memoizedState=Qa(n,f,s,l):(Ne.flags|=t,h.memoizedState=Qa(1|n,f,s,l))}function Ag(t,n){$u(8390656,8,t,n)}function Af(t,n){Ju(2048,8,t,n)}function ST(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Ku(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Sg(t){var n=Ut().memoizedState;return ST({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wg(t,n){return Ju(4,2,t,n)}function Rg(t,n){return Ju(4,4,t,n)}function xg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ig(t,n,s){s=s!=null?s.concat([t]):null,Ju(4,4,xg.bind(null,n,t),s)}function Sf(){}function Cg(t,n){var s=Ut();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ng(t,n){var s=Ut();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),na){H(!0);try{t()}finally{H(!1)}}return s.memoizedState=[l,n],l}function wf(t,n,s){return s===void 0||(os&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Dy(),Ne.lanes|=t,Ws|=t,s)}function Dg(t,n,s,l){return Vn(s,n)?s:qa.current!==null?(t=wf(t,s,l),Vn(t,n)||(qt=!0),t):(os&42)===0||(os&1073741824)!==0&&(je&261930)===0?(qt=!0,t.memoizedState=s):(t=Dy(),Ne.lanes|=t,Ws|=t,n)}function Og(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,If(t,!1,n,s);try{var x=h(),j=G.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=vT(x,l);lo(t,n,Q,zn(t))}else lo(t,n,l,zn(t))}catch(X){lo(t,n,{then:function(){},status:"rejected",reason:X},zn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function wT(){}function Rf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Mg(t).queue;Og(t,h,n,ue,s===null?wT:function(){return Vg(t),s(l)})}function Mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ue},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Mg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},zn())}function xf(){return rn(wo)}function kg(){return Ut().memoizedState}function Ug(){return Ut().memoizedState}function RT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=zn();t=Ks(s);var l=Ys(n,t,s);l!==null&&(xn(l,n,s),no(l,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function xT(t,n,s){var l=zn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Pg(n,s):(s=Gh(t,n,s,l),s!==null&&(xn(s,t,l),jg(s,n,l)))}function Lg(t,n,s){var l=zn();lo(t,n,s,l)}function lo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,g))return Ou(t,n,h,0),mt===null&&Du(),!1}catch{}if(s=Gh(t,n,h,l),s!==null)return xn(s,t,l),jg(s,n,l),!0}return!1}function If(t,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,l,2),n!==null&&xn(n,t,2)}function Zu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Pg(t,n){Ga=Fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function jg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Vr(t,s)}}var oo={readContext:rn,use:Yu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};oo.useEffectEvent=It;var zg={readContext:rn,use:Yu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Ag,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,$u(4194308,4,xg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var l=t();if(na){H(!0);try{t()}finally{H(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_n();if(s!==void 0){var h=s(n);if(na){H(!0);try{s(n)}finally{H(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Lg.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=_n();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Og.bind(null,Ne,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ne,h=_n();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),mt===null)throw Error(a(349));(je&127)!==0||lg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ag(ug.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},og.bind(null,l,f,s,n),null),s},useId:function(){var t=_n(),n=mt.identifierPrefix;if(Ge){var s=Ui,l=ki;s=(l&~(1<<32-$(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ET++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:_g,useActionState:_g,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return _n().memoizedState=RT.bind(null,Ne)},useEffectEvent:function(t){var n=_n(),s={impl:t};return n.memoizedState=s,function(){if((tt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:rn,use:Yu,useCallback:Cg,useContext:rn,useEffect:Af,useImperativeHandle:Ig,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Xu,useRef:bg,useState:function(){return Xu(us)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Ut();return Dg(s,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(us)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:xf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var s=Ut();return fg(s,ct,t,n)},useMemoCache:_f,useCacheRefresh:Ug};Cf.useEffectEvent=Sg;var Bg={readContext:rn,use:Yu,useCallback:Cg,useContext:rn,useEffect:Af,useImperativeHandle:Ig,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Ef,useRef:bg,useState:function(){return Ef(us)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Ut();return ct===null?wf(s,t,n):Dg(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ef(us)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:xf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var s=Ut();return ct!==null?fg(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ug};Bg.useEffectEvent=Sg;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Ks(l);h.payload=n,s!=null&&(h.callback=s),n=Ys(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=zn(),h=Ks(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ys(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zn(),l=Ks(s);l.tag=2,n!=null&&(l.callback=n),n=Ys(t,l,s),n!==null&&(xn(n,t,s),no(n,t,s))}};function Hg(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yl(s,l)||!Yl(h,f):!0}function qg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function ia(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Gg(t){Nu(t)}function Fg(t){console.error(t)}function Qg(t){Nu(t)}function Wu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Ks(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,n)},s}function Yg(t){return t=Ks(t),t.tag=3,t}function Xg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Kg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kg(n,s,l),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function IT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Pa(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?hc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return s.flags|=65536,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(t,l,h)),!1}throw Error(a(435,s.tag))}return id(t,l,h),hc(),!1}if(Ge)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),Jl($n(t,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Jl($n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,s),h=Of(t.stateNode,l,h),of(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,s),yo===null?yo=[f]:yo.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=$n(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yg(h),Xg(h,t,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),qt=!1;function an(t,n,s,l){n.child=t===null?Wp(n,null,s,l):ta(n,t.child,s,l)}function $g(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Jr(n),l=mf(t,n,s,g,f,h),E=pf(),t!==null&&!qt?(gf(t,n,h),cs(t,n,h)):(Ge&&E&&Yh(n),n.flags|=1,an(t,n,l,h),n.child)}function Jg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,l,h)):(t=Vu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(g,l)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Vf(t,n,s,l,h)}function Wg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ey(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?ng(n,f):cf(),ig(n);else return l=n.lanes=536870912,ey(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Pu(n,f.cachePool),ng(n,f),$s(),n.memoizedState=null):(t!==null&&Pu(n,null),cf(),$s());return an(t,n,h,s),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(t,n,s,l,h){var f=sf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Pu(n,null),cf(),ig(n),t!==null&&Pa(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ty(t,n,s){return ta(n,t.child,null,s),t=ec(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function CT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,uo(null,t);if(ff(n),(t=_t)?(t=d_(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Pp(t),s.return=n,n.child=s,sn=n,_t=null)):t=null,t===null)throw Gs(n);return n.lanes=536870912,null}return ec(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ty(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||Pa(t,n,s,!1),h=(s&t.childLanes)!==0,qt||h){if(l=mt,l!==null&&(g=kr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Kr(t,g),xn(l,t,g),Mf;hc(),n=ty(t,n,s)}else t=f.treeContext,_t=ti(g.nextSibling),sn=n,Ge=!0,qs=null,Wn=!1,t!==null&&Bp(n,t),n=ec(n,l),n.flags|=4096;return n}return t=ss(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,l,h){return Jr(n),s=mf(t,n,s,l,void 0,h),l=pf(),t!==null&&!qt?(gf(t,n,h),cs(t,n,h)):(Ge&&l&&Yh(n),n.flags|=1,an(t,n,s,h),n.child)}function ny(t,n,s,l,h,f){return Jr(n),n.updateQueue=null,s=rg(n,l,s,h),sg(t),l=pf(),t!==null&&!qt?(gf(t,n,f),cs(t,n,f)):(Ge&&l&&Yh(n),n.flags|=1,an(t,n,s,f),n.child)}function iy(t,n,s,l,h){if(Jr(n),n.stateNode===null){var f=Va,g=s.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=ia(s,E);f.props=x;var j=f.context,Q=s.contextType;g=Va,typeof Q=="object"&&Q!==null&&(g=rn(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&qg(n,f,l,g),Qs=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),j=n.memoizedState,E||z!==j||Qs?(typeof X=="function"&&(Nf(n,s,X,l),j=n.memoizedState),(x=Qs||Hg(n,s,x,l,z,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),g=n.memoizedProps,Q=ia(s,g),f.props=Q,X=n.pendingProps,z=f.context,j=s.contextType,x=Va,typeof j=="object"&&j!==null&&(x=rn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==x)&&qg(n,f,l,x),Qs=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var q=n.memoizedState;g!==X||z!==q||Qs||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(Q=Qs||Hg(n,s,Q,l,z,q,x)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,tc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,s,h)):an(t,n,s,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function sy(t,n,s,l){return Xr(),n.flags|=256,an(t,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Kp()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jn),t}function ry(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Xs(n):$s(),(t=_t)?(t=d_(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Pp(t),s.return=n,n.child=s,sn=n,_t=null)):t=null,t===null)throw Gs(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?($s(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=Yr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,uo(null,l)):(Xs(n),Pf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=jf(t,n,s)):n.memoizedState!==null?($s(),n.child=t.child,n.flags|=128,n=null):($s(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=Yr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ta(n,t.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,n=uo(null,l));else if(Xs(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Jl({value:l,source:null,stack:null}),n=jf(t,n,s)}else if(qt||Pa(t,n,s,!1),g=(s&t.childLanes)!==0,qt||g){if(g=mt,g!==null&&(l=kr(g,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,Kr(t,l),xn(g,t,l),Mf;_d(E)||hc(),n=jf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,_t=ti(E.nextSibling),sn=n,Ge=!0,qs=null,Wn=!1,t!==null&&Bp(n,t),n=Pf(n,l.children),n.flags|=4096);return n}return h?($s(),E=l.fallback,h=n.mode,x=t.child,j=x.sibling,l=ss(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=ss(j,E):(E=Yr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,uo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(x=Bt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Kp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Lf(t,g,s),n.memoizedState=kf,uo(t.child,l)):(Xs(n),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Pf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function jf(t,n,s){return ta(n,t.child,null,s),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ay(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ly(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=kt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(kt,g),an(t,n,l,s),l=Ge?$l:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,s,n);else if(t.tag===19)ay(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function cs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ws|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Pa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ss(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function NT(t,n,s){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Fs(n,Bt,t.memoizedState.cache),Xr();break;case 27:case 5:Yi(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ry(t,n,s):(Xs(n),t=cs(t,n,s),t!==null?t.sibling:null);Xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Pa(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ly(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(kt,kt.current),l)break;return null;case 22:return n.lanes=0,Wg(t,n,s,n.pendingProps);case 24:Fs(n,Bt,t.memoizedState.cache)}return cs(t,n,s)}function oy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return qt=!1,NT(t,n,s);qt=(t.flags&131072)!==0}else qt=!1,Ge&&(n.flags&1048576)!==0&&zp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Wr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=ia(t,l),n.tag=1,n=iy(null,n,t,l,s)):(n.tag=0,n=Vf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ze){n.tag=11,n=$g(null,n,t,l,s);break e}else if(h===C){n.tag=14,n=Jg(null,n,t,l,s);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ia(l,n.pendingProps),iy(t,n,l,h,s);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),so(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Fs(n,Bt,l),l!==f.cache&&ef(n,[Bt],s,!0),io(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(t,n,l,s);break e}else if(l!==h){h=$n(Error(a(424)),n),Jl(h),n=sy(t,n,l,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_t=ti(t.firstChild),sn=n,Ge=!0,qs=null,Wn=!0,s=Wp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xr(),l===h){n=cs(t,n,s);break e}an(t,n,l,s)}n=n.child}return n;case 26:return tc(t,n),t===null?(s=v_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,l=_c(Re.current).createElement(s),l[Pt]=n,l[Zt]=t,ln(l,s,t),jt(l),n.stateNode=l):n.memoizedState=v_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Yi(n),t===null&&Ge&&(l=n.stateNode=g_(n.type,n.pendingProps,Re.current),sn=n,Wn=!0,h=_t,sr(n.type)?(Ed=h,_t=ti(l.firstChild)):_t=h),an(t,n,n.pendingProps.children,s),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=_t)&&(l=ab(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,sn=n,_t=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Gs(n)),Yi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,pd(h,f)?l=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,TT,null,null,s),wo._currentValue=h),tc(t,n),an(t,n,l,s),n.child;case 6:return t===null&&Ge&&((t=s=_t)&&(s=lb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,sn=n,_t=null,t=!0):t=!1),t||Gs(n)),null;case 13:return ry(t,n,s);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,s):an(t,n,l,s),n.child;case 11:return $g(t,n,n.type,n.pendingProps,s);case 7:return an(t,n,n.pendingProps,s),n.child;case 8:return an(t,n,n.pendingProps.children,s),n.child;case 12:return an(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Fs(n,n.type,l.value),an(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=rn(h),l=l(h),n.flags|=1,an(t,n,l,s),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,s);case 15:return Zg(t,n,n.type,n.pendingProps,s);case 19:return ly(t,n,s);case 31:return CT(t,n,s);case 22:return Wg(t,n,s,n.pendingProps);case 24:return Jr(n),l=rn(Bt),t===null?(h=sf(),h===null&&(h=mt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),Fs(n,Bt,h)):((t.lanes&s)!==0&&(lf(t,n),so(n,null,null,s),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fs(n,Bt,l)):(l=f.cache,Fs(n,Bt,l),l!==h.cache&&ef(n,[Bt],s,!0))),an(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Hf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ky())t.flags|=8192;else throw ea=zu,rf}else t.flags&=-16777217}function uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(n))if(ky())t.flags|=8192;else throw ea=zu,rf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ye():536870912,t.lanes|=n,$a|=n)}function co(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function DT(t,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ls(Bt),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(La(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),vt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(vt(n),uy(n,f)):(vt(n),Hf(n,h,null,l,s))):f?f!==t.memoizedState?(hs(n),vt(n),uy(n,f)):(vt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&hs(n),vt(n),Hf(n,h,t,l,s)),null;case 27:if(Xi(n),s=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}t=re.current,La(n)?Hp(n):(t=g_(h,l,s),n.stateNode=t,hs(n))}return vt(n),null;case 5:if(Xi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}if(f=re.current,La(n))Hp(n);else{var g=_c(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Pt]=n,f[Zt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(ln(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hs(n)}}return vt(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,La(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,s)),t||Gs(n,!0)}else t=_c(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return vt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(a(558))}return vt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ic(n,n.updateQueue),vt(n),null);case 4:return gt(),t===null&&cd(n.stateNode.containerInfo),vt(n),null;case 10:return ls(n.type),vt(n),null;case 19:if(Y(kt),l=n.memoizedState,l===null)return vt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Lp(s,t),s=s.sibling;return ie(kt,kt.current&1|2),Ge&&rs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ot()>oc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return vt(n),null}else 2*Ot()-l.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ot(),t.sibling=null,s=kt.current,ie(kt,h?s&1|2:s&1),Ge&&rs(n,l.treeForkCount),t):(vt(n),null);case 22:case 23:return Ln(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),s=n.updateQueue,s!==null&&ic(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Zr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ls(Bt),vt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(Bt),gt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xi(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(kt),null;case 4:return gt(),null;case 10:return ls(n.type),null;case 22:case 23:return Ln(n),hf(),t!==null&&Y(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(Bt),null;case 25:return null;default:return null}}function cy(t,n){switch(Xh(n),n.tag){case 3:ls(Bt),gt();break;case 26:case 27:case 5:Xi(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:Y(kt);break;case 10:ls(n.type);break;case 22:case 23:Ln(n),hf(),t!==null&&Y(Zr);break;case 24:ls(Bt)}}function ho(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){at(n,n.return,E)}}function Js(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=s,j=E;try{j()}catch(Q){at(h,x,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function hy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{tg(n,s)}catch(l){at(t,t.return,l)}}}function fy(t,n,s){s.props=ia(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){at(t,n,l)}}function fo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){at(t,n,h)}}function Li(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,n,h)}else s.current=null}function dy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;eb(l,t.type,s,n),l[Zt]=n}catch(h){at(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&sr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function sc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(sc(t,n,s),t=t.sibling;t!==null;)sc(t,n,s),t=t.sibling}function py(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,s),n[Pt]=t,n[Zt]=s}catch(f){at(t,t.return,f)}}var fs=!1,Gt=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,en=null;function MT(t,n){if(t=t.containerInfo,dd=wc,t=Ip(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,x=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(x=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===s&&++j===h&&(E=g),z===f&&++Q===l&&(x=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},wc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=ia(s.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){at(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function yy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s),l&4&&ho(5,s);break;case 1:if(ms(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){at(s,s.return,g)}else{var h=ia(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(s,s.return,g)}}l&64&&hy(s),l&512&&fo(s,s.return);break;case 3:if(ms(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tg(t,n)}catch(g){at(s,s.return,g)}}break;case 27:n===null&&l&4&&py(s);case 26:case 5:ms(t,s),n===null&&l&4&&dy(s),l&512&&fo(s,s.return);break;case 12:ms(t,s);break;case 31:ms(t,s),l&4&&Ey(t,s);break;case 13:ms(t,s),l&4&&Ty(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=HT.bind(null,s),ob(t,s))));break;case 22:if(l=s.memoizedState!==null||fs,!l){n=n!==null&&n.memoizedState!==null||Gt,h=fs;var f=Gt;fs=l,(Gt=n)&&!f?ps(t,s,(s.subtreeFlags&8772)!==0):ms(t,s),fs=h,Gt=f}break;case 30:break;default:ms(t,s)}}function _y(t){var n=t.alternate;n!==null&&(t.alternate=null,_y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,An=!1;function ds(t,n,s){for(s=s.child;s!==null;)vy(t,n,s),s=s.sibling}function vy(t,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Dn,s)}catch{}switch(s.tag){case 26:Gt||Li(s,n),ds(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Gt||Li(s,n);var l=bt,h=An;sr(s.type)&&(bt=s.stateNode,An=!1),ds(t,n,s),bo(s.stateNode),bt=l,An=h;break;case 5:Gt||Li(s,n);case 6:if(l=bt,h=An,bt=null,ds(t,n,s),bt=l,An=h,bt!==null)if(An)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(s.stateNode)}catch(f){at(s,n,f)}else try{bt.removeChild(s.stateNode)}catch(f){at(s,n,f)}break;case 18:bt!==null&&(An?(t=bt,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),sl(t)):h_(bt,s.stateNode));break;case 4:l=bt,h=An,bt=s.stateNode.containerInfo,An=!0,ds(t,n,s),bt=l,An=h;break;case 0:case 11:case 14:case 15:Js(2,s,n),Gt||Js(4,s,n),ds(t,n,s);break;case 1:Gt||(Li(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&fy(s,n,l)),ds(t,n,s);break;case 21:ds(t,n,s);break;case 22:Gt=(l=Gt)||s.memoizedState!==null,ds(t,n,s),Gt=l;break;default:ds(t,n,s)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(s){at(n,n.return,s)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(s){at(n,n.return,s)}}function VT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var s=VT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=qT.bind(null,t,l);l.then(h,h)}})}function Sn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){bt=E.stateNode,An=!1;break e}break;case 5:bt=E.stateNode,An=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(bt===null)throw Error(a(160));vy(f,g,h),bt=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var pi=null;function by(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),wn(t),l&4&&(Js(3,t,t.return),ho(3,t),Js(5,t,t.return));break;case 1:Sn(n,t),wn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&64&&fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=pi;if(Sn(n,t),wn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,l,s),f[Pt]=t,jt(f),l=f;break e;case"link":var g=b_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,s),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,jt(f),l=f}t.stateNode=l}else A_(h,t.type,t.stateNode);else t.stateNode=T_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?A_(h,t.type,t.stateNode):T_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(n,t),wn(t),l&512&&(Gt||s===null||Li(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(n,t),wn(t),l&512&&(Gt||s===null||Li(s,s.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(le){at(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(Sn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(le){at(t,t.return,le)}}break;case 3:if(Tc=null,h=pi,pi=vc(n.containerInfo),Sn(n,t),pi=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(le){at(t,t.return,le)}Qf&&(Qf=!1,Ay(t));break;case 4:l=pi,pi=vc(t.stateNode.containerInfo),Sn(n,t),wn(t),pi=l;break;case 12:Sn(n,t),wn(t);break;case 31:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:Sn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=Ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=fs,Q=Gt;if(fs=j||h,Gt=Q||x,Sn(n,t),Gt=Q,fs=j,wn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||fs||Gt||sa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){at(x,x.return,le)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(le){at(x,x.return,le)}}}else if(n.tag===18){if(s===null){x=n;try{var q=x.stateNode;h?f_(q,!0):f_(x.stateNode,!1)}catch(le){at(x,x.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rc(t,s))));break;case 19:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(my(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);sc(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(bn(g,""),s.flags&=-33);var E=Gf(t);sc(t,E,g);break;case 3:case 4:var x=s.stateNode.containerInfo,j=Gf(t);Ff(t,j,x);break;default:throw Error(a(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),sa(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&fy(n,n.return,s),sa(n);break;case 27:bo(n.stateNode);case 26:case 5:Li(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function ps(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,s),ho(4,f);break;case 1:if(ps(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){at(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)eg(x[h],E)}catch(j){at(l,l.return,j)}}s&&g&64&&hy(f),fo(f,f.return);break;case 27:py(f);case 26:case 5:ps(h,f,s),s&&l===null&&g&4&&dy(f),fo(f,f.return);break;case 12:ps(h,f,s);break;case 31:ps(h,f,s),s&&g&4&&Ey(h,f);break;case 13:ps(h,f,s),s&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&ps(h,f,s),fo(f,f.return);break;case 30:break;default:ps(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Zl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function gi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(t,n,s,l),n=n.sibling}function Sy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,s,l),h&2048&&ho(9,n);break;case 1:gi(t,n,s,l);break;case 3:gi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){gi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){at(n,n.return,x)}}else gi(t,n,s,l);break;case 31:gi(t,n,s,l);break;case 13:gi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,s,l):mo(t,n):f._visibility&2?gi(t,n,s,l):(f._visibility|=2,Ka(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:gi(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:gi(t,n,s,l)}}function Ka(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,x=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,E,x,h),ho(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ka(f,g,E,x,h):mo(f,g):(Q._visibility|=2,Ka(f,g,E,x,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:Ka(f,g,E,x,h),h&&j&2048&&Yf(g.alternate,g);break;default:Ka(f,g,E,x,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:mo(s,l),h&2048&&Kf(l.alternate,l);break;case 24:mo(s,l),h&2048&&Yf(l.alternate,l);break;default:mo(s,l)}n=n.sibling}}var po=8192;function Ya(t,n,s){if(t.subtreeFlags&po)for(t=t.child;t!==null;)wy(t,n,s),t=t.sibling}function wy(t,n,s){switch(t.tag){case 26:Ya(t,n,s),t.flags&po&&t.memoizedState!==null&&Eb(s,pi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,s);break;case 3:case 4:var l=pi;pi=vc(t.stateNode.containerInfo),Ya(t,n,s),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ya(t,n,s),po=l):Ya(t,n,s));break;default:Ya(t,n,s)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,Iy(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Js(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):go(t);break;default:go(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,Iy(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Js(8,n,n.return),ac(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Iy(t,n){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:Js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(_y(l),l===s){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var kT={getCacheForType:function(t){var n=rn(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return rn(Bt).controller.signal}},UT=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,ke=null,je=0,rt=0,Pn=null,Zs=!1,Xa=!1,Xf=!1,gs=0,Ct=0,Ws=0,ra=0,$f=0,jn=0,$a=0,yo=null,Rn=null,Jf=!1,lc=0,Cy=0,oc=1/0,uc=null,er=null,Xt=0,tr=null,Ja=null,ys=0,Zf=0,Wf=null,Ny=null,_o=0,ed=null;function zn(){return(tt&2)!==0&&je!==0?je&-je:G.T!==null?ad():es()}function Dy(){if(jn===0)if((je&536870912)===0||Ge){var t=De;De<<=1,(De&3932160)===0&&(De=262144),jn=t}else jn=536870912;return t=Un.current,t!==null&&(t.flags|=32),jn}function xn(t,n,s){(t===mt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),nr(t,je,jn,!1)),Gn(t,s),((tt&2)===0||t!==mt)&&(t===mt&&((tt&2)===0&&(ra|=s),Ct===4&&nr(t,je,jn,!1)),Pi(t))}function Oy(t,n,s){if((tt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||yt(t,n),h=l?jT(t,n):nd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&nr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!LT(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=yo;var x=E.current.memoizedState.isDehydrated;if(x&&(Za(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,jn,!Zs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Ot(),10<h)){if(nr(l,n,jn,!Zs),ye(l,0,!0)!==0)break e;ys=n,l.timeoutHandle=u_(My.bind(null,l,s,Rn,uc,Jf,n,jn,ra,$a,Zs,f,"Throttled",-0,0),h);break e}My(l,s,Rn,uc,Jf,n,jn,ra,$a,Zs,f,null,-0,0)}}break}while(!0);Pi(t)}function My(t,n,s,l,h,f,g,E,x,j,Q,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},wy(n,f,X);var le=(f&62914560)===f?lc-Ot():(f&4194048)===f?Cy-Ot():0;if(le=Tb(X,le),le!==null){ys=f,t.cancelPendingCommit=le(By.bind(null,t,n,f,s,l,h,g,E,x,Q,X,null,z,q)),nr(t,f,g,!j);return}}By(t,n,f,s,l,h,g,E,x)}function LT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,s,l){n&=~$f,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-$(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&ai(t,s,n)}function cc(){return(tt&6)===0?(vo(0),!1):!0}function td(){if(ke!==null){if(rt===0)var t=ke.return;else t=ke,as=$r=null,yf(t),Ha=null,eo=0,t=ke;for(;t!==null;)cy(t.alternate,t),t=t.return;ke=null}}function Za(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ib(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ys=0,td(),mt=t,ke=s=ss(t.current,null),je=n,rt=0,Pn=null,Zs=!1,Xa=yt(t,n),Xf=!1,$a=jn=$f=ra=Ws=Ct=0,Rn=yo=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$(l),f=1<<h;n|=t[h],l&=~f}return gs=n,Du(),s}function Vy(t,n){Ne=null,G.H=oo,n===Ba||n===ju?(n=$p(),rt=3):n===rf?(n=$p(),rt=4):rt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,ke===null&&(Ct=1,Wu(t,$n(n,t.current)))}function ky(){var t=Un.current;return t===null?!0:(je&4194048)===je?ei===null:(je&62914560)===je||(je&536870912)!==0?t===ei:!1}function Uy(){var t=G.H;return G.H=oo,t===null?oo:t}function Ly(){var t=G.A;return G.A=kT,t}function hc(){Ct=4,Zs||(je&4194048)!==je&&Un.current!==null||(Xa=!0),(Ws&134217727)===0&&(ra&134217727)===0||mt===null||nr(mt,je,jn,!1)}function nd(t,n,s){var l=tt;tt|=2;var h=Uy(),f=Ly();(mt!==t||je!==n)&&(uc=null,Za(t,n)),n=!1;var g=Ct;e:do try{if(rt!==0&&ke!==null){var E=ke,x=Pn;switch(rt){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var j=rt;if(rt=0,Pn=null,Wa(t,E,x,j),s&&Xa){g=0;break e}break;default:j=rt,rt=0,Pn=null,Wa(t,E,x,j)}}PT(),g=Ct;break}catch(Q){Vy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,as=$r=null,tt=l,G.H=h,G.A=f,ke===null&&(mt=null,je=0,Du()),g}function PT(){for(;ke!==null;)Py(ke)}function jT(t,n){var s=tt;tt|=2;var l=Uy(),h=Ly();mt!==t||je!==n?(uc=null,oc=Ot()+500,Za(t,n)):Xa=yt(t,n);e:do try{if(rt!==0&&ke!==null){n=ke;var f=Pn;t:switch(rt){case 1:rt=0,Pn=null,Wa(t,n,f,1);break;case 2:case 9:if(Yp(f)){rt=0,Pn=null,jy(n);break}n=function(){rt!==2&&rt!==9||mt!==t||(rt=7),Pi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Yp(f)?(rt=0,Pn=null,jy(n)):(rt=0,Pn=null,Wa(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?S_(g):E.stateNode.complete){rt=0,Pn=null;var x=E.sibling;if(x!==null)ke=x;else{var j=E.return;j!==null?(ke=j,fc(j)):ke=null}break t}}rt=0,Pn=null,Wa(t,n,f,5);break;case 6:rt=0,Pn=null,Wa(t,n,f,6);break;case 8:td(),Ct=6;break e;default:throw Error(a(462))}}zT();break}catch(Q){Vy(t,Q)}while(!0);return as=$r=null,G.H=l,G.A=h,tt=s,ke!==null?0:(mt=null,je=0,Du(),Ct)}function zT(){for(;ke!==null&&!Nl();)Py(ke)}function Py(t){var n=oy(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function jy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ny(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ny(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:yf(n);default:cy(s,n),n=ke=Lp(n,gs),n=oy(s,n,gs)}t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function Wa(t,n,s,l){as=$r=null,yf(n),Ha=null,eo=0;var h=n.return;try{if(IT(t,h,n,s,je)){Ct=1,Wu(t,$n(s,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Ct=1,Wu(t,$n(s,t.current)),ke=null;return}n.flags&32768?(Ge||l===1?t=!0:Xa||(je&536870912)!==0?t=!1:(Zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,Zs);return}t=n.return;var s=DT(n.alternate,n,gs);if(s!==null){ke=s;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Ct===0&&(Ct=5)}function zy(t,n){do{var s=OT(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);Ct=6,ke=null}function By(t,n,s,l,h,f,g,E,x){t.cancelPendingCommit=null;do dc();while(Xt!==0);if((tt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,hn(t,s,f,g,E,x),t===mt&&(ke=mt=null,je=0),Ja=n,tr=t,ys=s,Zf=f,Wf=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GT(Ti,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,g=tt,tt|=4;try{MT(t,n,s)}finally{tt=g,ne.p=h,G.T=l}}Xt=1,Hy(),qy(),Gy()}}function Hy(){if(Xt===1){Xt=0;var t=tr,n=Ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=tt;tt|=4;try{by(n,t);var f=md,g=Ip(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&xp(E.ownerDocument.documentElement,E)){if(x!==null&&Ph(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,ve=Math.min(x.start,le),ft=x.end===void 0?ve:Math.min(x.end,le);!q.extend&&ve>ft&&(g=ft,ft=ve,ve=g);var U=Rp(E,ve),D=Rp(E,ft);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ve>ft?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wc=!!dd,md=dd=null}finally{tt=h,ne.p=l,G.T=s}}t.current=n,Xt=2}}function qy(){if(Xt===2){Xt=0;var t=tr,n=Ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=tt;tt|=4;try{yy(t,n.alternate,n)}finally{tt=h,ne.p=l,G.T=s}}Xt=3}}function Gy(){if(Xt===4||Xt===3){Xt=0,ya();var t=tr,n=Ja,s=ys,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ja=tr=null,Fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(er=null),_e(s),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(ys&3)!==0&&dc(),Pi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?_o++:(_o=0,ed=t):_o=0,vo(0)}}function Fy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function dc(){return Hy(),qy(),Gy(),Qy()}function Qy(){if(Xt!==5)return!1;var t=tr,n=Zf;Zf=0;var s=_e(ys),l=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=tr,g=ys;if(Xt=0,Ja=tr=null,ys=0,(tt&6)!==0)throw Error(a(331));var E=tt;if(tt|=4,xy(f.current),Sy(f,f.current,g,s),tt=E,vo(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Dn,f)}catch{}return!0}finally{ne.p=h,G.T=l,Fy(t,n)}}function Ky(t,n,s){n=$n(s,n),n=Of(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(Gn(t,2),Pi(t))}function at(t,n,s){if(t.tag===3)Ky(t,t,s);else for(;n!==null;){if(n.tag===3){Ky(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=$n(s,t),s=Yg(2),l=Ys(n,s,2),l!==null&&(Xg(s,l,n,t),Gn(l,2),Pi(l));break}}n=n.return}}function id(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new UT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=BT.bind(null,t,n,s),n.then(t,t))}function BT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(je&s)===s&&(Ct===4||Ct===3&&(je&62914560)===je&&300>Ot()-lc?(tt&2)===0&&Za(t,0):$f|=s,$a===je&&($a=0)),Pi(t)}function Yy(t,n){n===0&&(n=Ye()),t=Kr(t,n),t!==null&&(Gn(t,n),Pi(t))}function HT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(t,s)}function qT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yy(t,s)}function GT(t,n){return Dt(t,n)}var mc=null,el=null,sd=!1,pc=!1,rd=!1,ir=0;function Pi(t){t!==el&&t.next===null&&(el===null?mc=el=t:el=el.next=t),pc=!0,sd||(sd=!0,QT())}function vo(t,n){if(!rd&&pc){rd=!0;do for(var s=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(l,f))}else f=je,f=ye(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||yt(l,f)||(s=!0,Zy(l,f));l=l.next}while(s);rd=!1}}function FT(){Xy()}function Xy(){pc=sd=!1;var t=0;ir!==0&&nb()&&(t=ir);for(var n=Ot(),s=null,l=mc;l!==null;){var h=l.next,f=$y(l,n);f===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(el=s)):(s=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Xt!==0&&Xt!==5||vo(t),ir!==0&&(ir=0)}function $y(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-$(f),E=1<<g,x=h[g];x===-1?((E&s)===0||(E&l)!==0)&&(h[g]=xt(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,s=je,s=ye(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||yt(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),_e(s)){case 2:case 8:s=Or;break;case 32:s=Ti;break;case 268435456:s=En;break;default:s=Ti}return l=Jy.bind(null,t),s=Dt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dc()&&t.callbackNode!==s)return null;var l=je;return l=ye(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Oy(t,l,n),$y(t,Ot()),t.callbackNode!=null&&t.callbackNode===s?Jy.bind(null,t):null)}function Zy(t,n){if(dc())return null;Oy(t,n,!0)}function QT(){sb(function(){(tt&6)!==0?Dt(Dr,FT):Xy()})}function ad(){if(ir===0){var t=ja;t===0&&(t=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),ir=t}return ir}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function e_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function KT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Wy((h[Zt]||null).action),g=l.submitter;g&&(n=(n=g[Zt]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var x=g?e_(h,g):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?e_(h,g):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],YT=od.toLowerCase(),XT=od[0].toUpperCase()+od.slice(1);mi(YT,"on"+XT)}mi(Dp,"onAnimationEnd"),mi(Op,"onAnimationIteration"),mi(Mp,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(hT,"onTransitionRun"),mi(fT,"onTransitionStart"),mi(dT,"onTransitionCancel"),mi(Vp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function t_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=x}}}}function Ue(t,n){var s=n[va];s===void 0&&(s=n[va]=new Set);var l=t+"__bubble";s.has(l)||(n_(n,t,2,!1),s.add(l))}function ud(t,n,s){var l=0;n&&(l|=4),n_(s,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[gc]){t[gc]=!0,Dl.forEach(function(s){s!=="selectionchange"&&($T.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,ud("selectionchange",!1,n))}}function n_(t,n,s,l){switch(D_(n)){case 2:var h=Sb;break;case 8:h=wb;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Si(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ps(function(){var j=f,Q=Qn(s),X=[];e:{var z=kp.get(t);if(z!==void 0){var q=Di,le=t;switch(t){case"keypress":if(Br(s)===0)break e;case"keydown":case"keyup":q=xu;break;case"focusin":le="focus",q=qr;break;case"focusout":le="blur",q=qr;break;case"beforeblur":case"afterblur":q=qr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dp:case Op:case Mp:q=Eu;break;case Vp:q=T;break;case"scroll":case"scrollend":q=ql;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=Ce}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),U=ve?z!==null?z+"Capture":null:z;ve=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=ci(D,U),K!=null&&ve.push(To(D,K,P))),ft)break;D=D.return}0<ve.length&&(z=new q(z,le,null,s,Q),X.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==zl&&(le=s.relatedTarget||s.fromElement)&&(Si(le)||le[bi]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=j,le=le?Si(le):null,le!==null&&(ft=c(le),ve=le.tag,le!==ft||ve!==5&&ve!==27&&ve!==6)&&(le=null)):(q=null,le=j),q!==le)){if(ve=Gl,K="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=is,K="onPointerLeave",U="onPointerEnter",D="pointer"),ft=q==null?z:On(q),P=le==null?z:On(le),z=new ve(K,D+"leave",q,s,Q),z.target=ft,z.relatedTarget=P,K=null,Si(Q)===j&&(ve=new ve(U,D+"enter",le,s,Q),ve.target=P,ve.relatedTarget=ft,K=ve),ft=K,q&&le)t:{for(ve=JT,U=q,D=le,P=0,K=U;K;K=ve(K))P++;K=0;for(var he=D;he;he=ve(he))K++;for(;0<P-K;)U=ve(U),P--;for(;0<K-P;)D=ve(D),K--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ve=U;break t}U=ve(U),D=ve(D)}ve=null}else ve=null;q!==null&&i_(X,z,q,ve,!1),le!==null&&ft!==null&&i_(X,ft,le,ve,!0)}}e:{if(z=j?On(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Xe=Ep;else if(_p(z))if(Tp)Xe=oT;else{Xe=aT;var oe=rT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Aa(j.elementType)&&(Xe=Ep):Xe=lT;if(Xe&&(Xe=Xe(t,j))){vp(X,Xe,s,Q);break e}oe&&oe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(oe=j?On(j):window,t){case"focusin":(_p(oe)||oe.contentEditable==="true")&&(Da=oe,jh=j,Xl=null);break;case"focusout":Xl=jh=Da=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Cp(X,s,Q);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":Cp(X,s,Q)}var Oe;if(et)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Na?Gr(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(Vi&&s.locale!=="ko"&&(Na||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Na&&(Oe=Hl()):(Ni=Q,Bl="value"in Ni?Ni.value:Ni.textContent,Na=!0)),oe=yc(j,ze),0<oe.length&&(ze=new Mi(ze,t,null,s,Q),X.push({event:ze,listeners:oe}),Oe?ze.data=Oe:(Oe=Ca(s),Oe!==null&&(ze.data=Oe)))),(Oe=Yn?tT(t,s):nT(t,s))&&(ze=yc(j,"onBeforeInput"),0<ze.length&&(oe=new Mi("onBeforeInput","beforeinput",null,s,Q),X.push({event:oe,listeners:ze}),oe.data=Oe)),KT(X,t,j,s,Q)}t_(X,n)})}function To(t,n,s){return{instance:t,listener:n,currentTarget:s}}function yc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,s),h!=null&&l.unshift(To(t,h,f)),h=ci(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function JT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=ci(s,f),j!=null&&g.unshift(To(s,j,x))):h||(j=ci(s,f),j!=null&&g.push(To(s,j,x)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var ZT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(ZT,`
`).replace(WT,"")}function r_(t,n){return n=s_(n),s_(t)===n}function ht(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,s,l);break;case"style":jl(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Sa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Sa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,Ta(t,s,l))}}function fd(t,n,s,l,h,f){switch(s){case"style":jl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ta(t,s,l)}}}function ln(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,g,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),l&&ht(t,n,"src",s.src,s,null);return;case"input":Ue("invalid",t);var E=f=g=h=null,x=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ht(t,n,l,Q,s,null)}}mu(t,f,E,x,j,g,h,!1);return;case"select":Ue("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ht(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):s!=null&&Vs(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,g,E,s,null)}ks(t,l,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,x,l,s,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)Ue(Eo[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,j,l,s,null)}return;default:if(Aa(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ht(t,n,E,l,s,null))}function eb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,Q=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:l.hasOwnProperty(q)||ht(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=s[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ht(t,n,z,q,l,X)}}ba(t,g,E,x,j,Q,f,h);return;case"select":q=g=E=z=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=s[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&ht(t,n,h,f,l,x)}n=E,s=g,l=q,z!=null?Vs(t,!!s,z,!1):!!l!=!!s&&(n!=null?Vs(t,!!s,n,!0):Vs(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,g,h,l,f)}pu(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ht(t,n,le,null,l,z));for(x in l)z=l[x],q=s[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ht(t,n,x,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)z=s[ve],s.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&ht(t,n,ve,null,l,z);for(j in l)if(z=l[j],q=s[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,j,z,l,q)}return;default:if(Aa(n)){for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!==void 0&&!l.hasOwnProperty(ft)&&fd(t,n,ft,void 0,l,z);for(Q in l)z=l[Q],q=s[Q],!l.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||fd(t,n,Q,z,l,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&ht(t,n,U,null,l,z);for(X in l)z=l[X],q=s[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||ht(t,n,X,z,l,q)}function a_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&a_(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var x=s[l],j=x.startTime;if(j>E)break;var Q=x.transferSize,X=x.initiatorType;Q&&a_(X)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-j)/(x-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function nb(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(rb)}:u_;function rb(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function h_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")bo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,bo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&bo(t.ownerDocument.body);s=h}while(s);sl(n)}function f_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),Ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ab(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function lb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function d_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ob(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function m_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ti(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function p_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function g_(t,n,s){switch(n=_c(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ni=new Map,y_=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=ne.d;ne.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var t=_s.f(),n=cc();return t||n}function cb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):_s.r(t)}var tl=typeof document>"u"?null:document;function __(t,n,s){var l=tl;if(l&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),jt(n),l.head.appendChild(n)))}}function hb(t){_s.D(t),__("dns-prefetch",t,null)}function fb(t,n){_s.C(t,n),__("preconnect",t,n)}function db(t,n,s){_s.L(t,n,s);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ao(f))||n==="script"&&l.querySelector(So(f))||(n=l.createElement("link"),ln(n,"link",t),jt(n),l.head.appendChild(n)))}}function mb(t,n){_s.m(t,n);var s=tl;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(So(f)))return}l=s.createElement("link"),ln(l,"link",t),jt(l),s.head.appendChild(l)}}}function pb(t,n,s){_s.S(t,n,s);var l=tl;if(l&&t){var h=wi(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ao(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&Td(t,s);var x=g=l.createElement("link");jt(x),ln(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function gb(t,n){_s.X(t,n);var s=tl;if(s&&t){var l=wi(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),jt(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yb(t,n){_s.M(t,n);var s=tl;if(s&&t){var l=wi(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),jt(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v_(t,n,s,l){var h=(h=Re.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=nl(s.href),s=wi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=nl(s.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ao(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||_b(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(s),s=wi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+Tn(t)+'"'}function Ao(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function _b(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",s),jt(n),t.head.appendChild(n))}function il(t){return'[src="'+Tn(t)+'"]'}function So(t){return"script[async]"+t}function T_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(l)return n.instance=l,jt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),ln(l,"style",h),Ec(l,s.precedence,t),n.instance=l;case"stylesheet":h=nl(s.href);var f=t.querySelector(Ao(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;l=E_(s),(h=ni.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),ln(f,"link",l),n.state.loading|=4,Ec(f,s.precedence,t),n.instance=f;case"script":return f=il(s.src),(h=t.querySelector(So(f)))?(n.instance=h,jt(h),h):(l=s,(h=ni.get(f))&&(l=S({},s),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ec(l,s.precedence,t));return n.instance}function Ec(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function b_(t,n,s){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(s,l)}else h=Tc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function A_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function vb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Eb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=nl(l.href),f=n.querySelector(Ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,jt(f);return}f=n.ownerDocument||n,l=E_(l),(h=ni.get(h))&&Td(l,h),f=f.createElement("link"),jt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),ln(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=bc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function Tb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(bb,t),Ac=null,bc.call(t))}function bb(t,n){if(!(n.state.loading&4)){var s=Ac.get(t);if(s)var l=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:de,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Ab(t,n,s,l,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function w_(t,n,s,l,h,f,g,E,x,j,Q,X){return t=new Ab(t,n,s,g,x,j,Q,X,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),t}function R_(t){return t?(t=Va,t):Va}function x_(t,n,s,l,h,f){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ks(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ys(t,l,n),s!==null&&(xn(s,t,n),no(s,t,n))}function I_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){I_(t,n),(t=t.alternate)&&I_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Kr(t,67108864);n!==null&&xn(n,t,67108864),Sd(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var n=zn();n=Se(n);var s=Kr(t,n);s!==null&&xn(s,t,n),Sd(t,n)}}var wc=!0;function Sb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function wb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function wd(t,n,s,l){if(wc){var h=Rd(l);if(h===null)hd(t,n,l,Rc,s),O_(t,l);else if(xb(h,t,n,s,l))l.stopPropagation();else if(O_(t,l),n&4&&-1<Rb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Qe(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-$(g);E.entanglements[1]|=x,g&=~x}Pi(f),(tt&6)===0&&(oc=Ot()+500,vo(0))}}break;case 31:case 13:E=Kr(f,2),E!==null&&xn(E,f,2),cc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(t,n,l,Rc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,s)}}function Rd(t){return t=Qn(t),xd(t)}var Rc=null;function xd(t){if(Rc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Dr:return 2;case Or:return 8;case Ti:case _a:return 32;case En:return 268435456;default:return 32}default:return 32}}var Id=!1,rr=null,ar=null,lr=null,Ro=new Map,xo=new Map,or=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function Io(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function xb(t,n,s,l,h){switch(n){case"focusin":return rr=Io(rr,t,n,s,l,h),!0;case"dragenter":return ar=Io(ar,t,n,s,l,h),!0;case"mouseover":return lr=Io(lr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,xo.set(f,Io(xo.get(f)||null,t,n,s,l,h)),!0}return!1}function M_(t){var n=Si(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,li(t.priority,function(){N_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,li(t.priority,function(){N_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zl=l,s.target.dispatchEvent(l),zl=null}else return n=Fn(s),n!==null&&C_(n),t.blockedOn=s,!1;n.shift()}return!0}function V_(t,n,s){xc(t)&&s.delete(n)}function Ib(){Id=!1,rr!==null&&xc(rr)&&(rr=null),ar!==null&&xc(ar)&&(ar=null),lr!==null&&xc(lr)&&(lr=null),Ro.forEach(V_),xo.forEach(V_)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ib)))}var Cc=null;function k_(t){Cc!==t&&(Cc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var f=Fn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function sl(t){function n(x){return Ic(x,t)}rr!==null&&Ic(rr,t),ar!==null&&Ic(ar,t),lr!==null&&Ic(lr,t),Ro.forEach(n),xo.forEach(n);for(var s=0;s<or.length;s++){var l=or[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(s=or[0],s.blockedOn===null);)M_(s),s.blockedOn===null&&or.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Zt]||null;if(typeof f=="function")g||k_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Zt]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),k_(s)}}}function U_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Nc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=zn();x_(s,l,t,n,null,null)},Nc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x_(t.current,2,null,t,null,null),cc(),n[bi]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=es();t={blockedOn:null,target:t,priority:n};for(var s=0;s<or.length&&n!==0&&n<or[s].priority;s++);or.splice(s,0,t),s===0&&M_(t)}};var L_=e.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Cb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Dn=Dc.inject(Cb),Yt=Dc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Gg,f=Fg,g=Qg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(t,1,!1,null,null,s,l,null,h,f,g,U_),t[bi]=n.current,cd(t),new Cd(n)},No.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Gg,g=Fg,E=Qg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=w_(t,1,!0,n,s??null,l,h,x,f,g,E,U_),n.context=R_(null),s=n.current,l=zn(),l=Se(l),h=Ks(l),h.callback=null,Ys(s,h,l),s=l,n.current.lanes=s,Gn(n,s),Pi(n),t[bi]=n.current,cd(t),new Nc(n)},No.version="19.2.3",No}var K_;function jb(){if(K_)return Od.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Pb(),Od.exports}var zb=jb();const Bb=()=>{};var Y_={};const Rv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Hb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],y=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,y=d?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;p||(F=64,d||(M=64)),a.push(i[A],i[S],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new qb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gb=function(r){const e=Rv(r);return xv.encodeByteArray(e,!0)},Yc=function(r){return Gb(r).replace(/\./g,"")},Iv=function(r){try{return xv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qb=()=>Fb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iv(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return Bb()||Qb()||Kb()||Yb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>mh()?.emulatorHosts?.[r],Xb=r=>{const e=Cv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Nv=()=>mh()?.config,Dv=r=>mh()?.[`_${r}`];class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(r){return(await fetch(r,{credentials:"include"})).ok}function Jb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Po={};function Zb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Po))Po[e]?r.emulator.push(e):r.prod.push(e);return r}function Wb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let X_=!1;function Mv(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||Po[r]===e||Po[r]||X_)return;Po[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Zb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{X_=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Wb(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),me=i("preprendIcon"),fe=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const de=M.element;y(de),A(ee,se);const Ze=_();p(fe,me),de.append(fe,W,ee,Ze),document.body.appendChild(de)}c?(W.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function tA(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const uA="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?cA(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,y,a)}}function cA(r,e){return r.replace(hA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const hA=/\{\$([^}]+)}/g;function fA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Tr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if($_(c)&&$_(d)){if(!Tr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function $_(r){return r!==null&&typeof r=="object"}function Wo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dA(r,e){const i=new mA(r,e);return i.subscribe.bind(i)}class mA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function vn(r){return r&&r._delegate?r._delegate:r}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class gA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $b;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(r){return r===aa?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const EA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},TA=Be.INFO,bA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},AA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=bA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const SA=(r,e)=>e.some(i=>r instanceof i);let J_,Z_;function wA(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Wd=new WeakMap,kv=new WeakMap,Ld=new WeakMap,Nm=new WeakMap;function xA(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(gr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,r)}).catch(()=>{}),Nm.set(e,r),e}function IA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CA(r){em=r(em)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return kv.set(a,e.sort?e.sort():[e]),gr(a)}:RA().includes(r)?function(...e){return r.apply(Pd(this),e),gr(Vv.get(this))}:function(...e){return gr(r.apply(Pd(this),e))}}function DA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&IA(r),SA(r,wA())?new Proxy(r,em):r)}function gr(r){if(r instanceof IDBRequest)return xA(r);if(Ld.has(r))return Ld.get(r);const e=DA(r);return e!==r&&(Ld.set(r,e),Nm.set(e,r)),e}const Pd=r=>Nm.get(r);function OA(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),y=gr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(gr(d.result),p.oldVersion,p.newVersion,gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const MA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],jd=new Map;function W_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=VA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||MA.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&p.done]))[0]};return jd.set(e,c),c}CA(r=>({...r,get:(e,i,a)=>W_(e,i)||r.get(e,i,a),has:(e,i)=>!!W_(e,i)||r.has(e,i)}));class kA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function UA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",e0="0.14.6";const As=new Cm("@firebase/app"),LA="@firebase/app-compat",PA="@firebase/analytics-compat",jA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",HA="@firebase/auth",qA="@firebase/auth-compat",GA="@firebase/database",FA="@firebase/data-connect",QA="@firebase/database-compat",KA="@firebase/functions",YA="@firebase/functions-compat",XA="@firebase/installations",$A="@firebase/installations-compat",JA="@firebase/messaging",ZA="@firebase/messaging-compat",WA="@firebase/performance",eS="@firebase/performance-compat",tS="@firebase/remote-config",nS="@firebase/remote-config-compat",iS="@firebase/storage",sS="@firebase/storage-compat",rS="@firebase/firestore",aS="@firebase/ai",lS="@firebase/firestore-compat",oS="firebase",uS="12.6.0";const nm="[DEFAULT]",cS={[tm]:"fire-core",[LA]:"fire-core-compat",[jA]:"fire-analytics",[PA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[HA]:"fire-auth",[qA]:"fire-auth-compat",[GA]:"fire-rtdb",[FA]:"fire-data-connect",[QA]:"fire-rtdb-compat",[KA]:"fire-fn",[YA]:"fire-fn-compat",[XA]:"fire-iid",[$A]:"fire-iid-compat",[JA]:"fire-fcm",[ZA]:"fire-fcm-compat",[WA]:"fire-perf",[eS]:"fire-perf-compat",[tS]:"fire-rc",[nS]:"fire-rc-compat",[iS]:"fire-gcs",[sS]:"fire-gcs-compat",[rS]:"fire-fst",[lS]:"fire-fst-compat",[aS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};const Xc=new Map,hS=new Map,im=new Map;function t0(r,e){try{r.container.addComponent(e)}catch(i){As.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function pl(r){const e=r.name;if(im.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())t0(i,r);for(const i of hS.values())t0(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Zo("app","Firebase",fS);class dS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Sl=uS;function Uv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(i||(i=Nv()),!i)throw yr.create("no-options");const c=Xc.get(o);if(c){if(Tr(i,c.options)&&Tr(a,c.config))return c;throw yr.create("duplicate-app",{appName:o})}const d=new vA(o);for(const p of im.values())d.addComponent(p);const y=new dS(i,a,d);return Xc.set(o,y),y}function Lv(r=nm){const e=Xc.get(r);if(!e&&r===nm&&Nv())return Uv();if(!e)throw yr.create("no-app",{appName:r});return e}function _r(r,e,i){let a=cS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}pl(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const mS="firebase-heartbeat-database",pS=1,Go="firebase-heartbeat-store";let zd=null;function Pv(){return zd||(zd=OA(mS,pS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Go)}catch(i){console.warn(i)}}}}).catch(r=>{throw yr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function gS(r){try{const i=(await Pv()).transaction(Go),a=await i.objectStore(Go).get(jv(r));return await i.done,a}catch(e){if(e instanceof Cs)As.warn(e.message);else{const i=yr.create("idb-get",{originalErrorMessage:e?.message});As.warn(i.message)}}}async function n0(r,e){try{const a=(await Pv()).transaction(Go,"readwrite");await a.objectStore(Go).put(e,jv(r)),await a.done}catch(i){if(i instanceof Cs)As.warn(i.message);else{const a=yr.create("idb-set",{originalErrorMessage:i?.message});As.warn(a.message)}}}function jv(r){return`${r.name}!${r.options.appId}`}const yS=1024,_S=30;class vS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new TS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const o=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i0(),{heartbeatsToSend:i,unsentEntries:a}=ES(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function i0(){return new Date().toISOString().substring(0,10)}function ES(r,e=yS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function s0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function bS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function AS(r){pl(new ca("platform-logger",e=>new kA(e),"PRIVATE")),pl(new ca("heartbeat",e=>new vS(e),"PRIVATE")),_r(tm,e0,r),_r(tm,e0,"esm2020"),_r("fire-js","")}AS("");var SS="firebase",wS="12.7.0";_r(SS,wS,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RS=zv,Bv=new Zo("auth","Firebase",zv());const $c=new Cm("@firebase/auth");function xS(r,...e){$c.logLevel<=Be.WARN&&$c.warn(`Auth (${Sl}): ${r}`,...e)}function Pc(r,...e){$c.logLevel<=Be.ERROR&&$c.error(`Auth (${Sl}): ${r}`,...e)}function Ss(r,...e){throw Om(r,...e)}function zi(r,...e){return Om(r,...e)}function Hv(r,e,i){const a={...RS(),[e]:i};return new Zo("auth","Firebase",a).create(e,{appName:r.name})}function bs(r){return Hv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Bv.create(r,...e)}function Ae(r,e,...i){if(!r)throw Om(e,...i)}function Es(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pc(e),new Error(e)}function ws(r,e){r||Es(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function IS(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function CS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IS()||iA()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return CS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){ws(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MS=new eu(3e4,6e4);function tu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wl(r,e,i,a,o={}){return Gv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Wo({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...c};return nA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Fv(r,r.config.apiHost,i,y),_)})}async function Gv(r,e,i){r._canInitEmulator=!1;const a={...DS,...e};try{const o=new VS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Oc(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hv(r,A,_);Ss(r,A)}}catch(o){if(o instanceof Cs)throw o;Ss(r,"network-request-failed",{message:String(o)})}}async function Vm(r,e,i,a,o={}){const c=await wl(r,e,i,a,o);return"mfaPendingCredential"in c&&Ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return OS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),MS.get())})}}function Oc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(r,e,a);return o.customData._tokenResponse=i,o}async function kS(r,e){return wl(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return wl(r,"POST","/v1/accounts:lookup",e)}function jo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(r,e=!1){const i=vn(r),a=await i.getIdToken(e),o=km(a);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo(Bd(o.auth_time)),issuedAtTime:jo(Bd(o.iat)),expirationTime:jo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iv(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(r){const e=km(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Cs&&LS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function LS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const e=r.auth,i=await r.getIdToken(),a=await Fo(r,Jc(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Qv(o.providerUserInfo):[],d=zS(r.providerData,c),y=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!d?.length,_=y?p:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function jS(r){const e=vn(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zS(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Qv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BS(r,e){const i=await Gv(r,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Fv(r,o,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(p.credentials="include"),qv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HS(r,e){return wl(r,"POST","/v2/accounts:revokeToken",tu(r,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=a0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await BS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Es("not implemented")}}function cr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return US(this,e)}reload(){return jS(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Fo(this,kS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:se}=i;Ae(S&&se,e,"internal-error");const ee=cl.fromJSON(this.name,se);Ae(typeof S=="string",e,"internal-error"),cr(a,e.name),cr(o,e.name),Ae(typeof M=="boolean",e,"internal-error"),Ae(typeof F=="boolean",e,"internal-error"),cr(c,e.name),cr(d,e.name),cr(y,e.name),cr(p,e.name),cr(_,e.name),cr(A,e.name);const me=new yi({uid:S,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(me.providerData=W.map(fe=>({...fe}))),p&&(me._redirectEventId=p),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new cl;y.updateFromIdToken(a);const p=new yi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const l0=new Map;function Ts(r){ws(r instanceof Function,"Expected a class definition");let e=l0.get(r);return e?(ws(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,l0.set(r,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const o0=Kv;function jc(r,e,i){return`firebase:${r}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(Ts(o0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Ts(o0);const d=jc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await Jc(e,{idToken:A}).catch(()=>{});if(!M)break;S=await yi._fromGetAccountInfoResponse(e,M,A)}else S=yi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new hl(c,e,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new hl(c,e,a))}}function u0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wv(e))return"Blackberry";if(e1(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Zv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(r=gn()){return/firefox\//i.test(r)}function Xv(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(r=gn()){return/crios\//i.test(r)}function Jv(r=gn()){return/iemobile/i.test(r)}function Zv(r=gn()){return/android/i.test(r)}function Wv(r=gn()){return/blackberry/i.test(r)}function e1(r=gn()){return/webos/i.test(r)}function Um(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qS(r=gn()){return Um(r)&&!!window.navigator?.standalone}function GS(){return rA()&&document.documentMode===10}function t1(r=gn()){return Um(r)||Zv(r)||e1(r)||Wv(r)||/windows phone/i.test(r)||Jv(r)}function n1(r,e=[]){let i;switch(r){case"Browser":i=u0(gn());break;case"Worker":i=`${u0(gn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class FS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const p=e(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function QS(r,e={}){return wl(r,"GET","/v2/passwordPolicy",tu(r,e))}const KS=6;class YS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(bs(this));const i=e?vn(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QS(this),i=new YS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await HS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ts(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(r){return vn(r)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $S(r){Lm=r}function JS(r){return Lm.loadJS(r)}function ZS(){return Lm.gapiScript}function WS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function e2(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Tr(c,e??{}))return o;Ss(o,"already-initialized")}return i.initialize({options:e})}function t2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ts);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function n2(r,e,i){const a=nu(r);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=i1(e),{host:d,port:y}=i2(e),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Tr(_,a.config.emulator)&&Tr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(Ov(`${c}//${d}${p}`),Mv("Auth",!0)):s2()}function i1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function i2(r){const e=i1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function s2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class s1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,i){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function fl(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",tu(r,e))}const r2="http://localhost";class ha extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:r2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class r1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends r1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr extends iu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";class fr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return fr.credential(i,a)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class dr extends iu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends iu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function a2(r,e){return Vm(r,"POST","/v1/accounts:signUp",tu(r,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await yi._fromIdTokenResponse(e,a,o),d=f0(a);return new Rs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=f0(a);return new Rs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function f0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function l2(r){if(si(r.app))return Promise.reject(bs(r));const e=nu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await a2(e,{returnSecureToken:!0}),a=await Rs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Cs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function a1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function o2(r,e,i=!1){const a=await Fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Rs._forOperation(r,"link",a)}async function u2(r,e,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(bs(a));const o="reauthenticate";try{const c=await Fo(r,a1(a,o,e,r),i);Ae(c.idToken,a,"internal-error");const d=km(c.idToken);Ae(d,a,"internal-error");const{sub:y}=d;return Ae(r.uid===y,a,"user-mismatch"),Rs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),c}}async function c2(r,e,i=!1){if(si(r.app))return Promise.reject(bs(r));const a="signIn",o=await a1(r,a,e),c=await Rs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function h2(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",tu(r,e))}async function f2(r,e){if(si(r.app))return Promise.reject(bs(r));const i=nu(r),a=await h2(i,{token:e,returnSecureToken:!0}),o=await Rs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function d2(r,e,i,a){return vn(r).onIdTokenChanged(e,i,a)}function m2(r,e,i){return vn(r).beforeAuthStateChanged(e,i)}function p2(r,e,i,a){return vn(r).onAuthStateChanged(e,i,a)}const eh="__sak";class l1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const g2=1e3,y2=10;class o1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);GS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,y2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const _2=o1;class u1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}u1.type="SESSION";const c1=u1;function v2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await v2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Pm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Pm("",20);o.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function T2(r){Bi().location.href=r}function h1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){return navigator?.serviceWorker?.controller||null}function S2(){return h1()?self:null}const f1="firebaseLocalStorageDb",w2=1,th="firebaseLocalStorage",d1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function R2(){const r=indexedDB.deleteDatabase(f1);return new su(r).toPromise()}function am(){const r=indexedDB.open(f1,w2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:d1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await R2(),e(await am()))})})}async function d0(r,e,i){const a=gh(r,!0).put({[d1]:e,value:i});return new su(a).toPromise()}async function x2(r,e){const i=gh(r,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function m0(r,e){const i=gh(r,!0).delete(e);return new su(i).toPromise()}const I2=800,C2=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>C2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await d0(e,eh,"1"),await m0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>x2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gh(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const N2=m1;new eu(3e4,6e4);function D2(r,e){return e?Ts(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends s1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function O2(r){return c2(r.auth,new jm(r),r.bypassAuthState)}function M2(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),u2(i,new jm(r),r.bypassAuthState)}async function V2(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),o2(i,new jm(r),r.bypassAuthState)}class p1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:Ss(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k2=new eu(2e3,1e4);class ul extends p1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}ul.currentPopupAction=null;const U2="pendingRedirect",zc=new Map;class L2 extends p1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await P2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2(r,e){const i=B2(e),a=z2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function j2(r,e){zc.set(r._key(),e)}function z2(r){return Ts(r._redirectPersistence)}function B2(r){return jc(U2,r.config.apiKey,r.name)}async function H2(r,e,i=!1){if(si(r.app))return Promise.reject(bs(r));const a=nu(r),o=D2(a,e),d=await new L2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const q2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!g1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function g1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function F2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g1(r);default:return!1}}async function Q2(r,e={}){return wl(r,"GET","/v1/projects",e)}const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function X2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Q2(r);for(const i of e)try{if($2(i))return}catch{}Ss(r,"unauthorized-domain")}function $2(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Y2.test(i))return!1;if(K2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const J2=new eu(3e4,6e4);function g0(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Z2(r){return new Promise((e,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(zi(r,"network-request-failed"))},timeout:J2.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=WS("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},JS(`${ZS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function W2(r){return Bc=Bc||Z2(r),Bc}const ew=new eu(5e3,15e3),tw="__/auth/iframe",nw="emulator/auth/iframe",iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rw(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,nw):`https://${r.config.authDomain}/${tw}`,a={apiKey:e.apiKey,appName:r.name,v:Sl},o=sw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function aw(r){const e=await W2(r),i=Bi().gapi;return Ae(i,r,"internal-error"),e.open({where:document.body,url:rw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),y=Bi().setTimeout(()=>{c(d)},ew.get());function p(){Bi().clearTimeout(y),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ow=500,uw=600,cw="_blank",hw="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fw(r,e,i,a=ow,o=uw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...lw,width:a.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(y=$v(_)?cw:i),Yv(_)&&(e=e||hw,p.scrollbars="yes");const A=Object.entries(p).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(qS(_)&&y!=="_self")return dw(e||"",y),new y0(null);const S=window.open(e||"",y,A);Ae(S,r,"popup-blocked");try{S.focus()}catch{}return new y0(S)}function dw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const mw="__/auth/handler",pw="emulator/auth/handler",gw=encodeURIComponent("fac");async function _0(r,e,i,a,o,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof r1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",fA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof iu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const p=await r._getAppCheckToken(),_=p?`#${gw}=${encodeURIComponent(p)}`:"";return`${yw(r)}?${Wo(y).slice(1)}${_}`}function yw({config:r}){return r.emulator?Mm(r,pw):`https://${r.authDomain}/${mw}`}const Hd="webStorageSupport";class _w{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=H2,this._overrideRedirectResult=j2}async _openPopup(e,i,a,o){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(e,i,a,sm(),o);return fw(e,c,Pm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await _0(e,i,a,sm(),o);return T2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ws(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await aw(e),a=new G2(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=X2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return t1()||Xv()||Um()}}const vw=_w;var v0="@firebase/auth",E0="1.12.0";class Ew{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bw(r){pl(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(r)},_=new XS(a,o,c,p);return t2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pl(new ca("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new Ew(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(v0,E0,Tw(r)),_r(v0,E0,"esm2020")}const Aw=300,Sw=Dv("authIdTokenMaxAge")||Aw;let T0=null;const ww=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Sw)return;const o=i?.token;T0!==o&&(T0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rw(r=Lv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=e2(r,{popupRedirectResolver:vw,persistence:[N2,_2,c1]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=ww(c.toString());m2(i,d,()=>d(i.currentUser)),d2(i,y=>d(y))}}const o=Cv("auth");return o&&n2(i,`http://${o}`),i}function xw(){return document.getElementsByTagName("head")?.[0]??document}$S({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",xw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bw("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,y1;(function(){var r;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(k,N,V){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)k[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let V=C.g[3],R;R=w+(V^I&(N^V))+k[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[2]+606105819&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[6]+2821735955&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[10]+4294925233&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[14]+2792965006&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^V&(I^N))+k[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[11]+643717713&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[15]+3634488961&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[3]+4107603335&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[7]+1735328473&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^V)+k[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[11]+1839030562&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[7]+4139469664&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[3]+3572445317&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[15]+530742520&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~V))+k[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[14]+2878612391&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[10]+4293915773&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[6]+2734768916&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[2]+718787259&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=I;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(k[N++]=C.charCodeAt(V++),N==this.blockSize){o(this,k),N=0;break}}else for(;V<w;)if(k[N++]=C[V++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)C[w++]=this.g[I]>>>k&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let k=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;k&&V==w||(I[N]=V,k=!1)}this.g=I}var y={};function p(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let I=1;for(let k=0;C>=I;k++)w[k]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let k=S;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const R=parseInt(C.substring(V,V+N),w);N<8?(N=_(Math.pow(w,N)),k=k.j(N).add(_(R))):(k=k.j(I),k=k.add(_(R)))}return k}var S=p(0),M=p(1),F=p(16777216);r=d.prototype,r.m=function(){if(se(this))return-ee(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(se(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var I=this;let k="";for(;;){const N=Ze(I,w).g;I=me(I,N.j(w));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,W(I))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}r.l=function(C){return C=me(this,C),se(C)?-1:W(C)?0:1};function ee(C){const w=C.g.length,I=[];for(let k=0;k<w;k++)I[k]=~C.g[k];return new d(I,~C.h).add(M)}r.abs=function(){return se(this)?ee(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let k=0;for(let N=0;N<=w;N++){let V=k+(this.i(N)&65535)+(C.i(N)&65535),R=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=R>>>16,V&=65535,R&=65535,I[N]=R<<16|V}return new d(I,I[I.length-1]&-2147483648?-1:0)};function me(C,w){return C.add(ee(w))}r.j=function(C){if(W(this)||W(C))return S;if(se(this))return se(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(se(C))return ee(this.j(ee(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<C.g.length;N++){const V=this.i(k)>>>16,R=this.i(k)&65535,nt=C.i(N)>>>16,At=C.i(N)&65535;I[2*k+2*N]+=R*At,fe(I,2*k+2*N),I[2*k+2*N+1]+=V*At,fe(I,2*k+2*N+1),I[2*k+2*N+1]+=R*nt,fe(I,2*k+2*N+1),I[2*k+2*N+2]+=V*nt,fe(I,2*k+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function fe(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function de(C,w){this.g=C,this.h=w}function Ze(C,w){if(W(w))throw Error("division by zero");if(W(C))return new de(S,S);if(se(C))return w=Ze(ee(C),w),new de(ee(w.g),ee(w.h));if(se(w))return w=Ze(C,ee(w)),new de(ee(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,k=w;k.l(C)<=0;)I=ot(I),k=ot(k);var N=Le(I,1),V=Le(k,1);for(k=Le(k,2),I=Le(I,2);!W(k);){var R=V.add(k);R.l(C)<=0&&(N=N.add(I),V=R),k=Le(k,1),I=Le(I,1)}return w=me(C,N.j(w)),new de(N,w)}for(N=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=_(I),R=V.j(w);se(R)||R.l(C)>0;)I-=k,V=_(I),R=V.j(w);W(V)&&(V=M),N=N.add(V),C=me(C,R)}return new de(N,C)}r.B=function(C){return Ze(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&C.i(k);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|C.i(k);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^C.i(k);return new d(I,this.h^C.h)};function ot(C){const w=C.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(I,C.h)}function Le(C,w){const I=w>>5;w%=32;const k=C.g.length-I,N=[];for(let V=0;V<k;V++)N[V]=w>0?C.i(V+I)>>>w|C.i(V+I+1)<<32-w:C.i(V+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,y1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,vr=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _1,Do,v1,Hc,lm,E1,T1,b1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[L].apply(T,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function me(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,v){const T=de.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var de=new se(()=>new Ze,u=>u.reset());class Ze{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Le=!1,C=new fe,w=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ee(v)}var m=de;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(nt,N),nt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function We(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Nt={};function gt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)gt(u,m[B],v,T,L);return null}return v=Nr(v),u&&u[At]?u.J(m,v,y(T)?!!T.capture:!1,L):Yi(u,m,v,!1,T,L)}function Yi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let Ce=Ji(u);if(Ce||(u[Me]=Ce=new re(u)),v=Ce.add(m,v,T,te,B),v.proxy)return v;if(T=Xi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Nn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xi(){function u(v){return m.call(u.src,u.listener,v)}const m=$i;return u}function Ns(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ns(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=Nr(v),u&&u[At]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,T,L),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,T,L)),(v=u>-1?m[u]:null)&&Ds(v))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Nn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ji(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Me]=null)):ue(u)}}}function Nn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function $i(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ds(u),u=v.call(T,m)}return u}function Ji(u){return u=u[Me],u instanceof re?u:null}var Zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nr(u){return typeof u=="function"?u:(u[Zi]||(u[Zi]=function(m){return u.handleEvent(m)}),u[Zi])}function Rt(){k.call(this),this.i=new re(this),this.M=this,this.G=null}S(Rt,k),Rt.prototype[At]=!0,Rt.prototype.removeEventListener=function(u,m,v,T){Ns(this,u,m,v,T)};function Dt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),ie(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=Ei(B,T,!0,m)&&L;if(B=m.g=u,L=Ei(B,T,!0,m)&&L,L=Ei(B,T,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=Ei(B,T,!1,m)&&L}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ue(v[T]);delete u.g[m],u.h--}}this.G=null},Rt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Rt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ei(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ce=te.listener,Vt=te.ha||te.src;te.fa&&Ee(u.i,te),L=Ce.call(Vt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Nl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ya(u){u.g=Nl(()=>{u.g=null,u.i&&(u.i=!1,ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ot extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){k.call(this),this.h=u,this.g={}}S(Wi,k);var Dr=[];function Or(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ds(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),Or(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=d.JSON.stringify,_a=d.JSON.parse,En=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Os(){}function Mr(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){N.call(this,"d")}S(Yt,N);function H(){N.call(this,"c")}S(H,N);var $={},be=null;function pe(){return be=be||new Rt}$.Ia="serverreachability";function dt(u){N.call(this,$.Ia,u)}S(dt,N);function Fe(u){const m=pe();Dt(m,new dt(m))}$.STAT_EVENT="statevent";function De(u,m){N.call(this,$.STAT_EVENT,u),this.stat=m}S(De,N);function Pe(u){const m=pe();Dt(m,new De(m,u))}$.Ja="timingevent";function Qe(u,m){N.call(this,$.Ja,u),this.size=m}S(Qe,N);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function yt(){this.g=!0}yt.prototype.ua=function(){this.g=!1};function xt(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var te="",Ce=B.split("&");for(let et=0;et<Ce.length;et++){var Vt=Ce[et].split("=");if(Vt.length>1){const Tt=Vt[0];Vt=Vt[1];const Yn=Tt.split("_");te=Yn.length>=2&&Yn[1]=="type"?te+(Tt+"="+Vt+"&"):te+(Tt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function Ye(u,m,v,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function Mt(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hn(u,v)+(T?" "+T:"")})}function Gn(u,m){u.info(function(){return"TIMEOUT: "+m})}yt.prototype.info=function(){};function hn(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Ti(B)}catch{return m}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function Se(){}S(Se,Os),Se.prototype.g=function(){return new XMLHttpRequest},kr=new Se;function _e(u){return encodeURIComponent(String(u))}function es(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Pt={},Zt={};function bi(u,m,v){u.M=1,u.A=Ur(zt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ai(u),u.B=zt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new oi,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ot(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Dr[0]=L.toString()),L=Dr);for(let B=0;B<L.length;B++){const te=gt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Fe(),xt(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=hi(this.g),Vt=this.g.ya(),et=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ce!=4||Vt==7||(Vt==8||et<=0?Fe(3):Fe(2)),Si(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,Ye(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)Mt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Pe(12),On(this),Fn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=fu(this,v),Tt==Zt){Ce==4&&(this.m=4,Pe(14),u=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,Pe(15),Mt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Mt(this.i,this.l,Tt,null),wi(this,Tt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Pe(16),u=!1),this.o=this.o&&u,!u)Mt(this.i,this.l,v,"[Invalid Chunked Response]"),On(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(te),te.P=!0,Pe(11))}}else Mt(this.i,this.l,v,null),wi(this,v);Ce==4&&On(this),this.o&&!this.K&&(Ce==4?Tu(this.j,this):(this.o=!1,Ai(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),On(this),Fn(this)}}}catch{}};function kh(u){if(!hu(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let v="";const T=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Zt:(v=Number(m.substring(v,T)),isNaN(v)?Pt:(T+=1,T+v>m.length?Zt:(m=m.slice(T,T+v),u.C=T+v,m)))}li.prototype.cancel=function(){this.K=!0,On(this)};function Ai(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ye(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Gn(this.i,this.B),this.M!=2&&(Fe(),Pe(17)),On(this),this.m=2,Fn(this)):Ea(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Tu(u.j,u)}function On(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Or(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),zs(v);else break e;qr(v),Pe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ye(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Ia(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let et=L[m];const Tt=et[0];if(!(Tt<=v.K))if(v.K=Tt,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Yn=et[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Vi=et[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const fi=et[5];fi!=null&&typeof fi=="number"&&fi>0&&(T=1.5*fi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const di=u.g;if(di){const Gr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=T.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ml(B,B.h),B.h=null))}if(T.G){const Ca=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,st(T.J,T.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Su(T,T.L?T.ba:null,T.W),te.L){Vl(T.h,te);var Ce=te,Vt=T.O;Vt&&(Ce.H=Vt),Ce.D&&(Si(Ce),Ai(Ce)),T.g=te}else vu(T);v.i.length>0&&Oi(v)}else et[0]!="stop"&&et[0]!="close"||Mi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Mi(v,7):ql(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}Fe(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,Ul(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Ms(this,m[4]),this.h=Ii(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,ba,!0),"@"),u.push(_e(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Lr(v,v.charAt(0)=="/"?Ll:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Lr(v,pu)),u.join("")},Mn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?Wt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const Ce=L[te++];Ce=="."?T&&te==L.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(Ce),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ul(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Mn(u)}function Wt(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof ks?(u.i=m,Sa(u.i,u.l)):(v||(m=Lr(m,Vs)),u.i=new ks(m,u.l))}function st(u,m,v){u.i.set(m,v)}function Ur(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,mu=/[#\?:]/g,Ll=/[#\?]/g,Vs=/[#\?@]/g,pu=/#/g;function ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ks.prototype,r.add=function(u,m){bn(this),this.i=null,u=Us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){bn(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pl(u,m){return bn(u),m=Us(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function jl(u,m){bn(u);let v=[];if(typeof m=="string")Pl(u,m)&&(v=v.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bn(this),this.i=null,u=Us(this,u),Pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Us(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=_e(v);v=jl(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+_e(v[B])),u.push(te)}}return this.i=u.join("&")};function yu(u){const m=new ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(gu(this,T),Aa(this,L,v))},u)),u.j=m}function ui(u,m){const v=new yt;if(d.Image){const T=new Image;T.onload=A(Qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Qn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function zl(u,m){const v=new yt,T=new AbortController,L=setTimeout(()=>{T.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ls(){this.g=new En}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,Os),Ci.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){Rt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Pr,Rt),r=Pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ps(this):ci(this),this.readyState==3&&wa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},r.Na=function(u){this.g&&(this.response=u,Ps(this))},r.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function jr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&_e(v):st(u,m,v))}function ut(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,Rt);var Ni=/^https?$/i,Bl=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),ts(u)}function Hl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),ts(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},r.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(du)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ni.test(te?te.toLowerCase():"")}v=T}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Hl(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=es(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}We(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function js(u){this.za=0,this.i=[],this.j=new yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new Ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=js.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),Oi(this)};function ql(u){if(Ra(u),u.I==3){var m=u.V++,v=zt(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),Hr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Ur(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Au(u)}function zs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Ra(u){zs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||w(),Le||(ot(),Le=!0),C.add(m,u),u.D=0}}function xa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ye(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,L,m),v=zt(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),Hr(this,v),B&&(this.R?m="headers="+_e(Kn(B))+"&"+m:this.u&&jr(v,this.u,B)),Ml(this.h,L),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),L.U=!0,bi(L,v,null)):bi(L,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const T=zt(u.J);st(T,"SID",u.M),st(T,"RID",v),st(T,"AID",u.K),Hr(u,T),u.u&&u.o&&jr(T,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),bi(v,T,m)}function Hr(u,m){u.H&&Ve(u.H,function(v,T){st(m,T,v)}),u.l&&Ve({},function(v,T){st(m,T,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const Vt=["count="+v];Ce==-1?v>0?(Ce=L[0].g,Vt.push("ofs="+Ce)):Ce=0:Vt.push("ofs="+Ce);let et=!0;for(let Tt=0;Tt<v;Tt++){var B=L[Tt].g;const Yn=L[Tt].map;if(B-=Ce,B<0)Ce=Math.max(0,L[Tt].g-100),et=!1;else try{B="req"+B+"_"||"";try{var te=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Vi,fi]of te){let di=fi;y(fi)&&(di=Ti(fi)),Vt.push(B+Vi+"="+encodeURIComponent(di))}}catch(Vi){throw Vt.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Yn)}}if(et){te=Vt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||w(),Le||(ot(),Le=!0),C.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ye(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ye(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),zs(this),Eu(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ur(zt(m)),v.u=null,v.R=!0,va(v,u)}r.Va=function(){this.C!=null&&(this.C=null,zs(this),qr(this),Pe(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){Ia(u),Fl(u),u.g=null;var T=2}else if(xi(u.h,m))v=m.G,Vl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=pe(),Dt(T,new Qe(T,v)),Oi(u)}else vu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&xa(u,m)||T==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(T,"https"),Ur(T),L?ui(T.toString(),v):zl(T.toString(),v)}else Pe(2);u.I=0,u.l&&u.l.pa(m),Au(u),Ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var T=v instanceof Mn?zt(v):new Mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Mn(null);T&&Wt(B,T),m&&(B.g=m),L&&Ms(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&st(T,v,m),st(T,"VER",u.ka),Hr(u,T),T}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ci({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){Rt.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}S(yn,Rt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ql(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ti(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&Oi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,yn.Z.N.call(this)};function xu(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,Yt);function Iu(){H.call(this),this.status=1}S(Iu,H);function is(u){this.g=u}S(is,Ru),is.prototype.ra=function(){Dt(this.g,"a")},is.prototype.qa=function(u){Dt(this.g,new xu(u))},is.prototype.pa=function(u){Dt(this.g,new Iu)},is.prototype.oa=function(){Dt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,b1=function(){return new Bs},T1=function(){return pe()},E1=$,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Hc=ai,Vr.COMPLETE="complete",v1=Vr,Mr.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Do=Mr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,_1=ut}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",S0="4.9.3";let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Rl="12.7.0";const fa=new Cm("@firebase/firestore");function rl(){return fa.logLevel}function ae(r,...e){if(fa.logLevel<=Be.DEBUG){const i=e.map(zm);fa.debug(`Firestore (${Rl}): ${r}`,...i)}}function xs(r,...e){if(fa.logLevel<=Be.ERROR){const i=e.map(zm);fa.error(`Firestore (${Rl}): ${r}`,...i)}}function gl(r,...e){if(fa.logLevel<=Be.WARN){const i=e.map(zm);fa.warn(`Firestore (${Rl}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Te(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,A1(r,a,i)}function A1(r,e,i){let a=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xs(a),new Error(a)}function it(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||A1(e,o,a)}function Ie(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class S1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class Cw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Nw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it(typeof a.accessToken=="string",31837,{l:a}),new S1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class Dw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ow{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Dw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Vw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?He(o,c):qd(o)?1:-1}return He(r.length,e.length)}const kw=55296,Uw=57343;function qd(r){const e=r.charCodeAt(0);return e>=kw&&e<=Uw}function yl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const R0="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),o=ji.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class St extends ji{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const Lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ji{construct(e,i,a){return new un(e,i,a)}static isValidIdentifier(e){return Lw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new un([R0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(St.fromString(e))}static fromName(e){return new ge(St.fromString(e).popFirst(5))}static empty(){return new ge(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new St(e.slice()))}}function Pw(r,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jw(r,e,i,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function x0(r){if(!ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function _i(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Qt(r,e){const i={typeString:r};return e&&(i.value=e),i}function ru(r,e){if(!w1(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,C0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C0);return new Et(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Qt("string",Et._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Et(0,0))}static max(){return new we(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function zw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new Et(i+1,0):new Et(i,a));return new br(o,ge.empty(),e)}function Bw(r){return new br(r.readTime,r.key,Qo)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(we.min(),ge.empty(),Qo)}static max(){return new br(we.max(),ge.empty(),Qo)}}function Hw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(r.documentKey,e.documentKey),i!==0?i:He(r.largestBatchId,e.largestBatchId))}const qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==qw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Fw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Il(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const qm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function Qw(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const R1="";function Kw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=N0(e)),e=Yw(r.get(i),e);return N0(e)}function Yw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case R1:i+="";break;default:i+=c}}return i}function N0(r){return r+R1+""}function D0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ir(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function x1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new on(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new qn([])}unionWith(e){let i=new Jt(un.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(r){if(it(!!r,39018),typeof r=="string"){let e=0;const i=Xw.exec(r);if(it(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sr(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const C1="server_timestamp",N1="__type__",D1="__previous_value__",O1="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[N1]?.stringValue===C1}function vh(r){const e=r.mapValue.fields[D1];return Gm(e)?vh(e):e}function Ko(r){const e=Ar(r.mapValue.fields[O1].timestampValue);return new Et(e.seconds,e.nanos)}class $w{constructor(e,i,a,o,c,d,y,p,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Yo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}const M1="__type__",Jw="__max__",kc={mapValue:{}},V1="__vector__",sh="value";function wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:Ww(r)?9007199254740991:Zw(r)?10:11:Te(28295,{value:r})}function Qi(r,e){if(r===e)return!0;const i=wr(r);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ko(r).isEqual(Ko(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ar(o.timestampValue),y=Ar(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Sr(o.bytesValue).isEqual(Sr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Lt(o.doubleValue),y=Lt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return yl(r.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(D0(d)!==D0(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Qi(d[p],y[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Xo(r,e){return(r.values||[]).find((i=>Qi(i,e)))!==void 0}function _l(r,e){if(r===e)return 0;const i=wr(r),a=wr(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Lt(c.integerValue||c.doubleValue),p=Lt(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(r,e);case 3:return M0(r.timestampValue,e.timestampValue);case 4:return M0(Ko(r),Ko(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Sr(c),p=Sr(d);return y.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const A=He(y[_],p[_]);if(A!==0)return A}return He(y.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=He(Lt(c.latitude),Lt(d.latitude));return y!==0?y:He(Lt(c.longitude),Lt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return V0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[sh]?.arrayValue,A=p[sh]?.arrayValue,S=He(_?.values?.length||0,A?.values?.length||0);return S!==0?S:V0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let S=0;S<p.length&&S<A.length;++S){const M=om(p[S],A[S]);if(M!==0)return M;const F=_l(y[p[S]],_[A[S]]);if(F!==0)return F}return He(p.length,A.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function M0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const i=Ar(r),a=Ar(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function V0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=_l(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function vl(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ge.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function qc(r){switch(wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+qc(d)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function k0(r){return!!r&&"nullValue"in r}function U0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function Zw(r){return(r?.mapValue?.fields||{})[M1]?.stringValue===V1}function zo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ir(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zo(r.arrayValue.values[i]);return e}return{...r}}function Ww(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Jw}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(i)}setAll(e){let i=un.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=zo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Cn(zo(this.value))}}function k1(r){const e=[];return Ir(r.fields,((i,a)=>{const o=new un([i]);if(Gc(a)){const c=k1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class pn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new pn(e,0,we.min(),we.min(),we.min(),Cn.empty(),0)}static newFoundDocument(e,i,a,o){return new pn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new pn(e,2,i,we.min(),we.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,we.min(),we.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function L0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=_l(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function P0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Qi(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function eR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class U1{}class $t extends U1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new nR(e,i,a):i==="array-contains"?new rR(e,a):i==="in"?new aR(e,a):i==="not-in"?new lR(e,a):i==="array-contains-any"?new oR(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new iR(e,a):new sR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_l(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(_l(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends U1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return L1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L1(r){return r.op==="and"}function P1(r){return tR(r)&&L1(r)}function tR(r){for(const e of r.filters)if(e instanceof Ki)return!1;return!0}function hm(r){if(r instanceof $t)return r.field.canonicalString()+r.op.toString()+vl(r.value);if(P1(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function j1(r,e){return r instanceof $t?(function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Qi(a.value,o.value)})(r,e):r instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&j1(d,o.filters[y])),!0):!1})(r,e):void Te(19439)}function z1(r){return r instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${vl(i.value)}`})(r):r instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(z1).join(" ,")+"}"})(r):"Filter"}class nR extends $t{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class iR extends $t{constructor(e,i){super(e,"in",i),this.keys=B1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class sR extends $t{constructor(e,i){super(e,"not-in",i),this.keys=B1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function B1(r,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class rR extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Xo(i.arrayValue,this.value)}}class aR extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xo(this.value.arrayValue,i)}}class lR extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xo(this.value.arrayValue,i)}}class oR extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Xo(this.value.arrayValue,a)))}}class uR{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function j0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new uR(r,e,i,a,o,c,d)}function Qm(r){const e=Ie(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>vl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>vl(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!eR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!j1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P0(r.startAt,e.startAt)&&P0(r.endAt,e.endAt)}function fm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cR(r,e,i,a,o,c,d,y){return new Eh(r,e,i,a,o,c,d,y)}function Th(r){return new Eh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hR(r){return r.collectionGroup!==null}function Bo(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Jt(un.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(un.keyField().canonicalString())||e.Ie.push(new ah(un.keyField(),a))}return e.Ie}function Hi(r){const e=Ie(r);return e.Ee||(e.Ee=fR(e,Bo(r))),e.Ee}function fR(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Km(Hi(r),Hi(e))&&r.limitType===e.limitType}function H1(r){return`${Qm(Hi(r))}|lt:${r.limitType}`}function al(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>z1(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>vl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>vl(o))).join(",")),`Target(${a})`})(Hi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,p){const _=L0(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Bo(a),o)||a.endAt&&!(function(d,y,p){const _=L0(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Bo(a),o))})(r,e)}function dR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q1(r){return(e,i)=>{let a=!1;for(const o of Bo(r)){const c=mR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function mR(r,e,i){const a=r.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?_l(p,_):Te(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}const pR=new wt(ge.comparator);function Is(){return pR}const G1=new wt(ge.comparator);function Oo(...r){let e=G1;for(const i of r)e=e.insert(i.key,i);return e}function F1(r){let e=G1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Ho()}function Q1(){return Ho()}function Ho(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gR=new wt(ge.comparator),yR=new Jt(ge.comparator);function qe(...r){let e=yR;for(const i of r)e=e.add(i);return e}const _R=new Jt(He);function vR(){return _R}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function K1(r){return{integerValue:""+r}}function ER(r,e){return Qw(e)?K1(e):Ym(r,e)}class Sh{constructor(){this._=void 0}}function TR(r,e,i){return r instanceof lh?(function(o,c){const d={fields:{[N1]:{stringValue:C1},[O1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gm(c)&&(c=vh(c)),c&&(d.fields[D1]=c),{mapValue:d}})(i,e):r instanceof El?X1(r,e):r instanceof $o?$1(r,e):(function(o,c){const d=Y1(o,c),y=B0(d)+B0(o.Ae);return cm(d)&&cm(o.Ae)?K1(y):Ym(o.serializer,y)})(r,e)}function bR(r,e,i){return r instanceof El?X1(r,e):r instanceof $o?$1(r,e):i}function Y1(r,e){return r instanceof oh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends Sh{}class El extends Sh{constructor(e){super(),this.elements=e}}function X1(r,e){const i=J1(e);for(const a of r.elements)i.some((o=>Qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class $o extends Sh{constructor(e){super(),this.elements=e}}function $1(r,e){let i=J1(e);for(const a of r.elements)i=i.filter((o=>!Qi(o,a)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B0(r){return Lt(r.integerValue||r.doubleValue)}function J1(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class AR{constructor(e,i){this.field=e,this.transform=i}}function SR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof El&&o instanceof El||a instanceof $o&&o instanceof $o?yl(a.elements,o.elements,Qi):a instanceof oh&&o instanceof oh?Qi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,e.transform)}class wR{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function Z1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xm(r.key,vi.none()):new au(r.key,r.data,vi.none());{const i=r.data,a=Cn.empty();let o=new Jt(un.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(r.key,a,new qn(o.toArray()),vi.none())}}function RR(r,e,i){r instanceof au?(function(o,c,d){const y=o.value.clone(),p=q0(o.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Cr?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=q0(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(W1(o)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function qo(r,e,i,a){return r instanceof au?(function(c,d,y,p){if(!Fc(c.precondition,d))return y;const _=c.value.clone(),A=G0(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Cr?(function(c,d,y,p){if(!Fc(c.precondition,d))return y;const _=G0(c.fieldTransforms,p,d),A=d.data;return A.setAll(W1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function xR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Y1(a.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,c))}return i||null}function H0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yl(a,o,((c,d)=>SR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function W1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function q0(r,e,i){const a=new Map;it(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,bR(d,y,i[o]))}return a}function G0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,TR(c,d,e))}return a}class Xm extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Q1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const p=Z1(d,y);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((i,a)=>H0(i,a)))&&yl(this.baseMutations,e.baseMutations,((i,a)=>H0(i,a)))}}class $m{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){it(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return gR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new $m(e,i,a,o)}}class NR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ke;function OR(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function eE(r){if(r===void 0)return xs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ft.OK:return Z.OK;case Ft.CANCELLED:return Z.CANCELLED;case Ft.UNKNOWN:return Z.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Z.INTERNAL;case Ft.UNAVAILABLE:return Z.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Z.NOT_FOUND;case Ft.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ft.ABORTED:return Z.ABORTED;case Ft.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ft.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Ke=Ft||(Ft={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function MR(){return new TextEncoder}const VR=new vr([4294967295,4294967295],0);function F0(r){const e=MR().encode(r),i=new y1;return i.update(e),new Uint8Array(i.digest())}function Q0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vr([i,a],0),new vr([o,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(vr.fromNumber(a)));return o.compare(VR)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F0(e),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=F0(e),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(we.min(),o,new wt(He),Is(),qe())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,qe(),qe(),qe())}}class Qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class tE{constructor(e,i){this.targetId=e,this.Ce=i}}class nE{constructor(e,i,a=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class K0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new wt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new ge(c.path);this.et(i,d,pn.newNoDocument(d,we.min()))}else it(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(p){if(p instanceof I1)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Jm(d,o,c)}catch(p){return gl(p instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const p=new ge(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,pn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ye,this.je,a);return this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new wt(He),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new K0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new wt(ge.comparator)}function Y0(){return new wt(ge.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class jR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zR(r,e){return uh(r,e.toTimestamp())}function qi(r){return it(!!r,49232),we.fromTimestamp((function(i){const a=Ar(i);return new Et(a.seconds,a.nanos)})(r))}function Zm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function sE(r){const e=St.fromString(r);return it(uE(e),10190,{key:e.toString()}),e}function gm(r,e){return Zm(r.databaseId,e.path)}function Gd(r,e){const i=sE(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ge(aE(i))}function rE(r,e){return Zm(r.databaseId,e)}function BR(r){const e=sE(r);return e.length===4?St.emptyPath():aE(e)}function ym(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aE(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function X0(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function HR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),cn.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),cn.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:eE(_.code);return new ce(A,_.message||"")})(d);i=new nE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):we.min(),y=new Cn({mapValue:{fields:a.document.fields}}),p=pn.newFoundDocument(o,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?qi(a.readTime):we.min(),d=pn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new DR(o,c),y=a.targetId;i=new tE(y,d)}}return i}function qR(r,e){let i;if(e instanceof au)i={update:X0(r,e.key,e.value)};else if(e instanceof Xm)i={delete:gm(r,e.key)};else if(e instanceof Cr)i={update:X0(r,e.key,e.data),updateMask:ZR(e.fieldMask)};else{if(!(e instanceof IR))return Te(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof $o)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:zR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),i}function GR(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(we.min())&&(d=qi(c)),new wR(d,o.transformResults||[])})(i,e)))):[]}function FR(r,e){return{documents:[rE(r,e.path)]}}function QR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rE(r,o);const c=(function(_){if(_.length!==0)return oE(Ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:ll(M.field),direction:XR(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function KR(r){let e=BR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){it(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=lE(S);return M instanceof Ki&&P1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new ah(ol(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,F=S.values||[];return new rh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new rh(F,M)})(i.endAt)),cR(e,o,d,c,y,"F",p,_)}function YR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(i){return $t.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>lE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(r):Te(30097,{filter:r})}function XR(r){return UR[r]}function $R(r){return LR[r]}function JR(r){return PR[r]}function ll(r){return{fieldPath:r.canonicalString()}}function ol(r){return un.fromServerFormat(r.fieldPath)}function oE(r){return r instanceof $t?(function(i){if(i.op==="=="){if(U0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(k0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(k0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:$R(i.op),value:i.value}}})(r):r instanceof Ki?(function(i){const a=i.getFilters().map((o=>oE(o)));return a.length===1?a[0]:{compositeFilter:{op:JR(i.op),filters:a}}})(r):Te(54877,{filter:r})}function ZR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function uE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class pr{constructor(e,i,a,o,c=we.min(),d=we.min(),y=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WR{constructor(e){this.yt=e}}function ex(r){const e=KR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class tx{constructor(){this.Cn=new nx}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(br.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class nx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(St.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(St.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(cE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const J0="LruGarbageCollector",ix=1048576;function Z0([r,e],[i,a]){const o=He(r,i);return o===0?He(e,a):o}class sx{constructor(e){this.Ir=e,this.buffer=new Jt(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(J0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Il(i)?ae(J0,"Ignoring IndexedDB error during garbage collection: ",i):await xl(i)}await this.Vr(3e5)}))}}class ax{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(yh.ce);const a=new sx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,p,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),rl()<=Be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function lx(r,e){return new ax(r,e)}class ox{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ux{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class cx{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&qo(a.mutation,o,qn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Is();const d=Ho(),y=(function(){return Ho()})();return i.forEach(((p,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Cr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),qo(A.mutation,_,A.mutation.getFieldMask(),Et.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new ux(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new wt(((d,y)=>d-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let A=a.get(p)||qn.empty();A=y.applyToLocalView(_,A),a.set(p,A);const S=(o.get(y.batchId)||qe()).add(p);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,A=p.value,S=Q1();A.forEach((M=>{if(!c.has(M)){const F=Z1(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(oa());let y=Qo,p=c;return d.next((_=>J.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{p=p.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,qe()))).next((A=>({batchId:y,changes:F1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(p=>{const _=(function(S,M){return new Eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let y=Oo();return d.forEach(((p,_)=>{const A=c.get(p);A!==void 0&&qo(A.mutation,_,qn.empty(),Et.now()),Ah(i,_)&&(y=y.insert(p,_))})),y}))}}class hx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ex(o.bundledQuery),readTime:qi(o.readTime)}})(i)),J.resolve()}}class fx{constructor(){this.overlays=new wt(ge.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new ge(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new wt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=oa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=oa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return J.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NR(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dx{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Wm{constructor(){this.Qr=new Jt(tn.$r),this.Ur=new Jt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new tn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new St([])),a=new tn(i,e),o=new tn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new St([])),a=new tn(i,e),o=new tn(i,e+1);let c=qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class mx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(tn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CR(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new tn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(He);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new tn(new ge(c),0);let y=new Jt(He);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(p.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new tn(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class px{constructor(e){this.ri=e,this.docs=(function(){return new wt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let a=Is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Is();const d=i.path,y=new ge(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Hw(Bw(A),a)<=0||(o.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new gx(this)}getSize(e){return J.resolve(this.size)}}class gx extends ox{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class yx{constructor(e){this.persistence=e,this.si=new pa((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class hE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new dx,this.referenceDelegate=e(this),this.Pi=new yx(this),this.indexManager=new tx,this.remoteDocumentCache=(function(o){return new px(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new WR(i),this.Ii=new hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new mx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new _x(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class _x extends Gw{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new ep(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new pa((a=>Kw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=lx(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tp(e,i.fromCache,a,o)}}class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ex{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aA()?8:Fw(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vx;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(rl()<=Be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(rl()<=Be.DEBUG&&ae("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(rl()<=Be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(i))):J.resolve())}ys(e,i){if(z0(i))return J.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.Ds(i,y);return this.Cs(i,_,d,p.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,a,o){return z0(i)||o.isEqual(we.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(rl()<=Be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.vs(e,d,i,zw(o,Qo)).next((y=>y)))}))}Ds(e,i){let a=new Jt(q1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return rl()<=Be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",al(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",Tx=3e8;class bx{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new wt(He),this.xs=new pa((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Ax(r,e,i,a){return new bx(r,e,i,a)}async function fE(r,e){const i=Ie(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=qe();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Sx(r,e){const i=Ie(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,A){const S=_.batch,M=S.keys();let F=J.resolve();return M.forEach((W=>{F=F.next((()=>A.getEntry(p,W))).next((se=>{const ee=_.docVersions.get(W);it(ee!==null,48541),se.version.compareTo(ee)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function dE(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wx(r,e){const i=Ie(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(cn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(S,F),(function(se,ee,me){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=Tx?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(M,F,A)&&y.push(i.Pi.updateTargetData(c,F))}));let p=Is(),_=qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(Rx(c,d,e.documentUpdates).next((A=>{p=A.ks,_=A.qs}))),!a.isEqual(we.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=o,c)))}function Rx(r,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Is();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):ae(np,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function xx(r,e){const i=Ie(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Ix(r,e){const i=Ie(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=Ie(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;ae(np,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function W0(r,e,i){const a=Ie(r);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,A){const S=Ie(p),M=S.xs.get(A);return M!==void 0?J.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,Hi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:qe()))).next((y=>(Cx(a,dR(e),y),{documents:y,Qs:c})))))}function Cx(r,e,i){let a=r.Os.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class ev{constructor(){this.activeTargetIds=vR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nx{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dx{Oo(e){}shutdown(){}}const tv="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function vm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Fd="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:_}=new URL(y),A=Al(_);return this.Jo(e,y,p,a,A).then((S=>(ae(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw gl(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=Ox[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Vx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class kx extends Mx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((y,p)=>{const _=new _1;_.setWithCredentials(!0),_.listenOnce(v1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();ae(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Hc.TIMEOUT:ae(dn,`RPC '${e}' ${d} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const se=(function(me){const fe=me.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(fe)>=0?fe:Z.UNKNOWN})(W.status);p(new ce(se,W.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(dn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=b1(),y=T1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");ae(dn,`Creating RPC '${e}' stream ${o}: ${A}`,p);const S=d.createWebChannel(A,p);this.I_(S);let M=!1,F=!1;const W=new Vx({Yo:ee=>{F?ae(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(ae(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),ae(dn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),se=(ee,me,fe)=>{ee.listen(me,(de=>{try{fe(de)}catch(Ze){setTimeout((()=>{throw Ze}),0)}}))};return se(S,Do.EventType.OPEN,(()=>{F||(ae(dn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(S,Do.EventType.CLOSE,(()=>{F||(F=!0,ae(dn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),se(S,Do.EventType.ERROR,(ee=>{F||(F=!0,gl(dn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),se(S,Do.EventType.MESSAGE,(ee=>{if(!F){const me=ee.data[0];it(!!me,16349);const fe=me,de=fe?.error||fe[0]?.error;if(de){ae(dn,`RPC '${e}' stream ${o} received error:`,de);const Ze=de.status;let ot=(function(w){const I=Ft[w];if(I!==void 0)return eE(I)})(Ze),Le=de.message;ot===void 0&&(ot=Z.INTERNAL,Le="Unknown error status: "+Ze+" with message "+de.message),F=!0,W.a_(new ce(ot,Le)),S.close()}else ae(dn,`RPC '${e}' stream ${o} received:`,me),W.u_(me)}})),se(y,E1.STAT_EVENT,(ee=>{ee.stat===lm.PROXY?ae(dn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&ae(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function xh(r){return new jR(r,!0)}class mE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iv="PersistentStream";class pE{constructor(e,i,a,o,c,d,y,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(xs(i.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ux extends pE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=HR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?qi(d.readTime):we.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=fm(p)?{documents:FR(c,p)}:{query:QR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=YR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class Lx extends pE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GR(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>qR(this.serializer,a)))};this.q_(i)}}class Px{}class jx extends Px{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,pm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class Bx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(ae(da,"Restarting streams for network reachability change."),await(async function(p){const _=Ie(p);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new zx(a,o)}}async function Ih(r){if(ga(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function gE(r,e){const i=Ie(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ap(i)?rp(i):Cl(i).O_()&&sp(i,e))}function ip(r,e){const i=Ie(r),a=Cl(i);i.Ia.delete(e),a.O_()&&yE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function sp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cl(r).Y_(e)}function yE(r,e){r.Va.Ue(e),Cl(r).Z_(e)}function rp(r){r.Va=new kR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.Ra.ua()}function ap(r){return ga(r)&&!Cl(r).x_()&&r.Ia.size>0}function ga(r){return Ie(r).Ea.size===0}function _E(r){r.Va=void 0}async function Hx(r){r.Ra.set("Online")}async function qx(r){r.Ia.forEach(((e,i)=>{sp(r,e)}))}async function Gx(r,e){_E(r),ap(r)?(r.Ra.ha(e),rp(r)):r.Ra.set("Unknown")}async function Fx(r,e,i){if(r.Ra.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ae(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Qc?r.Va.Ze(e):e instanceof tE?r.Va.st(e):r.Va.tt(e),!i.isEqual(we.min()))try{const a=await dE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const A=c.Ia.get(p);if(!A)return;c.Ia.set(p,A.withResumeToken(cn.EMPTY_BYTE_STRING,A.snapshotVersion)),yE(c,p);const S=new pr(A.target,p,_,A.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(da,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!Il(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),i||(i=()=>dE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function vE(r,e){return e().catch((i=>hh(r,i,e)))}async function Ch(r){const e=Ie(r),i=Rr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;Qx(e);)try{const o=await xx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Kx(e,o)}catch(o){await hh(e,o)}EE(e)&&TE(e)}function Qx(r){return ga(r)&&r.Ta.length<10}function Kx(r,e){r.Ta.push(e);const i=Rr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function EE(r){return ga(r)&&!Rr(r).x_()&&r.Ta.length>0}function TE(r){Rr(r).start()}async function Yx(r){Rr(r).ra()}async function Xx(r){const e=Rr(r);for(const i of r.Ta)e.ea(i.mutations)}async function $x(r,e,i){const a=r.Ta.shift(),o=$m.from(a,e,i);await vE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function Jx(r,e){e&&Rr(r).X_&&await(async function(a,o){if((function(d){return OR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Rr(a).B_(),await vE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,e),EE(r)&&TE(r)}async function sv(r,e){const i=Ie(r);i.asyncQueue.verifyOperationInProgress(),ae(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function Zx(r,e){const i=Ie(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Cl(r){return r.ma||(r.ma=(function(i,a,o){const c=Ie(i);return c.sa(),new Ux(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Hx.bind(null,r),t_:qx.bind(null,r),r_:Gx.bind(null,r),H_:Fx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ap(r)?rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),_E(r))}))),r.ma}function Rr(r){return r.fa||(r.fa=(function(i,a,o){const c=Ie(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yx.bind(null,r),r_:Jx.bind(null,r),ta:Xx.bind(null,r),na:$x.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class lp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new lp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(xs("AsyncQueue",`${e}: ${r}`),Il(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class rv{constructor(){this.ga=new wt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new bl(e,i,dl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Wx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eI{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ie(i),c=o.queries;o.queries=av(),c.forEach(((d,y)=>{for(const p of y.Sa)p.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function av(){return new pa((r=>H1(r)),bh)}async function bE(r,e){const i=Ie(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new Wx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=op(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function AE(r,e){const i=Ie(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tI(r,e){const i=Ie(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&up(i)}function nI(r,e,i){const a=Ie(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function up(r){r.Ca.forEach((e=>{e.next()}))}var Em,lv;(lv=Em||(Em={})).Ma="default",lv.Cache="cache";class SE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class wE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class iI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=q1(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),F=Ah(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?W!==se&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(p&&this.eu(F,p)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(p||_)&&(y=!0)),ee&&(F?(d=d.add(F),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(F,W){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return se(F)-se(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new RE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new wE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class sI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class rI{constructor(e){this.key=e,this.hu=!1}}class aI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((y=>H1(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ge.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(r,e,i=!0){const a=OE(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await xE(a,e,i,!0),o}async function oI(r,e){const i=OE(r);await xE(i,e,!0,!1)}async function xE(r,e,i,a){const o=await Ix(r.localStore,Hi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await uI(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&gE(r.remoteStore,o),y}async function uI(r,e,i,a,o){r.pu=(S,M,F)=>(async function(se,ee,me,fe){let de=ee.view.ru(me);de.Cs&&(de=await W0(se.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,de))));const Ze=fe&&fe.targetChanges.get(ee.targetId),ot=fe&&fe.targetMismatches.get(ee.targetId)!=null,Le=ee.view.applyChanges(de,se.isPrimaryClient,Ze,ot);return uv(se,ee.targetId,Le.au),Le.snapshot})(r,S,M,F);const c=await W0(r.localStore,e,!0),d=new iI(e,c.Qs),y=d.ru(c.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,p);uv(r,i,_.au);const A=new sI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function cI(r,e,i){const a=Ie(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ip(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(xl)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function hI(r,e){const i=Ie(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ip(i.remoteStore,a.targetId))}async function fI(r,e,i){const a=vI(r);try{const o=await(function(d,y){const p=Ie(d),_=Et.now(),A=y.reduce(((F,W)=>F.add(W.key)),qe());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Is(),se=qe();return p.Ns.getEntries(F,A).next((ee=>{W=ee,W.forEach(((me,fe)=>{fe.isValidDocument()||(se=se.add(me))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,W))).next((ee=>{S=ee;const me=[];for(const fe of y){const de=xR(fe,S.get(fe.key).overlayedDocument);de!=null&&me.push(new Cr(fe.key,de,k1(de.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,me,y)})).next((ee=>{M=ee;const me=ee.applyToLocalDocumentSet(S,se);return p.documentOverlayCache.saveOverlays(F,ee.batchId,me)}))})).then((()=>({batchId:M.batchId,changes:F1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new wt(He)),_=_.insert(y,p),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await uu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=op(o,"Failed to persist write");i.reject(c)}}async function IE(r,e){const i=Ie(r);try{const a=await wx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?it(d.hu,14607):o.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await xl(a)}}function ov(r,e,i){const a=Ie(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const p=Ie(d);p.onlineState=y;let _=!1;p.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&up(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function dI(r,e,i){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new wt(ge.comparator);d=d.insert(c,pn.newNoDocument(c,we.min()));const y=qe().add(c),p=new Rh(we.min(),new Map,new wt(He),d,y);await IE(a,p),a.du=a.du.remove(c),a.Au.delete(e),hp(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(xl)}async function mI(r,e){const i=Ie(r),a=e.batch.batchId;try{const o=await Sx(i.localStore,e);NE(i,a,null),CE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await xl(o)}}async function pI(r,e,i){const a=Ie(r);try{const o=await(function(d,y){const p=Ie(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>(it(S!==null,37113),A=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>p.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);NE(a,e,i),CE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await xl(o)}}function CE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function NE(r,e,i){const a=Ie(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||DE(r,a)}))}function DE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ip(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),hp(r))}function uv(r,e,i){for(const a of i)a instanceof wE?(r.Ru.addReference(a.key,e),gI(r,a)):a instanceof RE?(ae(cp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||DE(r,a.key)):Te(19791,{wu:a})}function gI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(cp,"New document in limbo: "+i),r.Eu.add(a),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ge(St.fromString(e)),a=r.fu.next();r.Au.set(a,new rI(i)),r.du=r.du.insert(i,a),gE(r.remoteStore,new pr(Hi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function uu(r,e,i){const a=Ie(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=tp.As(p.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(p,_){const A=Ie(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(M=>J.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>J.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!Il(S))throw S;ae(np,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),W=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,se)}}})(a.localStore,c))}async function yI(r,e){const i=Ie(r);if(!i.currentUser.isEqual(e)){ae(cp,"User change. New user:",e.toKey());const a=await fE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function _I(r,e){const i=Ie(r),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function OE(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dI.bind(null,e),e.Pu.H_=tI.bind(null,e.eventManager),e.Pu.yu=nI.bind(null,e.eventManager),e}function vI(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ax(this.persistence,new Ex,e.initialUser,this.serializer)}Cu(e){return new hE(ep.mi,this.serializer)}Du(e){return new Nx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class EI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new hE((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await Zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eI})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=(function(c){return new kx(c)})(e.databaseInfo);return(function(c,d,y,p){return new jx(c,d,y,p)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new Bx(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new Dx})())}createSyncEngine(e,i){return(function(o,c,d,y,p,_,A){const S=new aI(o,c,d,y,p,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);ae(da,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const xr="FirestoreClient";class TI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=op(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(xr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await fE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function cv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bI(r);ae(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>sv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>sv(e.remoteStore,o))),r._onlineComponents=e}async function bI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(xr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;gl("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new fh)}}else ae(xr,"Using default OfflineComponentProvider"),await Kd(r,new EI(void 0));return r._offlineComponents}async function VE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(xr,"Using user provided OnlineComponentProvider"),await cv(r,r._uninitializedComponentsProvider._online)):(ae(xr,"Using default OnlineComponentProvider"),await cv(r,new bm))),r._onlineComponents}function AI(r){return VE(r).then((e=>e.syncEngine))}async function Am(r){const e=await VE(r),i=e.eventManager;return i.onListen=lI.bind(null,e.syncEngine),i.onUnlisten=cI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=oI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,e.syncEngine),i}function SI(r,e,i={}){const a=new Er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const A=new ME({next:M=>{A.Nu(),d.enqueueAndForget((()=>AE(c,S)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&p.source==="server"?_.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new SE(Th(y.path),A,{includeMetadataChanges:!0,qa:!0});return bE(c,S)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function kE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const hv=new Map;const UE="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ix)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Iw;switch(a.type){case"firstParty":return new Ow(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function wI(r,e,i,a={}){r=_i(r,fp);const o=Al(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(Ov(`https://${y}`),Mv("Firestore",!0)),c.host!==UE&&c.host!==y&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:o,emulatorOptions:a};if(!Tr(p,d)&&(r._setSettings(p),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=mn.MOCK_USER;else{_=Jb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(S)}r._authCredentials=new Cw(new S1(_,A))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Kt._jsonSchema))return new Kt(e,a||null,new ge(St.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Jo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ge(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Bn(r,e,...i){if(r=vn(r),arguments.length===1&&(e=Bm.newId()),Pw("doc","path",e),r instanceof fp){const a=St.fromString(e,...i);return x0(a),new Kt(r,null,new ge(a))}{if(!(r instanceof Kt||r instanceof Jo))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...i));return x0(a),new Kt(r.firestore,r instanceof Jo?r.converter:null,new ge(a))}}const mv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ae(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=lp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function yv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ma extends fp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function RI(r,e){const i=typeof r=="object"?r:Lv(),a=typeof r=="string"?r:ih,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Xb("firestore");c&&wI(o,...c)}return o}function dp(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xI(r),r._firestoreClient}function xI(r){const e=r._freezeSettings(),i=(function(o,c,d,y){return new $w(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(cn.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Qt("string",ri._jsonSchemaVersion),bytes:Qt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Qt("string",Gi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Qt("string",Fi._jsonSchemaVersion),vectorValues:Qt("object")};const II=/^__.*__$/;class CI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class LE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function PE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PE(this.Ac)&&II.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jE(r){const e=r._freezeSettings(),i=xh(r._databaseId);return new NI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function DI(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);pp("Data must be an object, but it was:",d,a);const y=zE(a,d);let p,_;if(c.merge)p=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Sm(e,S,i);if(!d.contains(M))throw new ce(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HE(A,M)||A.push(M)}p=new qn(A),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new CI(new Cn(y),p,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function OI(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=OI(this,e,!0),a=this.vc.map((c=>cu(c,i))),o=new El(a);return new AR(e.path,o)}isEqual(e){return e instanceof mp&&Tr(this.vc,e.vc)}}function MI(r,e,i,a){const o=r.Cc(1,e,i);pp("Data must be an object, but it was:",o,a);const c=[],d=Cn.empty();Ir(a,((p,_)=>{const A=gp(e,p,i);_=vn(_);const S=o.yc(A);if(_ instanceof Vh)c.push(A);else{const M=cu(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const y=new qn(c);return new LE(d,y,o.fieldTransforms)}function VI(r,e,i,a,o,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],p=[o];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),p.push(c[M+1]);const _=[],A=Cn.empty();for(let M=y.length-1;M>=0;--M)if(!HE(_,y[M])){const F=y[M];let W=p[M];W=vn(W);const se=d.yc(F);if(W instanceof Vh)_.push(F);else{const ee=cu(W,se);ee!=null&&(_.push(F),A.set(F,ee))}}const S=new qn(_);return new LE(A,S,d.fieldTransforms)}function cu(r,e){if(BE(r=vn(r)))return pp("Unsupported field value:",e,r),zE(r,e);if(r instanceof Oh)return(function(a,o){if(!PE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let p=cu(y,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ER(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Et.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof Et){const c=new Et(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:iE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Fi)return(function(d,y){return{mapValue:{fields:{[M1]:{stringValue:V1},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Hm(a)}`)})(r,e)}function zE(r,e){const i={};return x1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(r,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof Gi||r instanceof ri||r instanceof Kt||r instanceof Oh||r instanceof Fi)}function pp(r,e,i){if(!BE(i)||!w1(i)){const a=Hm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=vn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return gp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kI=new RegExp("[~\\*/\\[\\]]");function gp(r,e,i){if(e.search(kI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,y+r+p)}function HE(r,e){return r.some((i=>i.isEqual(e)))}class qE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends qE{data(){return super.data()}}function GE(r,e){return typeof e=="string"?gp(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function LI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>Lt(a.doubleValue)));return new Fi(i)}convertGeoPoint(e){return new Gi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);it(uE(a),9688,{name:e});const o=new Yo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||xs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends qE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(GE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Qt("string",ua._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Kc extends ua{data(e={}){return super.data(e)}}class ml{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const p=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:zI(y.type),doc:p,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function BI(r){r=_i(r,Kt);const e=_i(r.firestore,ma);return SI(dp(e),r._key).then((i=>QE(e,r,i)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Qt("string",ml._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class FE extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function HI(r,e,i){r=_i(r,Kt);const a=_i(r.firestore,ma),o=jI(r.converter,e);return yp(a,[DI(jE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,vi.none())])}function vs(r,e,i,...a){r=_i(r,Kt);const o=_i(r.firestore,ma),c=jE(o);let d;return d=typeof(e=vn(e))=="string"||e instanceof Dh?VI(c,"updateDoc",r._key,e,i,a):MI(c,"updateDoc",r._key,e),yp(o,[d.toMutation(r._key,vi.exists(!0))])}function qI(r){return yp(_i(r.firestore,ma),[new Xm(r._key,vi.none())])}function _v(r,...e){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,d,y;if(r instanceof Kt)d=_i(r.firestore,ma),y=Th(r._key.path),c={next:p=>{e[a]&&e[a](QE(d,r,p))},error:e[a+1],complete:e[a+2]};else{const p=_i(r,Nh);d=_i(p.firestore,ma),y=p._query;const _=new FE(d);c={next:A=>{e[a]&&e[a](new ml(d,_,p,A))},error:e[a+1],complete:e[a+2]},LI(r._query)}return(function(_,A,S,M){const F=new ME(M),W=new SE(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>bE(await Am(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>AE(await Am(_),W)))}})(dp(d),y,o,c)}function yp(r,e){return(function(a,o){const c=new Er;return a.asyncQueue.enqueueAndForget((async()=>fI(await AI(a),o,c))),c.promise})(dp(r),e)}function QE(r,e,i){const a=i.docs.get(e._key),o=new FE(r);return new ua(r,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function Yd(...r){return new mp("arrayUnion",r)}(function(e,i=!0){(function(o){Rl=o})(Sl),pl(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ma(new Nw(a.getProvider("auth-internal")),new Mw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),_r(A0,S0,e),_r(A0,S0,"esm2020")})();const GI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),vv=r=>{const e=FI(r);return e.charAt(0).toUpperCase()+e.slice(1)},KE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),QI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YI=Je.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},p)=>Je.createElement("svg",{ref:p,...KI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:KE("lucide",o),...!c&&!QI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Je.createElement(_,A)),...Array.isArray(c)?c:[c]]));const lt=(r,e)=>{const i=Je.forwardRef(({className:a,...o},c)=>Je.createElement(YI,{ref:c,iconNode:e,className:KE(`lucide-${GI(vv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=vv(r),i};const XI=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],$I=lt("arrow-right-left",XI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=lt("book-open",JI);const ZI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],WI=lt("briefcase",ZI);const eC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tC=lt("circle-check-big",eC);const nC=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],la=lt("coins",nC);const iC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YE=lt("copy",iC);const sC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xd=lt("crown",sC);const rC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],aC=lt("dice-5",rC);const lC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rm=lt("eye",lC);const oC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],uC=lt("gavel",oC);const cC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],XE=lt("ghost",cC);const hC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],fC=lt("hammer",hC);const dC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],mC=lt("hand",dC);const pC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gC=lt("history",pC);const yC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],_C=lt("hourglass",yC);const vC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ev=lt("loader-circle",vC);const EC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xm=lt("log-out",EC);const TC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],bC=lt("scale",TC);const AC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$E=lt("search",AC);const SC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wC=lt("shield",SC);const RC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],xC=lt("skull",RC);const IC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tv=lt("sparkles",IC);const CC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ko=lt("trash-2",CC);const NC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JE=lt("triangle-alert",NC);const DC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZE=lt("trophy",DC);const OC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WE=lt("user",OC);const MC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VC=lt("users",MC);const kC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uo=lt("x",kC);const UC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],LC=lt("zap",UC),PC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},eT=Uv(PC),$d=Rw(eT),Hn=RI(eT),ii=typeof __app_id<"u"?__app_id:"guild-shadows",jC="15",bv=3,pt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:la,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:mC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:1,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:aC,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:xC,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:uC,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:3,desc:"Copy effect of last Action card.",icon:YE,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:WI,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:$E,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:3,desc:"Immune to theft & assassination.",icon:wC,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:bC,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:JE,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},zC=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],Av=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Sv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(XE,{size:12,className:"text-purple-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Jd=r=>r<=2?20:r===3?18:15,Zd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),BC=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),HC=({event:r,onClose:e})=>{if(Je.useEffect(()=>{if(r){const d=setTimeout(e,4e3);return()=>clearTimeout(d)}},[r,e]),!r)return null;const i=r.type==="SCOUT",a=r.type==="DISCARD",o=r.type==="PLAY",c=r.cardId?pt[r.cardId]:null;return b.jsx("div",{className:"fixed inset-0 z-[180] flex items-center justify-center pointer-events-none px-4",children:b.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl border-2 border-purple-500/50 shadow-[0_0_50px_rgba(168,85,247,0.4)] rounded-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 pointer-events-auto",children:[b.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-purple-900 to-gray-900 p-3 text-center border-b border-purple-500/30",children:[b.jsxs("h3",{className:"font-bold text-lg text-white tracking-widest uppercase flex items-center justify-center gap-2",children:[b.jsx(WE,{size:18,className:"text-purple-400"}),r.actorName]}),b.jsx("div",{className:"text-[10px] text-purple-200 uppercase tracking-widest opacity-80",children:i?"Scouting Mission":a?"Forced Discard":"Played Action"})]}),b.jsxs("div",{className:"p-6 flex flex-col items-center",children:[b.jsx("div",{className:"mb-6 scale-110",children:o&&c?b.jsx(Lo,{cardId:r.cardId,small:!0,disabled:!0,showCost:!1}):b.jsx("div",{className:"w-20 h-28 bg-gray-800 rounded-xl border-2 border-gray-600 flex items-center justify-center shadow-inner",children:i?b.jsx(Rm,{size:32,className:"text-blue-400"}):b.jsx(ko,{size:32,className:"text-red-400"})})}),b.jsxs("div",{className:"w-full space-y-2",children:[r.outcomes.map((d,y)=>b.jsx("div",{className:"bg-black/40 rounded p-2 text-center text-sm border border-gray-700/50 text-gray-200 shadow-sm font-medium",children:d},y)),r.outcomes.length===0&&b.jsx("div",{className:"text-center text-gray-500 text-xs italic",children:"No visible effect."})]})]})]})})},Lo=({cardId:r,onClick:e,disabled:i,highlight:a,small:o,tiny:c,turnsLeft:d,showCost:y=!0})=>{const p=pt[r];if(!p)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsxs("div",{className:`relative w-6 h-8 rounded flex items-center justify-center ${p.bg} border ${p.border} shadow-sm`,title:p.name,children:[b.jsx(p.icon,{className:`${p.color} w-3.5 h-3.5`}),d!==void 0&&b.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-black text-[9px] text-white w-4 h-4 rounded-full flex items-center justify-center border border-gray-500 z-10",children:d})]});const _=o?"w-20 h-28 p-1.5":"w-24 h-40 md:w-32 md:h-48 p-2",A=o?20:28,S=o?"text-[8px]":"text-[9px] md:text-[10px]",M=o?"text-[10px]":"text-[11px] md:text-xs";return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible shrink-0
        ${_} ${p.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":p.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-center font-bold text-gray-300",children:[b.jsx("span",{className:`${o?"text-[8px]":"text-[10px]"} ${p.type==="AGENT"?"text-blue-300":"text-amber-200"}`,children:p.type==="AGENT"?"AGT":"ACT"}),y&&p.cost>0&&b.jsxs("span",{className:"bg-black/50 px-1.5 rounded text-yellow-400 flex items-center gap-0.5 text-[10px]",children:[p.cost," ",b.jsx(la,{size:8})]})]}),b.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[b.jsx(p.icon,{className:`${p.color}`,size:A}),d!==void 0&&b.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[b.jsx(_C,{size:8,className:"text-gray-400"}),b.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),b.jsxs("div",{className:"w-full text-center",children:[b.jsx("div",{className:`font-bold text-white leading-tight mb-1 line-clamp-1 ${M}`,children:p.name}),b.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1 w-full
            ${S} h-auto p-1 whitespace-normal text-center
          `,children:p.desc})]})]})},wv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[b.jsx(wm,{size:18})," Guild Archives"]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:b.jsx(Uo,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[b.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[b.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[b.jsx(ZE,{size:18,className:"text-yellow-400"})," Victory Condition"]}),b.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),b.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"4 Players:"})," 15 Gold"]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(LC,{size:18})," Actions"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[pt.URCHIN,pt.THIEF,pt.HEIST,pt.ASSASSIN,pt.BLACKMAIL,pt.DOPPELGANGER].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(VC,{size:18})," Agents"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[pt.MERCHANT,pt.LOOKOUT,pt.BODYGUARD,pt.POLITICIAN,pt.SABOTEUR].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[b.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",b.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",b.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),qC=({report:r})=>r?b.jsxs("div",{className:"w-full bg-green-950/40 border-b border-green-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-300",children:r.breakdown.map((e,i)=>b.jsxs("span",{className:"flex gap-1 items-center",children:[b.jsxs("span",{className:"text-gray-400",children:[e.source,":"]}),b.jsxs("span",{className:"text-green-300",children:["+",e.amount]})]},i))}),r.expired.length>0&&b.jsxs("div",{className:"text-[9px] text-red-300 mt-0.5 flex gap-1 items-center",children:[b.jsx(xm,{size:8})," Lost:"," ",r.expired.map(e=>pt[e]?.name).join(", ")]})]}),b.jsx("div",{className:"pl-3 border-l border-green-500/20 flex flex-col items-center justify-center text-green-400 shrink-0",children:b.jsxs("span",{className:"text-sm font-black",children:["+",r.income]})})]}):null,GC=({report:r})=>r?b.jsxs("div",{className:"w-full bg-indigo-950/40 border-b border-indigo-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[b.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[b.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase",children:r.actionName}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-[9px] text-gray-400",children:[b.jsxs("span",{children:["Cost: ",r.cost]}),r.tax>0&&b.jsxs("span",{className:"text-red-400",children:["Tax: ",r.tax]}),r.gains.map((e,i)=>b.jsxs("span",{className:"text-green-300",children:[e.desc,": +",e.amount]},i))]})]}),b.jsx("div",{className:"pl-3 border-l border-indigo-500/20 flex flex-col items-center justify-center shrink-0",children:b.jsxs("span",{className:`text-sm font-black ${r.netChange>=0?"text-green-400":"text-red-400"}`,children:[r.netChange>0?"+":"",r.netChange]})})]}):null;function FC(){const[r,e]=Je.useState(null),[i,a]=Je.useState("menu"),[o,c]=Je.useState(""),[d,y]=Je.useState(""),[p,_]=Je.useState(null),[A,S]=Je.useState(""),[M,F]=Je.useState(!1),[W,se]=Je.useState(localStorage.getItem("guild_room_id")||""),[ee,me]=Je.useState(!1),[fe,de]=Je.useState(null),[Ze,ot]=Je.useState(null),[Le,C]=Je.useState(!1),[w,I]=Je.useState(!1),[k,N]=Je.useState(!1),[V,R]=Je.useState(null),[nt,At]=Je.useState(null),[G,ne]=Je.useState(null),[ue,Ve]=Je.useState(null),[We,O]=Je.useState(null),Y=Je.useRef(0),[ie,re]=Je.useState(null),[Ee,Re]=Je.useState(null);Je.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await f2($d,__initial_auth_token):await l2($d))(),p2($d,e)),[]),Je.useEffect(()=>{if(!(!W||!r))return _v(Bn(Hn,"artifacts",ii,"public","data","rooms",W),H=>{if(H.exists()){const $=H.data();if(!$.players.some(pe=>pe.id===r.uid)){se(""),a("menu"),S("You have been removed from the guild.");return}_($),$.latestPublicEvent&&$.latestPublicEvent.id>Y.current&&(Y.current=$.latestPublicEvent.id,O($.latestPublicEvent)),$.status==="playing"&&$.turnReport&&$.turnReport.playerId===r.uid&&!$.turnReport.seen&&(re($.turnReport),Re(null)),$.status==="playing"&&$.eveningReport&&$.eveningReport.playerId===r.uid&&!$.eveningReport.seen&&(Re($.eveningReport),re(null)),$.status==="lobby"?a("lobby"):($.status==="playing"||$.status==="finished")&&a("game")}else se(""),a("menu"),S("The Guild Hall was disbanded by the host.")},H=>console.error(H))},[W,r]),Je.useEffect(()=>{const H=_v(Bn(Hn,"game_hub_settings","config"),$=>{$.exists()&&$.data()[jC]?.maintenance?me(!0):me(!1)});return()=>H()},[]);const Me=(H,$,be,pe)=>{ot({type:H,message:$,subtext:be,icon:pe}),setTimeout(()=>ot(null),2500)},Nt=async()=>{if(!o)return S("Enter Alias");F(!0);try{const H=Math.random().toString(36).substring(2,7).toUpperCase();await HI(Bn(Hn,"artifacts",ii,"public","data","rooms",H),{roomId:H,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null}),se(H),localStorage.setItem("guild_room_id",H)}catch(H){console.error(H),S("Failed to create room.")}finally{F(!1)}},gt=async()=>{if(!d||!o)return S("Enter Info");F(!0);try{const H=Bn(Hn,"artifacts",ii,"public","data","rooms",d),$=await BI(H);if(!$.exists())return F(!1),S("Invalid Room");const be=$.data();if(be.status!=="lobby")return F(!1),S("Game Started");if(be.players.length>=4)return F(!1),S("Room Full");await vs(H,{players:[...be.players,{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}]}),se(d),localStorage.setItem("guild_room_id",d)}catch(H){console.error(H),S("Failed to join room.")}finally{F(!1)}},Yi=async H=>{if(p.hostId!==r.uid)return;const $=p.players.filter(be=>be.id!==H);await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:$})},Xi=async()=>{if(p){if(p.hostId===r.uid)await qI(Bn(Hn,"artifacts",ii,"public","data","rooms",W));else{const H=p.players.filter($=>$.id!==r.uid);await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:H})}se(""),localStorage.removeItem("guild_room_id"),a("menu"),N(!1)}},Ns=async()=>{if(p.hostId!==r.uid)return;const H=Av([...zC]),$=p.players.map(be=>({...be,hand:[H.pop(),H.pop()],tableau:[],gold:2,ready:!1}));await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{status:"playing",deck:H,players:$,turnIndex:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null})},Ds=async()=>{const H=p.players.map($=>$.id===r.uid?{...$,ready:!$.ready}:$);await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:H})},Nn=async()=>{if(p.hostId!==r.uid)return;const H=p.players.map($=>({...$,hand:[],tableau:[],gold:0,ready:!1}));await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:H,latestPublicEvent:null}),N(!1)},$i=(H,$)=>{let be=0;return H.forEach(pe=>{if(pe.id!==$){const dt=pe.tableau.filter(Fe=>Fe.cardId==="SABOTEUR").length;be+=dt}}),be},Ji=(H,$)=>{H.forEach(be=>{if(be.id!==$){const pe=be.tableau.filter(dt=>dt.cardId==="POLITICIAN").length;pe>0&&(be.gold+=pe)}})},Zi=async(H,$,be,pe,dt=null,Fe=null,De=null)=>{let Pe=(p.turnIndex+1)%H.length,Qe=H[Pe];const ye=[],yt=[];Qe.tableau.forEach(hn=>{hn.turnsLeft-=1,hn.turnsLeft<=0?(ye.push(hn.cardId),be.push(hn.cardId)):yt.push(hn)}),Qe.tableau=yt;let xt=0;const Ye=[];Ye.push({source:"Guild Stipend",amount:1}),xt+=1,Qe.tableau.forEach(hn=>{hn.cardId==="MERCHANT"&&(Ye.push({source:"Silk Trader",amount:1}),xt+=1)}),Qe.gold===0&&(Ye.push({source:"Pity Bonus",amount:1}),xt+=1),Qe.gold+=xt,ye.length>0&&pe.push({text:`${Qe.name} lost ${ye.length} agents to time.`,type:"warning",id:Date.now()}),pe.push({text:`${Qe.name} begins turn (+${xt} Gold).`,type:"neutral",id:Date.now()+1});const Mt={playerId:Qe.id,income:xt,breakdown:Ye,expired:ye,seen:!1},Gn=Jd(H.length);if(Qe.gold>=Gn){const hn=H.map(ai=>({...ai,ready:!1}));await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:hn,status:"finished",winnerId:Qe.id,logs:Yd({text:` ${Qe.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}$.length===0&&(be.length>0?($=Av([...be]),be=[],pe.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):pe.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),$.length>0&&Qe.hand.push($.pop()),await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:H,deck:$,discardPile:be,turnIndex:Pe,logs:Yd(...pe),lastAction:dt!==null?dt:p.lastAction,turnReport:Mt,eveningReport:Fe,latestPublicEvent:De})},Nr=async(H,$,be,pe,dt,Fe,De,Pe,Qe)=>{const ye=pe[Pe],yt=pt[H];let xt=[];const Ye=[];let Mt=-(yt.cost+Qe);ye.gold-=yt.cost+Qe,yt.type==="ACTION"&&Ji(pe,ye.id);const Gn=ye.hand.indexOf(H);Gn>-1&&ye.hand.splice(Gn,1);let hn=p.lastAction;if(yt.type==="AGENT")ye.tableau.push({cardId:H,turnsLeft:bv}),De.push({text:` ${ye.name} recruited ${yt.name}.`,type:"success",id:Date.now()}),xt.push({desc:"Recruited Agent",amount:0}),Ye.push(`Recruited ${yt.name}`),Ye.push(`Active for ${bv} turns`);else if(Fe.push(H),hn={cardId:H,playerId:ye.id},H==="URCHIN")ye.gold+=2,Mt+=2,xt.push({desc:"Street Urchin",amount:2}),De.push({text:` ${ye.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()}),Ye.push("Gained +2 Gold from Supply");else if(H==="HEIST")Math.floor(Math.random()*6)+1>=4?(ye.gold+=5,Mt+=5,xt.push({desc:"Heist Success",amount:5}),De.push({text:` ${ye.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()}),Ye.push("Heist Successful: +5 Gold!")):(xt.push({desc:"Heist Failed",amount:0}),De.push({text:` ${ye.name}'s Heist failed.`,type:"failure",id:Date.now()}),Ye.push("Heist Failed: 0 Gold."));else if(H==="THIEF"){const Se=pe.find(_e=>_e.id===$);if(Se.tableau.some(_e=>_e.cardId==="BODYGUARD"))xt.push({desc:"Thief Blocked",amount:0}),De.push({text:` ${Se.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()}),Ye.push(`Targeted ${Se.name}`),Ye.push("Blocked by Bodyguard!");else{const _e=Math.min(Se.gold,2);Se.gold-=_e,ye.gold+=_e,Mt+=_e,xt.push({desc:`Stole from ${Se.name}`,amount:_e}),De.push({text:` ${ye.name} stole ${_e} Gold from ${Se.name}.`,type:"danger",id:Date.now()}),Ye.push(`Stole ${_e} Gold from ${Se.name}`)}}else if(H==="ASSASSIN"){const Se=pe.find(_e=>_e.id===$);if(Se.tableau.some(_e=>_e.cardId==="BODYGUARD"))De.push({text:` ${Se.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()}),Ye.push(`Targeted ${Se.name}`),Ye.push("Blocked by Bodyguard!");else if(be!==null&&Se.tableau[be]){const _e=Se.tableau[be];Se.tableau.splice(be,1),Fe.push(_e.cardId),De.push({text:` ${ye.name} assassinated ${Se.name}'s ${pt[_e.cardId].name}!`,type:"danger",id:Date.now()}),Ye.push(`Assassinated ${Se.name}'s ${pt[_e.cardId].name}`)}}else if(H==="BLACKMAIL"){const Se=pe.find(_e=>_e.id===$);if(Se.tableau.some(_e=>_e.cardId==="BODYGUARD"))De.push({text:` ${Se.name} blocked Blackmail.`,type:"warning",id:Date.now()}),Ye.push(`Targeted ${Se.name}`),Ye.push("Blocked by Bodyguard!");else if(be==="GOLD"){const _e=Math.min(Se.gold,4);Se.gold-=_e,ye.gold+=_e,Mt+=_e,xt.push({desc:"Blackmail Gold",amount:_e}),De.push({text:` ${ye.name} blackmailed ${Se.name} for ${_e} Gold.`,type:"danger",id:Date.now()}),Ye.push(`Blackmailed ${Se.name} for ${_e} Gold`)}else{const _e=parseInt(be);if(!isNaN(_e)&&Se.tableau[_e]){const es=Se.tableau[_e];Se.tableau.splice(_e,1),ye.tableau.push(es),De.push({text:` ${ye.name} blackmailed ${Se.name}'s ${pt[es.cardId].name}.`,type:"danger",id:Date.now()}),Ye.push(`Stole ${Se.name}'s ${pt[es.cardId].name}`)}}}else if(H==="DOPPELGANGER"){const Se=p.lastAction;if(!Se||Se.cardId==="DOPPELGANGER")De.push({text:` ${ye.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()}),Ye.push("Effect Fizzled");else{De.push({text:` ${ye.name} copies ${pt[Se.cardId].name}...`,type:"neutral",id:Date.now()});const _e=Se.cardId;["URCHIN","HEIST"].includes(_e)?(_e==="URCHIN"&&(ye.gold+=2,Mt+=2,xt.push({desc:"Copied Urchin",amount:2}),Ye.push("Mimicked Urchin: +2 Gold")),_e==="HEIST"&&(Math.floor(Math.random()*6)+1>=4?(ye.gold+=5,Mt+=5,xt.push({desc:"Copied Heist",amount:5}),Ye.push("Mimicked Heist: +5 Gold!")):Ye.push("Mimicked Heist: Failed."))):(ye.gold+=3,Mt+=3,xt.push({desc:"Copied Complex Action",amount:3}),De.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}),Ye.push(`Mimicked ${pt[_e].name}`),Ye.push("Bonus: +3 Gold"))}}const ai=Jd(pe.length);if(ye.gold>=ai){const Se=pe.map(_e=>({..._e,ready:!1}));await vs(Bn(Hn,"artifacts",ii,"public","data","rooms",W),{players:Se,status:"finished",winnerId:ye.id,logs:Yd({text:` ${ye.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}const Vr={playerId:ye.id,actionName:yt.name,cost:yt.cost,tax:Qe,gains:xt,netChange:Mt,seen:!1},kr={id:Date.now(),type:"PLAY",actorName:ye.name,cardId:H,outcomes:Ye};de(null),R(null),At(null),Ve(null),await Zi(pe,dt,Fe,De,hn,Vr,kr)},Rt=async H=>{const $=JSON.parse(JSON.stringify(p.players)),be=p.turnIndex,pe=$[be],dt=[...p.deck],Fe=[...p.discardPile],De=[],Pe=pe.hand.splice(H,1)[0];Fe.push(Pe),De.push({text:` ${pe.name} discarded ${pt[Pe].name} (Hand Limit).`,type:"neutral",id:Date.now()});const Qe={playerId:pe.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1},ye={id:Date.now(),type:"DISCARD",actorName:pe.name,cardId:null,outcomes:[`Discarded ${pt[Pe].name}`,"Hand limit enforced"]};de(null),R(null),await Zi($,dt,Fe,De,null,Qe,ye)},Dt=H=>{if(V==="DISCARD"){Rt(H);return}if(V==="SCOUT"){Dr(H);return}const $=p.players[p.turnIndex].hand[H],be=pt[$],pe=p.players[p.turnIndex],dt=be.type==="ACTION"?$i(p.players,pe.id):0;if(pe.gold<be.cost+dt){Me("failure","Insufficient Funds",`Cost: ${be.cost} + ${dt} Tax`,la);return}if($==="DOPPELGANGER"){const Fe=p.lastAction;let De=null;Fe&&Fe.cardId!=="DOPPELGANGER"&&(De=pt[Fe.cardId]),Ve({handIdx:H,targetCard:De});return}de(H),$==="THIEF"||$==="ASSASSIN"||$==="BLACKMAIL"?R("PLAYER"):(be.type==="AGENT"||$==="URCHIN"||$==="HEIST")&&Ot(H,null,null)},Ei=H=>{if(!V)return;const $=p.players[p.turnIndex].hand[fe];$==="THIEF"?Ot(fe,H,null):$==="ASSASSIN"?(At(H),R("CARD")):$==="BLACKMAIL"&&(At(H),R("OPTION"))},Nl=H=>{V==="CARD"&&nt&&Ot(fe,nt,H)},ya=H=>{V==="OPTION"&&nt&&Ot(fe,nt,H)},Ot=async(H,$,be)=>{const pe=JSON.parse(JSON.stringify(p.players)),dt=[...p.deck],Fe=[...p.discardPile],De=[],Pe=pe.find(yt=>yt.id===r.uid),Qe=Pe.hand[H],ye=pt[Qe].type==="ACTION"?$i(pe,Pe.id):0;await Nr(Qe,$,be,pe,dt,Fe,De,p.turnIndex,ye)},Wi=()=>{R("SCOUT"),Me("success","Scout Mode","Select a card to discard",Rm)},Dr=async H=>{const $=JSON.parse(JSON.stringify(p.players)),be=p.turnIndex,pe=$[be],dt=[...p.deck],Fe=[...p.discardPile],De=[],Pe=pe.hand.splice(H,1)[0];Fe.push(Pe),dt.length>0&&pe.hand.push(dt.pop()),De.push({text:`zzz ${pe.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const Qe={playerId:pe.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1},ye={id:Date.now(),type:"SCOUT",actorName:pe.name,cardId:null,outcomes:["Discarded 1 card","Drew 1 replacement"]};de(null),R(null),await Zi($,dt,Fe,De,null,Qe,ye)},Or=()=>{p.deck.length!==0&&(ne(p.deck[p.deck.length-1]),setTimeout(()=>ne(null),3e3))},Ti=H=>H==="URCHIN"?"Effect: Gain +2 Gold":H==="HEIST"?"Effect: 50% chance to gain +5 Gold":"Effect: Gain +3 Gold (Mimic Bonus)";if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(fC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Tv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Tv,{size:16})]})})})})]});if(!i)return b.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[b.jsx(XE,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),b.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:o,onChange:H=>c(H.target.value)}),b.jsxs("button",{onClick:Nt,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[M?b.jsx(Ev,{size:18,className:"animate-spin"}):b.jsx(Xd,{size:18}),M?"Establishing...":"Establish Guild"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:H=>y(H.target.value.toUpperCase())}),b.jsx("button",{onClick:gt,disabled:M,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:M?b.jsx(Ev,{size:16,className:"animate-spin"}):"Join"})]}),b.jsxs("button",{onClick:()=>C(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(wm,{size:14})," Guild Archives"]})]}),Le&&b.jsx(wv,{onClose:()=>C(!1)}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const H=p.hostId===r.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[b.jsx(Zd,{}),b.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Room:"," ",b.jsx("span",{className:"text-white font-mono",children:p.roomId})]}),b.jsx("button",{onClick:Xi,className:"text-red-400 hover:text-red-300",children:b.jsx(xm,{size:20})})]}),b.jsxs("div",{className:"space-y-2 mb-6",children:[b.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),p.players.map($=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(WE,{size:14})," ",$.name,$.id===p.hostId&&b.jsx(Xd,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(tC,{size:12})," Ready"]}),H&&$.id!==r.uid&&b.jsx("button",{onClick:()=>Yi($.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(ko,{size:14})})]})]},$.id))]}),H?b.jsx("button",{onClick:Ns,disabled:p.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${p.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Game"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),b.jsx(Sv,{})]})}const _a=p.players.findIndex(H=>H.id===r.uid),En=p.players[_a],Os=p.turnIndex===_a;fe!==null&&pt[En.hand[fe]];const Mr=$i(p.players,En.id),Dn=Jd(p.players.length),Yt=En.tableau.some(H=>H.cardId==="LOOKOUT");return b.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[b.jsx(Zd,{}),Ze&&b.jsx(BC,{...Ze}),b.jsx(HC,{event:We,onClose:()=>O(null)}),G&&b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>ne(null),children:b.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[b.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),b.jsx("div",{className:"scale-150 transform transition-all",children:b.jsx(Lo,{cardId:G})}),b.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),ue&&b.jsx("div",{className:"fixed inset-0 z-[190] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 border-2 border-cyan-500 rounded-2xl w-full max-w-sm flex flex-col items-center p-6 shadow-[0_0_30px_rgba(34,211,238,0.2)] animate-in zoom-in-95",children:[b.jsx(YE,{size:48,className:"text-cyan-400 mb-4"}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Doppelganger"}),b.jsxs("div",{className:"text-center mb-6 w-full",children:[b.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Copying previous action:"}),ue.targetCard?b.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-700 flex flex-col items-center w-full",children:[b.jsx("span",{className:`font-bold ${ue.targetCard.color} text-lg`,children:ue.targetCard.name}),b.jsx("div",{className:"mt-3 bg-cyan-900/30 text-cyan-200 px-3 py-2 rounded text-sm font-bold border border-cyan-500/30 w-full text-center",children:Ti(ue.targetCard.id)})]}):b.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-200 text-sm italic",children:"No valid action to copy (Effect will fizzle)."})]}),b.jsxs("div",{className:"flex gap-3 w-full",children:[b.jsx("button",{onClick:()=>Ve(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded-xl font-bold transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Ot(ue.handIdx,null,null),className:"flex-1 bg-cyan-600 hover:bg-cyan-500 py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95",children:"Proceed"})]})]})}),b.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-[160] shrink-0 shadow-md",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline text-lg",children:"GUILD OF SHADOWS"}),b.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-xs px-3 py-1 rounded-full border border-purple-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:["Goal: ",Dn," ",b.jsx(la,{size:10,className:"inline ml-0.5"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>I(!w),className:`p-2 rounded-full ${w?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(gC,{size:20})}),b.jsx("button",{onClick:()=>C(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full transition-colors",children:b.jsx(wm,{size:20})}),b.jsx("button",{onClick:()=>N(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full transition-colors",children:b.jsx(xm,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.players.map((H,$)=>{if(H.id===r.uid)return null;const be=p.turnIndex===$,pe=V==="PLAYER",dt=nt===H.id;return b.jsxs("div",{onClick:()=>pe?Ei(H.id):null,className:`
                        relative bg-gray-900/80 backdrop-blur-sm p-3 rounded-xl border transition-all duration-200
                        ${be?"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.25)] bg-purple-900/10 scale-[1.02]":"border-gray-800"}
                        ${pe?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${dt?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("span",{className:"text-sm font-bold text-gray-200 flex items-center gap-1.5 truncate max-w-[100px]",children:[H.name,H.id===p.hostId&&b.jsx(Xd,{size:12,className:"text-yellow-500"})]}),b.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1 font-mono bg-black/40 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:[H.gold," ",b.jsx(la,{size:10})]})]}),b.jsx("div",{className:"flex gap-0.5",children:H.hand.map((Fe,De)=>b.jsx("div",{className:"w-2.5 h-4 bg-gradient-to-b from-purple-800 to-purple-950 rounded-[2px] border border-purple-600/50 shadow-sm"},De))})]}),b.jsxs("div",{className:"flex flex-wrap gap-1.5 min-h-[32px]",children:[H.tableau.map((Fe,De)=>b.jsx("div",{onClick:Pe=>{Pe.stopPropagation(),Nl(De)},className:`${V==="CARD"&&dt?"animate-pulse cursor-pointer ring-1 ring-red-400 rounded":""}`,children:b.jsx(Lo,{cardId:Fe.cardId,turnsLeft:Fe.turnsLeft,tiny:!0})},De)),H.tableau.length===0&&b.jsx("div",{className:"w-full h-8 flex items-center justify-center text-[10px] text-gray-600 italic border border-dashed border-gray-800 rounded",children:"Empty Hall"})]})]},H.id)})}),b.jsx("div",{className:"mt-6 flex flex-col items-center space-y-1.5 pointer-events-none opacity-80",children:p.logs.slice(-3).reverse().map(H=>b.jsx("div",{className:`text-[10px] px-3 py-1 rounded-full backdrop-blur-md shadow-lg border ${H.type==="danger"?"bg-red-950/70 border-red-500/30 text-red-200":"bg-gray-900/70 border-gray-700/50 text-gray-300"}`,children:H.text},H.id))})]}),b.jsxs("div",{className:"bg-gray-950 border-t border-purple-900/30 pb-safe z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] flex flex-col shrink-0",children:[b.jsx("div",{className:"w-full bg-black/20",children:!G&&ie?b.jsx(qC,{report:ie}):!G&&Ee?b.jsx(GC,{report:Ee}):null}),b.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-900 border-b border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"text-yellow-400 font-black text-2xl flex items-center gap-2 drop-shadow-md",children:[b.jsx(la,{className:"fill-yellow-400/20",size:24})," ",En.gold]}),Mr>0&&b.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1 bg-red-950/50 px-2 py-1 rounded border border-red-900/50",children:["Tax: +",Mr," ",b.jsx(la,{size:10})]})]}),b.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-w-[50%] no-scrollbar items-center mask-linear-fade",children:En.tableau.map((H,$)=>b.jsx("div",{className:"shrink-0",children:b.jsx(Lo,{cardId:H.cardId,turnsLeft:H.turnsLeft,tiny:!0})},$))})]}),b.jsxs("div",{className:"min-h-[50px] flex items-center justify-center py-2 px-4",children:[Os&&!V&&fe===null&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[Yt&&b.jsxs("button",{onClick:Or,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-5 py-2.5 rounded-xl font-bold shadow-lg flex items-center gap-2 text-sm transition-all active:scale-95",children:[b.jsx($E,{size:16})," Peek"]}),En.hand.length>5?b.jsxs("button",{onClick:()=>{R("DISCARD"),Me("neutral","Discard Mode","Hand limit reached",ko)},className:"flex-1 max-w-xs bg-red-900/90 hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Discard & Pass ",b.jsx(ko,{size:16})]}):b.jsxs("button",{onClick:Wi,className:"flex-1 max-w-xs bg-gray-800 hover:bg-gray-700 text-gray-200 border border-gray-600 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Pass & Scout ",b.jsx($I,{size:16})]})]}),V==="SCOUT"&&b.jsxs("div",{className:"flex items-center gap-3 bg-blue-900/30 border border-blue-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-blue-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(Rm,{size:16})," Select card to discard"]}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Uo,{size:12})})]}),V==="DISCARD"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(ko,{size:16})," Hand Full: Discard 1"]}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Uo,{size:12})})]}),V==="PLAYER"&&b.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full animate-pulse",children:[b.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[b.jsx(JE,{size:16})," Select Target Player"]}),b.jsx("button",{onClick:()=>{R(null),de(null)},className:"bg-gray-800 p-1 rounded-full",children:b.jsx(Uo,{size:12})})]}),fe!==null&&!V&&b.jsx("button",{onClick:()=>de(null),className:"bg-gray-800 text-gray-400 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-700",children:"Cancel Selection"}),V==="CARD"&&b.jsx("div",{className:"bg-black/60 px-4 py-2 rounded-full text-sm font-bold border border-red-500/50 text-red-200",children:"Select Agent to Destroy"}),V==="OPTION"&&b.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[b.jsx("button",{onClick:()=>ya("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-yellow-500",children:"Steal 4 Gold"}),b.jsx("button",{onClick:()=>R("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-blue-500",children:"Steal Agent"})]})]}),b.jsxs("div",{className:"flex overflow-x-auto px-4 pb-4 gap-3 no-scrollbar snap-x snap-mandatory min-h-[180px] items-center",children:[En.hand.length===0&&b.jsx("div",{className:"text-gray-600 text-sm italic w-full text-center py-8 border-2 border-dashed border-gray-800 rounded-xl",children:"Hand Empty"}),En.hand.map((H,$)=>b.jsx("div",{className:`snap-center transition-transform duration-200 ${fe===$?"-translate-y-6 scale-105":""}`,children:b.jsx(Lo,{cardId:H,onClick:()=>Os?Dt($):null,disabled:!Os||V!==null&&V!=="SCOUT"&&V!=="DISCARD"&&fe!==$,highlight:fe===$})},$)),b.jsx("div",{className:"w-2 shrink-0"})]})]})]}),w&&b.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),b.jsx("button",{onClick:()=>I(!1),children:b.jsx(Uo,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...p.logs].reverse().map(H=>b.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${H.type==="danger"?"bg-red-900/20 border-red-500":H.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[b.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(H.id).toLocaleTimeString()}),H.text]},H.id))})]}),k&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>N(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),p.hostId===r.uid&&b.jsx("button",{onClick:Nn,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:Xi,className:"bg-red-600 py-3 rounded font-bold",children:p.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),p.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[b.jsx(ZE,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[p.players.find(H=>H.id===p.winnerId)?.name," ","is the new Guild Master!"]}),b.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[b.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),b.jsx("div",{className:"space-y-2",children:p.players.map(H=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:H.name}),b.jsx("span",{className:H.ready?"text-green-400 font-bold":"text-gray-500",children:H.ready?"READY":"WAITING"})]},H.id))})]}),b.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[En.ready?b.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):b.jsx("button",{onClick:Ds,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),p.hostId===r.uid&&b.jsx("button",{onClick:Nn,disabled:!p.players.every(H=>H.ready),className:`py-3 rounded-lg font-bold transition-all ${p.players.every(H=>H.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),b.jsx(Sv,{}),Le&&b.jsx(wv,{onClose:()=>C(!1)})]})}zb.createRoot(document.getElementById("root")).render(b.jsx(Je.StrictMode,{children:b.jsx(FC,{})}));
