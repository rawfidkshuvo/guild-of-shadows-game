(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},Co={};var P0;function Ob(){if(P0)return Co;P0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var z0;function Mb(){return z0||(z0=1,Nd.exports=Ob()),Nd.exports}var T=Mb(),Dd={exports:{}},xe={};var B0;function Vb(){if(B0)return xe;B0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function me(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}me.prototype.isReactComponent={},me.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function fe(){}fe.prototype=me.prototype;function de(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||W}var Je=de.prototype=new fe;Je.constructor=de,se(Je,me.prototype),Je.isPureReactComponent=!0;var ot=Array.isArray;function Le(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,ie){var re=ie.ref;return{$$typeof:r,type:O,key:Y,ref:re!==void 0?re:null,props:ie}}function k(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function tt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Le,Le):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,re,ve){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case r:case e:Me=!0;break;case A:return Me=O._init,G(Me(O._payload),Y,ie,re,ve)}}if(Me)return ve=ve(O),Me=re===""?"."+tt(O,0):re,ot(ve)?(ie="",Me!=null&&(ie=Me.replace(R,"$&/")+"/"),G(ve,Y,ie,"",function(Yi){return Yi})):ve!=null&&(N(ve)&&(ve=k(ve,ie+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Me)),Y.push(ve)),1;Me=0;var Nt=re===""?".":re+":";if(ot(O))for(var gt=0;gt<O.length;gt++)re=O[gt],Re=Nt+tt(re,gt),Me+=G(re,Y,ie,Re,ve);else if(gt=F(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(re=O.next()).done;)re=re.value,Re=Nt+tt(re,gt++),Me+=G(re,Y,ie,Re,ve);else if(Re==="object"){if(typeof O.then=="function")return G(St(O),Y,ie,re,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(O,Y,ie){if(O==null)return O;var re=[],ve=0;return G(O,re,"","",function(Re){return Y.call(ie,Re,ve++)}),re}function ue(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ze={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=S,xe.Children=Ze,xe.Component=me,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=de,xe.StrictMode=a,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),ve=O.key;if(Y!=null)for(Re in Y.key!==void 0&&(ve=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(re[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)re.children=ie;else if(1<Re){for(var Me=Array(Re),Nt=0;Nt<Re;Nt++)Me[Nt]=arguments[Nt+2];re.children=Me}return I(O.type,ve,re)},xe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,Y,ie){var re,ve={},Re=null;if(Y!=null)for(re in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Y[re]);var Me=arguments.length-2;if(Me===1)ve.children=ie;else if(1<Me){for(var Nt=Array(Me),gt=0;gt<Me;gt++)Nt[gt]=arguments[gt+2];ve.children=Nt}if(O&&O.defaultProps)for(re in Me=O.defaultProps,Me)ve[re]===void 0&&(ve[re]=Me[re]);return I(O,Re,ve)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:y,render:O}},xe.isValidElement=N,xe.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ue}},xe.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},xe.startTransition=function(O){var Y=C.T,ie={};C.T=ie;try{var re=O(),ve=C.S;ve!==null&&ve(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Le,Ve)}catch(Re){Ve(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),C.T=Y}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(O){return C.H.use(O)},xe.useActionState=function(O,Y,ie){return C.H.useActionState(O,Y,ie)},xe.useCallback=function(O,Y){return C.H.useCallback(O,Y)},xe.useContext=function(O){return C.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},xe.useEffect=function(O,Y){return C.H.useEffect(O,Y)},xe.useEffectEvent=function(O){return C.H.useEffectEvent(O)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(O,Y,ie){return C.H.useImperativeHandle(O,Y,ie)},xe.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},xe.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},xe.useMemo=function(O,Y){return C.H.useMemo(O,Y)},xe.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},xe.useReducer=function(O,Y,ie){return C.H.useReducer(O,Y,ie)},xe.useRef=function(O){return C.H.useRef(O)},xe.useState=function(O){return C.H.useState(O)},xe.useSyncExternalStore=function(O,Y,ie){return C.H.useSyncExternalStore(O,Y,ie)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var H0;function Im(){return H0||(H0=1,Dd.exports=Vb()),Dd.exports}var Ye=Im(),Od={exports:{}},No={},Md={exports:{}},Vd={};var q0;function kb(){return q0||(q0=1,(function(r){function e(G,ne){var ue=G.length;G.push(ne);e:for(;0<ue;){var Ve=ue-1>>>1,Ze=G[Ve];if(0<o(Ze,ne))G[Ve]=ne,G[ue]=Ze,ue=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ue=G.pop();if(ue!==ne){G[0]=ue;e:for(var Ve=0,Ze=G.length,O=Ze>>>1;Ve<O;){var Y=2*(Ve+1)-1,ie=G[Y],re=Y+1,ve=G[re];if(0>o(ie,ue))re<Ze&&0>o(ve,ie)?(G[Ve]=ve,G[re]=ue,Ve=re):(G[Ve]=ie,G[Y]=ue,Ve=Y);else if(re<Ze&&0>o(ve,ue))G[Ve]=ve,G[re]=ue,Ve=re;else break e}}return ne}function o(G,ne){var ue=G.sortIndex-ne.sortIndex;return ue!==0?ue:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],_=[],A=1,S=null,M=3,F=!1,W=!1,se=!1,ee=!1,me=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Je(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=i(_)}}function ot(G){if(se=!1,Je(G),!W)if(i(p)!==null)W=!0,Le||(Le=!0,V());else{var ne=i(_);ne!==null&&St(ot,ne.startTime-G)}}var Le=!1,C=-1,w=5,I=-1;function k(){return ee?!0:!(r.unstable_now()-I<w)}function N(){if(ee=!1,Le){var G=r.unstable_now();I=G;var ne=!0;try{e:{W=!1,se&&(se=!1,fe(C),C=-1),F=!0;var ue=M;try{t:{for(Je(G),S=i(p);S!==null&&!(S.expirationTime>G&&k());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,M=S.priorityLevel;var Ze=Ve(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ze=="function"){S.callback=Ze,Je(G),ne=!0;break t}S===i(p)&&a(p),Je(G)}else a(p);S=i(p)}if(S!==null)ne=!0;else{var O=i(_);O!==null&&St(ot,O.startTime-G),ne=!1}}break e}finally{S=null,M=ue,F=!1}ne=void 0}}finally{ne?V():Le=!1}}}var V;if(typeof de=="function")V=function(){de(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,tt=R.port2;R.port1.onmessage=N,V=function(){tt.postMessage(null)}}else V=function(){me(N,0)};function St(G,ne){C=me(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ue=M;M=ne;try{return G()}finally{M=ue}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=M;M=G;try{return ne()}finally{M=ue}},r.unstable_scheduleCallback=function(G,ne,ue){var Ve=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ve+ue:Ve):ue=Ve,G){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ue+Ze,G={id:A++,callback:ne,priorityLevel:G,startTime:ue,expirationTime:Ze,sortIndex:-1},ue>Ve?(G.sortIndex=ue,e(_,G),i(p)===null&&G===i(_)&&(se?(fe(C),C=-1):se=!0,St(ot,ue-Ve))):(G.sortIndex=Ze,e(p,G),W||F||(W=!0,Le||(Le=!0,V()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var ne=M;return function(){var ue=M;M=ne;try{return G.apply(this,arguments)}finally{M=ue}}}})(Vd)),Vd}var G0;function Ub(){return G0||(G0=1,Md.exports=kb()),Md.exports}var kd={exports:{}},fn={};var F0;function Lb(){if(F0)return fn;F0=1;var r=Im();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,A)},fn.flushSync=function(p){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=A,a.d.f()}},fn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},fn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},fn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},fn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(p,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},fn.requestFormReset=function(p){a.d.r(p)},fn.unstable_batchedUpdates=function(p,_){return p(_)},fn.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var Q0;function jb(){if(Q0)return kd.exports;Q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Lb(),kd.exports}var K0;function Pb(){if(K0)return No;K0=1;var r=Ub(),e=Im(),i=jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case me:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case Le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case de:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var St=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ve=[],Ze=-1;function O(t){return{current:t}}function Y(t){0>Ze||(t.current=Ve[Ze],Ve[Ze]=null,Ze--)}function ie(t,n){Ze++,Ve[Ze]=t.current,t.current=n}var re=O(null),ve=O(null),Re=O(null),Me=O(null);function Nt(t,n){switch(ie(Re,n),ie(ve,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o0(n),t=u0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function gt(){Y(re),Y(ve),Y(Re)}function Yi(t){t.memoizedState!==null&&ie(Me,t);var n=re.current,s=u0(n,t.type);n!==s&&(ie(ve,t),ie(re,s))}function Xi(t){ve.current===t&&(Y(re),Y(ve)),Me.current===t&&(Y(Me),wo._currentValue=ue)}var Os,Ms;function Dn(t){if(Os===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Os=n&&n[1]||"",Ms=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+t+Ms}var $i=!1;function Ji(t,n){if(!t||$i)return"";$i=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var z=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){z=q}t.call($.prototype)}}else{try{throw Error()}catch(q){z=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),P=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===P.length)for(l=x.length-1,h=P.length-1;1<=l&&0<=h&&x[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==P[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{$i=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Dn(s):""}function Zi(t,n){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Dn("Activity");default:return""}}function Mr(t){try{var n="",s=null;do n+=Zi(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Nl=r.unstable_shouldYield,ya=r.unstable_requestPaint,Ot=r.unstable_now,Wi=r.unstable_getCurrentPriorityLevel,Vr=r.unstable_ImmediatePriority,kr=r.unstable_UserBlockingPriority,Ti=r.unstable_NormalPriority,_a=r.unstable_LowPriority,Tn=r.unstable_IdlePriority,es=r.log,Ur=r.unstable_setDisableYieldValue,On=null,Yt=null;function B(t){if(typeof es=="function"&&Ur(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(On,t)}catch{}}var X=Math.clz32?Math.clz32:dt,Ee=Math.log,pe=Math.LN2;function dt(t){return t>>>=0,t===0?32:31-(Ee(t)/pe|0)|0}var Fe=256,De=262144,je=4194304;function Qe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function be(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Qe(l):(g&=E,g!==0?h=Qe(g):s||(s=E&~t,s!==0&&(h=Qe(s))))):(E=l&~f,E!==0?h=Qe(E):g!==0?h=Qe(g):s||(s=l&~t,s!==0&&(h=Qe(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function _t(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var t=je;return je<<=1,(je&62914560)===0&&(je=4194304),t}function yt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function yn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vs(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-X(s),$=1<<Q;E[Q]=0,x[Q]=-1;var z=P[Q];if(z!==null)for(P[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}s&=~$}l!==0&&ai(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ai(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-X(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function nn(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-X(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function ts(t,n){var s=n&-n;return s=(s&42)!==0?1:Se(s),(s&(t.suspendedLanes|n))!==0?0:s}function Se(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ns(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:O0(t.type))}function li(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var oi=Math.random().toString(36).slice(2),jt="__reactFiber$"+oi,Zt="__reactProps$"+oi,bi="__reactContainer$"+oi,va="__reactEvents$"+oi,kh="__reactListeners$"+oi,hu="__reactHandles$"+oi,fu="__reactResources$"+oi,Ai="__reactMarker$"+oi;function Ea(t){delete t[jt],delete t[Zt],delete t[va],delete t[kh],delete t[hu]}function Si(t){var n=t[jt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[bi]||s[jt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=g0(t);t!==null;){if(s=t[jt])return s;t=g0(t)}return n}t=s,s=t.parentNode}return null}function Fn(t){if(t=t[jt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Ai]=!0}var Dl=new Set,Ol={};function Ri(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function du(t){return xt.call(kl,t)?!0:xt.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function Ta(t,n,s){if(du(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Vn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function zt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function bn(t){return t.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,s,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,g,Wt(n)):s!=null?Ll(t,g,Wt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Wt(E):t.removeAttribute("name")}function mu(t,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),rt(t)}function Ll(t,n,s){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Us(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,s){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wt(s):""}function Ls(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(St(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Wt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),rt(t)}function An(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||gu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Pl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var zl=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Ci=null;function Pr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var s=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Lr(l)}break e;case"textarea":pu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Us(t,!!s.multiple,n,!1)}}}var wa=!1;function zs(t,n,s){if(wa)return t(n,s);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ps!==null||Ci!==null)&&(cc(),Ps&&(n=Ps,t=Ci,Ci=Ps=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function ci(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Zt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Kn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{zr=!1}var Ni=null,Bl=null,Br=null;function Hl(){if(Br)return Br;var t,n=Bl,s=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function hi(){return!1}function sn(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=sn(ss),Bs=S({},ss,{view:0,detail:0}),ql=sn(Bs),Hs,Ra,Oi,xa=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Hs=t.screenX-Oi.screenX,Ra=t.screenY-Oi.screenY):Ra=Hs=0,Oi=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Gl=sn(xa),qr=S({},xa,{dataTransfer:0}),_u=sn(qr),vu=S({},Bs,{relatedTarget:0}),Gr=sn(vu),Fl=S({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=sn(Fl),Ia=S({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=sn(Ia),bu=S({},ss,{data:0}),Mi=sn(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function qs(){return Ru}var _n=S({},Bs,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=sn(_n),Iu=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=sn(Iu),u=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=sn(u),v=S({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(v),L=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(L),te=S({},ss,{newState:0,oldState:0}),Ce=sn(te),Mt=[9,13,27,32],We=Kn&&"CompositionEvent"in window,bt=null;Kn&&"documentMode"in document&&(bt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!bt,Vi=Kn&&(!We||bt&&8<bt&&11>=bt),fi=" ",di=!1;function Fr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function nT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function iT(t,n){if(Na)return t==="compositionend"||!We&&Fr(t,n)?(t=Hl(),Br=Bl=Ni=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sT[t.type]:n==="textarea"}function Ep(t,n,s,l){Ps?Ci?Ci.push(l):Ci=[l]:Ps=l,n=yc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ql=null,Kl=null;function rT(t){n0(t,0)}function Cu(t){var n=Mn(t);if(Lr(n))return t}function Tp(t,n){if(t==="change")return n}var bp=!1;if(Kn){var Uh;if(Kn){var Lh="oninput"in document;if(!Lh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Lh=typeof Ap.oninput=="function"}Uh=Lh}else Uh=!1;bp=Uh&&(!document.documentMode||9<document.documentMode)}function Sp(){Ql&&(Ql.detachEvent("onpropertychange",wp),Kl=Ql=null)}function wp(t){if(t.propertyName==="value"&&Cu(Kl)){var n=[];Ep(n,Kl,t,Qn(t)),zs(rT,n)}}function aT(t,n,s){t==="focusin"?(Sp(),Ql=n,Kl=s,Ql.attachEvent("onpropertychange",wp)):t==="focusout"&&Sp()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Kl)}function oT(t,n){if(t==="click")return Cu(n)}function uT(t,n){if(t==="input"||t==="change")return Cu(n)}function cT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:cT;function Yl(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!xt.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xp(t,n){var s=Rp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rp(s)}}function Ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ii(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hT=Kn&&"documentMode"in document&&11>=document.documentMode,Da=null,Ph=null,Xl=null,zh=!1;function Np(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Da==null||Da!==Ii(l)||(l=Da,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=yc(Ph,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Da)))}function Qr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Oa={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Bh={},Dp={};Kn&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Kr(t){if(Bh[t])return Bh[t];if(!Oa[t])return t;var n=Oa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dp)return Bh[t]=n[s];return t}var Op=Kr("animationend"),Mp=Kr("animationiteration"),Vp=Kr("animationstart"),fT=Kr("transitionrun"),dT=Kr("transitionstart"),mT=Kr("transitioncancel"),kp=Kr("transitionend"),Up=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function mi(t,n){Up.set(t,n),Ri(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ma=0,qh=0;function Du(){for(var t=Ma,n=qh=Ma=0;n<t;){var s=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Lp(s,h,f)}}function Ou(t,n,s,l){Xn[Ma++]=t,Xn[Ma++]=n,Xn[Ma++]=s,Xn[Ma++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,s,l){return Ou(t,n,s,l),Mu(t)}function Yr(t,n){return Ou(t,null,null,n),Mu(t)}function Lp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-X(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Mu(t){if(50<_o)throw _o=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function pT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,s,l){return new pT(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,n){var s=t.alternate;return s===null?(s=Un(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=Eb(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,s,n,h),t.elementType=I,t.lanes=f,t;case se:return Xr(s.children,h,f,n);case ee:g=8,h|=24;break;case me:return t=Un(12,s,n,h|2),t.elementType=me,t.lanes=f,t;case ot:return t=Un(13,s,n,h),t.elementType=ot,t.lanes=f,t;case Le:return t=Un(19,s,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:g=10;break e;case fe:g=9;break e;case Je:g=11;break e;case C:g=14;break e;case w:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Un(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,s,l){return t=Un(7,t,l,n),t.lanes=s,t}function Qh(t,n,s){return t=Un(6,t,null,n),t.lanes=s,t}function Pp(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=zp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Mr(n)},zp.set(t,n),n)}return{value:t,source:n,stack:Mr(n)}}var ka=[],Ua=0,ku=null,$l=0,Jn=[],Zn=0,Gs=null,ki=1,Ui="";function ls(t,n){ka[Ua++]=$l,ka[Ua++]=ku,ku=t,$l=n}function Bp(t,n,s){Jn[Zn++]=ki,Jn[Zn++]=Ui,Jn[Zn++]=Gs,Gs=t;var l=ki;t=Ui;var h=32-X(l)-1;l&=~(1<<h),s+=1;var f=32-X(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,ki=1<<32-X(n)+h|s<<h|l,Ui=f+t}else ki=1<<f|s<<h|l,Ui=t}function Yh(t){t.return!==null&&(ls(t,1),Bp(t,1,0))}function Xh(t){for(;t===ku;)ku=ka[--Ua],ka[Ua]=null,$l=ka[--Ua],ka[Ua]=null;for(;t===Gs;)Gs=Jn[--Zn],Jn[Zn]=null,Ui=Jn[--Zn],Jn[Zn]=null,ki=Jn[--Zn],Jn[Zn]=null}function Hp(t,n){Jn[Zn++]=ki,Jn[Zn++]=Ui,Jn[Zn++]=Gs,ki=n.id,Ui=n.overflow,Gs=t}var rn=null,vt=null,Ge=!1,Fs=null,Wn=!1,$h=Error(a(519));function Qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl($n(n,t)),$h}function qp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Zt]=l,s){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<Eo.length;s++)Ue(Eo[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Ls(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||a0(n.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Qs(t,!0)}function Gp(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:rn=rn.return}}function La(t){if(t!==rn)return!1;if(!Ge)return Gp(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pd(t.type,t.memoizedProps)),s=!s),s&&vt&&Qs(t),Gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=p0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=p0(t)}else n===27?(n=vt,ar(t.type)?(t=Ed,Ed=null,vt=t):vt=n):vt=rn?ti(t.stateNode.nextSibling):null;return!0}function $r(){vt=rn=null,Ge=!1}function Jh(){var t=Fs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Fs=null),t}function Jl(t){Fs===null?Fs=[t]:Fs.push(t)}var Zh=O(null),Jr=null,os=null;function Ks(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function us(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ja(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;kn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&ef(n,t,s,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Fp(Jr,t)}function Lu(t,n){return Jr===null&&Zr(t),Fp(t,n)}function Fp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},os===null){if(t===null)throw Error(a(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return s}var gT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},yT=r.unstable_scheduleCallback,_T=r.unstable_NormalPriority,Bt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new gT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&yT(_T,function(){t.controller.abort()})}var Wl=null,nf=0,Pa=0,za=null;function vT(t,n){if(Wl===null){var s=Wl=[];nf=0,Pa=ad(),za={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Qp,Qp),n}function Qp(){if(--nf===0&&Wl!==null){za!==null&&(za.status="fulfilled");var t=Wl;Wl=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ET(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Kp=G.S;G.S=function(t,n){Ny=Ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vT(t,n),Kp!==null&&Kp(t,n)};var Wr=O(null);function sf(){var t=Wr.current;return t!==null?t:mt.pooledCache}function ju(t,n){n===null?ie(Wr,Wr.current):ie(Wr,n.pool)}function Yp(){var t=sf();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),rf=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function Xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $p(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ui,ui),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zp(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zp(t),t}throw ta=n,Ba}}function ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ta=s,Ba):s}}var ta=null;function Jp(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function Zp(t){if(t===Ba||t===Pu)throw Error(a(483))}var Ha=null,eo=0;function Bu(t){var n=eo;return eo+=1,Ha===null&&(Ha=[]),$p(Ha,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wp(t){function n(U,D){if(t){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=as(U,D),U.index=0,U.sibling=null,U}function f(U,D,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=67108866,D):j):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,j,K){return D===null||D.tag!==6?(D=Qh(j,U.mode,K),D.return=U,D):(D=h(D,j),D.return=U,D)}function x(U,D,j,K){var he=j.type;return he===se?Q(U,D,j.props.children,K,j.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ea(he)===D.type)?(D=h(D,j.props),to(D,j),D.return=U,D):(D=Vu(j.type,j.key,j.props,null,U.mode,K),to(D,j),D.return=U,D)}function P(U,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Kh(j,U.mode,K),D.return=U,D):(D=h(D,j.children||[]),D.return=U,D)}function Q(U,D,j,K,he){return D===null||D.tag!==7?(D=Xr(j,U.mode,K,he),D.return=U,D):(D=h(D,j),D.return=U,D)}function $(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=Vu(D.type,D.key,D.props,null,U.mode,j),to(j,D),j.return=U,j;case W:return D=Kh(D,U.mode,j),D.return=U,D;case w:return D=ea(D),$(U,D,j)}if(St(D)||V(D))return D=Xr(D,U.mode,j,null),D.return=U,D;if(typeof D.then=="function")return $(U,Bu(D),j);if(D.$$typeof===de)return $(U,Lu(U,D),j);Hu(U,D)}return null}function z(U,D,j,K){var he=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:E(U,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===he?x(U,D,j,K):null;case W:return j.key===he?P(U,D,j,K):null;case w:return j=ea(j),z(U,D,j,K)}if(St(j)||V(j))return he!==null?null:Q(U,D,j,K,null);if(typeof j.then=="function")return z(U,D,Bu(j),K);if(j.$$typeof===de)return z(U,D,Lu(U,j),K);Hu(U,j)}return null}function q(U,D,j,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(j)||null,E(D,U,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return U=U.get(K.key===null?j:K.key)||null,x(D,U,K,he);case W:return U=U.get(K.key===null?j:K.key)||null,P(D,U,K,he);case w:return K=ea(K),q(U,D,j,K,he)}if(St(K)||V(K))return U=U.get(j)||null,Q(D,U,K,he,null);if(typeof K.then=="function")return q(U,D,j,Bu(K),he);if(K.$$typeof===de)return q(U,D,j,Lu(D,K),he);Hu(D,K)}return null}function le(U,D,j,K){for(var he=null,Xe=null,oe=D,Oe=D=0,ze=null;oe!==null&&Oe<j.length;Oe++){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var $e=z(U,oe,j[Oe],K);if($e===null){oe===null&&(oe=ze);break}t&&oe&&$e.alternate===null&&n(U,oe),D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e,oe=ze}if(Oe===j.length)return s(U,oe),Ge&&ls(U,Oe),he;if(oe===null){for(;Oe<j.length;Oe++)oe=$(U,j[Oe],K),oe!==null&&(D=f(oe,D,Oe),Xe===null?he=oe:Xe.sibling=oe,Xe=oe);return Ge&&ls(U,Oe),he}for(oe=l(oe);Oe<j.length;Oe++)ze=q(oe,U,Oe,j[Oe],K),ze!==null&&(t&&ze.alternate!==null&&oe.delete(ze.key===null?Oe:ze.key),D=f(ze,D,Oe),Xe===null?he=ze:Xe.sibling=ze,Xe=ze);return t&&oe.forEach(function(hr){return n(U,hr)}),Ge&&ls(U,Oe),he}function _e(U,D,j,K){if(j==null)throw Error(a(151));for(var he=null,Xe=null,oe=D,Oe=D=0,ze=null,$e=j.next();oe!==null&&!$e.done;Oe++,$e=j.next()){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var hr=z(U,oe,$e.value,K);if(hr===null){oe===null&&(oe=ze);break}t&&oe&&hr.alternate===null&&n(U,oe),D=f(hr,D,Oe),Xe===null?he=hr:Xe.sibling=hr,Xe=hr,oe=ze}if($e.done)return s(U,oe),Ge&&ls(U,Oe),he;if(oe===null){for(;!$e.done;Oe++,$e=j.next())$e=$(U,$e.value,K),$e!==null&&(D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e);return Ge&&ls(U,Oe),he}for(oe=l(oe);!$e.done;Oe++,$e=j.next())$e=q(oe,U,Oe,$e.value,K),$e!==null&&(t&&$e.alternate!==null&&oe.delete($e.key===null?Oe:$e.key),D=f($e,D,Oe),Xe===null?he=$e:Xe.sibling=$e,Xe=$e);return t&&oe.forEach(function(Db){return n(U,Db)}),Ge&&ls(U,Oe),he}function ft(U,D,j,K){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var he=j.key;D!==null;){if(D.key===he){if(he=j.type,he===se){if(D.tag===7){s(U,D.sibling),K=h(D,j.props.children),K.return=U,U=K;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ea(he)===D.type){s(U,D.sibling),K=h(D,j.props),to(K,j),K.return=U,U=K;break e}s(U,D);break}else n(U,D);D=D.sibling}j.type===se?(K=Xr(j.props.children,U.mode,K,j.key),K.return=U,U=K):(K=Vu(j.type,j.key,j.props,null,U.mode,K),to(K,j),K.return=U,U=K)}return g(U);case W:e:{for(he=j.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(U,D.sibling),K=h(D,j.children||[]),K.return=U,U=K;break e}else{s(U,D);break}else n(U,D);D=D.sibling}K=Kh(j,U.mode,K),K.return=U,U=K}return g(U);case w:return j=ea(j),ft(U,D,j,K)}if(St(j))return le(U,D,j,K);if(V(j)){if(he=V(j),typeof he!="function")throw Error(a(150));return j=he.call(j),_e(U,D,j,K)}if(typeof j.then=="function")return ft(U,D,Bu(j),K);if(j.$$typeof===de)return ft(U,D,Lu(U,j),K);Hu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,j),K.return=U,U=K):(s(U,D),K=Qh(j,U.mode,K),K.return=U,U=K),g(U)):s(U,D)}return function(U,D,j,K){try{eo=0;var he=ft(U,D,j,K);return Ha=null,he}catch(oe){if(oe===Ba||oe===Pu)throw oe;var Xe=Un(29,oe,null,U.mode);return Xe.lanes=K,Xe.return=U,Xe}}}var na=Wp(!0),eg=Wp(!1),Ys=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Mu(t),Lp(t,null,s),n}return Ou(t,l,n,s),Mu(t)}function no(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,nn(t,s)}}function of(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function io(){if(uf){var t=za;if(t!==null)throw t}}function so(t,n,s,l){uf=!1;var h=t.updateQueue;Ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,P=x.next;x.next=null,g===null?f=P:g.next=P,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=x))}if(f!==null){var $=h.baseState;g=0,Q=P=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Pe&z)===z:(l&z)===z){z!==0&&z===Pa&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;z=n;var ft=s;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){$=le.call(ft,$,z);break e}$=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,z=typeof le=="function"?le.call(ft,$,z):le,z==null)break e;$=S({},$,z);break e;case 2:Ys=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=q,x=$):Q=Q.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(x=$),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),tr|=g,t.lanes=g,t.memoizedState=$}}function tg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ng(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)tg(s[t],n)}var qa=O(null),qu=O(0);function ig(t,n){t=_s,ie(qu,t),ie(qa,n),_s=t|n.baseLanes}function cf(){ie(qu,_s),ie(qa,qa.current)}function hf(){_s=qu.current,Y(qa),Y(qu)}var Ln=O(null),ei=null;function Js(t){var n=t.alternate;ie(Vt,Vt.current&1),ie(Ln,t),ei===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ei=t)}function ff(t){ie(Vt,Vt.current),ie(Ln,t),ei===null&&(ei=t)}function sg(t){t.tag===22?(ie(Vt,Vt.current),ie(Ln,t),ei===null&&(ei=t)):Zs()}function Zs(){ie(Vt,Vt.current),ie(Ln,Ln.current)}function jn(t){Y(Ln),ei===t&&(ei=null),Y(Vt)}var Vt=O(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cs=0,Ne=null,ct=null,Ht=null,Fu=!1,Ga=!1,ia=!1,Qu=0,ro=0,Fa=null,TT=0;function It(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!kn(t[s],n[s]))return!1;return!0}function mf(t,n,s,l,h,f){return cs=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Bg:Cf,ia=!1,f=s(l,h),ia=!1,Ga&&(f=ag(n,s,l,h)),rg(t),f}function rg(t){G.H=oo;var n=ct!==null&&ct.next!==null;if(cs=0,Ht=ct=Ne=null,Fu=!1,ro=0,Fa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Uu(t)&&(qt=!0))}function ag(t,n,s,l){Ne=t;var h=0;do{if(Ga&&(Fa=null),ro=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Hg,f=n(s,l)}while(Ga);return f}function bT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ne.flags|=1024),n}function pf(){var t=Qu!==0;return Qu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}cs=0,Ht=ct=Ne=null,Ga=!1,ro=Qu=0,Fa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(ct===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Ht===null?Ne.memoizedState:Ht.next;if(n!==null)Ht=n,ct=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Fa===null&&(Fa=[]),t=$p(Fa,t,n),n=Ne,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Bg:Cf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===de)return an(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=k;return n.index++,s}function hs(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=kt();return vf(n,ct,t)}function vf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,P=n,Q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Pe&$)===$:(cs&$)===$){var z=P.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Pa&&(Q=!0);else if((cs&z)===z){P=P.next,z===Pa&&(Q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=$,g=f):x=x.next=$,Ne.lanes|=z,tr|=z;$=P.action,ia&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Ne.lanes|=$,tr|=$;P=P.next}while(P!==null&&P!==n);if(x===null?g=f:x.next=E,!kn(f,t.memoizedState)&&(qt=!0,Q&&(s=za,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=kt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);kn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function lg(t,n,s){var l=Ne,h=kt(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!kn((ct||h).memoizedState,s);if(g&&(h.memoizedState=s,qt=!0),h=h.queue,Af(cg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},ug.bind(null,l,h,s,n),null),mt===null)throw Error(a(349));f||(cs&127)!==0||og(l,n,s)}return s}function og(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=Ku(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ug(t,n,s,l){n.value=s,n.getSnapshot=l,hg(n)&&fg(t)}function cg(t,n,s){return s(function(){hg(n)&&fg(t)})}function hg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!kn(t,s)}catch{return!0}}function fg(t){var n=Yr(t,2);n!==null&&In(n,t,2)}function Tf(t){var n=vn();if(typeof t=="function"){var s=t;if(t=s(),ia){B(!0);try{s()}finally{B(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},n}function dg(t,n,s,l){return t.baseState=s,vf(t,ct,typeof l=="function"?l:hs)}function AT(t,n,s,l,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,mg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function mg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),x=G.S;x!==null&&x(g,E),pg(t,n,E)}catch(P){bf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),pg(t,n,f)}catch(P){bf(t,n,P)}}function pg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){gg(t,n,l)},function(l){return bf(t,n,l)}):gg(t,n,s)}function gg(t,n,s){n.status="fulfilled",n.value=s,yg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,mg(t,s)))}function bf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,yg(n),n=n.next;while(n!==l)}t.action=null}function yg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _g(t,n){return n}function vg(t,n){if(Ge){var s=mt.formState;if(s!==null){e:{var l=Ne;if(Ge){if(vt){t:{for(var h=vt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ti(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(n=s[0])}}return s=vn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},s.queue=l,s=jg.bind(null,Ne,l),l.dispatch=s,l=Tf(!1),f=If.bind(null,Ne,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=AT.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Eg(t){var n=kt();return Tg(n,ct,t)}function Tg(t,n,s){if(n=vf(t,n,_g)[0],t=Xu(hs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(g){throw g===Ba?Pu:g}else l=n;n=kt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,Qa(9,{destroy:void 0},ST.bind(null,h,s),null)),[l,f,t]}function ST(t,n){t.action=n}function bg(t){var n=kt(),s=ct;if(s!==null)return Tg(n,s,t);kt(),n=n.memoizedState,s=kt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Qa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Ku(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Ag(){return kt().memoizedState}function $u(t,n,s,l){var h=vn();Ne.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ju(t,n,s,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&df(l,ct.memoizedState.deps)?h.memoizedState=Qa(n,f,s,l):(Ne.flags|=t,h.memoizedState=Qa(1|n,f,s,l))}function Sg(t,n){$u(8390656,8,t,n)}function Af(t,n){Ju(2048,8,t,n)}function wT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Ku(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function wg(t){var n=kt().memoizedState;return wT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rg(t,n){return Ju(4,2,t,n)}function xg(t,n){return Ju(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cg(t,n,s){s=s!=null?s.concat([t]):null,Ju(4,4,Ig.bind(null,n,t),s)}function Sf(){}function Ng(t,n){var s=kt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Dg(t,n){var s=kt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),ia){B(!0);try{t()}finally{B(!1)}}return s.memoizedState=[l,n],l}function wf(t,n,s){return s===void 0||(cs&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Oy(),Ne.lanes|=t,tr|=t,s)}function Og(t,n,s,l){return kn(s,n)?s:qa.current!==null?(t=wf(t,s,l),kn(t,n)||(qt=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(Pe&261930)===0?(qt=!0,t.memoizedState=s):(t=Oy(),Ne.lanes|=t,tr|=t,n)}function Mg(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,If(t,!1,n,s);try{var x=h(),P=G.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=ET(x,l);lo(t,n,Q,Bn(t))}else lo(t,n,l,Bn(t))}catch($){lo(t,n,{then:function(){},status:"rejected",reason:$},Bn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function RT(){}function Rf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Vg(t).queue;Mg(t,h,n,ue,s===null?RT:function(){return kg(t),s(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ue},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kg(t){var n=Vg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Bn())}function xf(){return an(wo)}function Ug(){return kt().memoizedState}function Lg(){return kt().memoizedState}function xT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bn();t=Xs(s);var l=$s(n,t,s);l!==null&&(In(l,n,s),no(l,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function IT(t,n,s){var l=Bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Pg(n,s):(s=Gh(t,n,s,l),s!==null&&(In(s,t,l),zg(s,n,l)))}function jg(t,n,s){var l=Bn();lo(t,n,s,l)}function lo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,kn(E,g))return Ou(t,n,h,0),mt===null&&Du(),!1}catch{}if(s=Gh(t,n,h,l),s!==null)return In(s,t,l),zg(s,n,l),!0}return!1}function If(t,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,l,2),n!==null&&In(n,t,2)}function Zu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Pg(t,n){Ga=Fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function zg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,nn(t,s)}}var oo={readContext:an,use:Yu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};oo.useEffectEvent=It;var Bg={readContext:an,use:Yu,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,$u(4194308,4,Ig.bind(null,n,t),s)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var s=vn();n=n===void 0?null:n;var l=t();if(ia){B(!0);try{t()}finally{B(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=vn();if(s!==void 0){var h=s(n);if(ia){B(!0);try{s(n)}finally{B(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=IT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=jg.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=vn();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Mg.bind(null,Ne,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ne,h=vn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),mt===null)throw Error(a(349));(Pe&127)!==0||og(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Sg(cg.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},ug.bind(null,l,f,s,n),null),s},useId:function(){var t=vn(),n=mt.identifierPrefix;if(Ge){var s=Ui,l=ki;s=(l&~(1<<32-X(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=TT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:vg,useActionState:vg,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return vn().memoizedState=xT.bind(null,Ne)},useEffectEvent:function(t){var n=vn(),s={impl:t};return n.memoizedState=s,function(){if((et&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:an,use:Yu,useCallback:Ng,useContext:an,useEffect:Af,useImperativeHandle:Cg,useInsertionEffect:Rg,useLayoutEffect:xg,useMemo:Dg,useReducer:Xu,useRef:Ag,useState:function(){return Xu(hs)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=kt();return Og(s,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(hs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:xf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var s=kt();return dg(s,ct,t,n)},useMemoCache:_f,useCacheRefresh:Lg};Cf.useEffectEvent=wg;var Hg={readContext:an,use:Yu,useCallback:Ng,useContext:an,useEffect:Af,useImperativeHandle:Cg,useInsertionEffect:Rg,useLayoutEffect:xg,useMemo:Dg,useReducer:Ef,useRef:Ag,useState:function(){return Ef(hs)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=kt();return ct===null?wf(s,t,n):Og(s,ct.memoizedState,t,n)},useTransition:function(){var t=Ef(hs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:xf,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var s=kt();return ct!==null?dg(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Lg};Hg.useEffectEvent=wg;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Bn(),h=Xs(l);h.payload=n,s!=null&&(h.callback=s),n=$s(t,h,l),n!==null&&(In(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Bn(),h=Xs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=$s(t,h,l),n!==null&&(In(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Bn(),l=Xs(s);l.tag=2,n!=null&&(l.callback=n),n=$s(t,l,s),n!==null&&(In(n,t,s),no(n,t,s))}};function qg(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yl(s,l)||!Yl(h,f):!0}function Gg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function sa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Fg(t){Nu(t)}function Qg(t){console.error(t)}function Kg(t){Nu(t)}function Wu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Xs(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,n)},s}function Xg(t){return t=Xs(t),t.tag=3,t}function $g(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Yg(n,s,l),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function CT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ja(n,s,h,!0),s=Ln.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?hc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return s.flags|=65536,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(t,l,h)),!1}throw Error(a(435,s.tag))}return id(t,l,h),hc(),!1}if(Ge)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),Jl($n(t,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Jl($n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,s),h=Of(t.stateNode,l,h),of(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,s),yo===null?yo=[f]:yo.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=$n(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xg(h),$g(h,t,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),qt=!1;function ln(t,n,s,l){n.child=t===null?eg(n,null,s,l):na(n,t.child,s,l)}function Jg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Zr(n),l=mf(t,n,s,g,f,h),E=pf(),t!==null&&!qt?(gf(t,n,h),fs(t,n,h)):(Ge&&E&&Yh(n),n.flags|=1,ln(t,n,l,h),n.child)}function Zg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Wg(t,n,f,l,h)):(t=Vu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(g,l)&&t.ref===n.ref)return fs(t,n,h)}return n.flags|=1,t=as(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,fs(t,n,h)}return Vf(t,n,s,l,h)}function ey(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?ig(n,f):cf(),sg(n);else return l=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ju(n,f.cachePool),ig(n,f),Zs(),n.memoizedState=null):(t!==null&&ju(n,null),cf(),Zs());return ln(t,n,h,s),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,s,l,h){var f=sf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ju(n,null),cf(),sg(n),t!==null&&ja(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,s){return na(n,t.child,null,s),t=ec(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function NT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,uo(null,t);if(ff(n),(t=vt)?(t=m0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Pp(t),s.return=n,n.child=s,rn=n,vt=null)):t=null,t===null)throw Qs(n);return n.lanes=536870912,null}return ec(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||ja(t,n,s,!1),h=(s&t.childLanes)!==0,qt||h){if(l=mt,l!==null&&(g=ts(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Yr(t,g),In(l,t,g),Mf;hc(),n=ny(t,n,s)}else t=f.treeContext,vt=ti(g.nextSibling),rn=n,Ge=!0,Fs=null,Wn=!1,t!==null&&Hp(n,t),n=ec(n,l),n.flags|=4096;return n}return t=as(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,l,h){return Zr(n),s=mf(t,n,s,l,void 0,h),l=pf(),t!==null&&!qt?(gf(t,n,h),fs(t,n,h)):(Ge&&l&&Yh(n),n.flags|=1,ln(t,n,s,h),n.child)}function iy(t,n,s,l,h,f){return Zr(n),n.updateQueue=null,s=ag(n,l,s,h),rg(t),l=pf(),t!==null&&!qt?(gf(t,n,f),fs(t,n,f)):(Ge&&l&&Yh(n),n.flags|=1,ln(t,n,s,f),n.child)}function sy(t,n,s,l,h){if(Zr(n),n.stateNode===null){var f=Va,g=s.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?an(g):Va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=sa(s,E);f.props=x;var P=f.context,Q=s.contextType;g=Va,typeof Q=="object"&&Q!==null&&(g=an(Q));var $=s.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Gg(n,f,l,g),Ys=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),P=n.memoizedState,E||z!==P||Ys?(typeof $=="function"&&(Nf(n,s,$,l),P=n.memoizedState),(x=Ys||qg(n,s,x,l,z,P,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),g=n.memoizedProps,Q=sa(s,g),f.props=Q,$=n.pendingProps,z=f.context,P=s.contextType,x=Va,typeof P=="object"&&P!==null&&(x=an(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||z!==x)&&Gg(n,f,l,x),Ys=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var q=n.memoizedState;g!==$||z!==q||Ys||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(Q=Ys||qg(n,s,Q,l,z,q,x)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,tc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,s,h)):ln(t,n,s,h),n.memoizedState=f.state,t=n.child):t=fs(t,n,h),t}function ry(t,n,s,l){return $r(),n.flags|=256,ln(t,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Yp()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=zn),t}function ay(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Js(n):Zs(),(t=vt)?(t=m0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Pp(t),s.return=n,n.child=s,rn=n,vt=null)):t=null,t===null)throw Qs(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Zs(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=Xr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,uo(null,l)):(Js(n),jf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=Xr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,na(n,t.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,n=uo(null,l));else if(Js(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Jl({value:l,source:null,stack:null}),n=Pf(t,n,s)}else if(qt||ja(t,n,s,!1),g=(s&t.childLanes)!==0,qt||g){if(g=mt,g!==null&&(l=ts(g,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,Yr(t,l),In(g,t,l),Mf;_d(E)||hc(),n=Pf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,vt=ti(E.nextSibling),rn=n,Ge=!0,Fs=null,Wn=!1,t!==null&&Hp(n,t),n=jf(n,l.children),n.flags|=4096);return n}return h?(Zs(),E=l.fallback,h=n.mode,x=t.child,P=x.sibling,l=as(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,P!==null?E=as(P,E):(E=Xr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,uo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(x=Bt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Yp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Lf(t,g,s),n.memoizedState=kf,uo(t.child,l)):(Js(n),s=t.child,t=s.sibling,s=as(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function jf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return na(n,t.child,null,s),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function oy(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Vt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(Vt,g),ln(t,n,l,s),l=Ge?$l:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,s,n);else if(t.tag===19)ly(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function fs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ja(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=as(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=as(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function DT(t,n,s){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Ks(n,Bt,t.memoizedState.cache),$r();break;case 27:case 5:Yi(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ay(t,n,s):(Js(n),t=fs(t,n,s),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ja(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return oy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,ey(t,n,s,n.pendingProps);case 24:Ks(n,Bt,t.memoizedState.cache)}return fs(t,n,s)}function uy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return qt=!1,DT(t,n,s);qt=(t.flags&131072)!==0}else qt=!1,Ge&&(n.flags&1048576)!==0&&Bp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=sa(t,l),n.tag=1,n=sy(null,n,t,l,s)):(n.tag=0,n=Vf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Jg(null,n,t,l,s);break e}else if(h===C){n.tag=14,n=Zg(null,n,t,l,s);break e}}throw n=tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=sa(l,n.pendingProps),sy(t,n,l,h,s);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),so(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ks(n,Bt,l),l!==f.cache&&ef(n,[Bt],s,!0),io(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,l,s);break e}else if(l!==h){h=$n(Error(a(424)),n),Jl(h),n=ry(t,n,l,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=ti(t.firstChild),rn=n,Ge=!0,Fs=null,Wn=!0,s=eg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($r(),l===h){n=fs(t,n,s);break e}ln(t,n,l,s)}n=n.child}return n;case 26:return tc(t,n),t===null?(s=E0(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,l=_c(Re.current).createElement(s),l[jt]=n,l[Zt]=t,on(l,s,t),Pt(l),n.stateNode=l):n.memoizedState=E0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Yi(n),t===null&&Ge&&(l=n.stateNode=y0(n.type,n.pendingProps,Re.current),rn=n,Wn=!0,h=vt,ar(n.type)?(Ed=h,vt=ti(l.firstChild)):vt=h),ln(t,n,n.pendingProps.children,s),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=vt)&&(l=lb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,rn=n,vt=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Qs(n)),Yi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,pd(h,f)?l=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,bT,null,null,s),wo._currentValue=h),tc(t,n),ln(t,n,l,s),n.child;case 6:return t===null&&Ge&&((t=s=vt)&&(s=ob(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,rn=n,vt=null,t=!0):t=!1),t||Qs(n)),null;case 13:return ay(t,n,s);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,s):ln(t,n,l,s),n.child;case 11:return Jg(t,n,n.type,n.pendingProps,s);case 7:return ln(t,n,n.pendingProps,s),n.child;case 8:return ln(t,n,n.pendingProps.children,s),n.child;case 12:return ln(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ks(n,n.type,l.value),ln(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Zr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,s),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,s);case 15:return Wg(t,n,n.type,n.pendingProps,s);case 19:return oy(t,n,s);case 31:return NT(t,n,s);case 22:return ey(t,n,s,n.pendingProps);case 24:return Zr(n),l=an(Bt),t===null?(h=sf(),h===null&&(h=mt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),Ks(n,Bt,h)):((t.lanes&s)!==0&&(lf(t,n),so(n,null,null,s),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ks(n,Bt,l)):(l=f.cache,Ks(n,Bt,l),l!==h.cache&&ef(n,[Bt],s,!0))),ln(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ds(t){t.flags|=4}function Hf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw ta=zu,rf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w0(n))if(Uy())t.flags|=8192;else throw ta=zu,rf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nt():536870912,t.lanes|=n,$a|=n)}function co(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function OT(t,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Et(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),us(Bt),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(La(n)?ds(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),Et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ds(n),f!==null?(Et(n),cy(n,f)):(Et(n),Hf(n,h,null,l,s))):f?f!==t.memoizedState?(ds(n),Et(n),cy(n,f)):(Et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ds(n),Et(n),Hf(n,h,t,l,s)),null;case 27:if(Xi(n),s=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}t=re.current,La(n)?qp(n):(t=y0(h,l,s),n.stateNode=t,ds(n))}return Et(n),null;case 5:if(Xi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}if(f=re.current,La(n))qp(n);else{var g=_c(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[jt]=n,f[Zt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ds(n)}}return Et(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,La(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a0(t.nodeValue,s)),t||Qs(n,!0)}else t=_c(t).createTextNode(l),t[jt]=n,n.stateNode=t}return Et(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Et(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ic(n,n.updateQueue),Et(n),null);case 4:return gt(),t===null&&cd(n.stateNode.containerInfo),Et(n),null;case 10:return us(n.type),Et(n),null;case 19:if(Y(Vt),l=n.memoizedState,l===null)return Et(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)jp(s,t),s=s.sibling;return ie(Vt,Vt.current&1|2),Ge&&ls(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ot()>oc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return Et(n),null}else 2*Ot()-l.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ot(),t.sibling=null,s=Vt.current,ie(Vt,h?s&1|2:s&1),Ge&&ls(n,l.treeForkCount),t):(Et(n),null);case 22:case 23:return jn(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),s=n.updateQueue,s!==null&&ic(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Wr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),us(Bt),Et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function MT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return us(Bt),gt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xi(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Vt),null;case 4:return gt(),null;case 10:return us(n.type),null;case 22:case 23:return jn(n),hf(),t!==null&&Y(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return us(Bt),null;case 25:return null;default:return null}}function hy(t,n){switch(Xh(n),n.tag){case 3:us(Bt),gt();break;case 26:case 27:case 5:Xi(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(Vt);break;case 10:us(n.type);break;case 22:case 23:jn(n),hf(),t!==null&&Y(Wr);break;case 24:us(Bt)}}function ho(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){lt(n,n.return,E)}}function Ws(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=s,P=E;try{P()}catch(Q){lt(h,x,Q)}}}l=l.next}while(l!==f)}}catch(Q){lt(n,n.return,Q)}}function fy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{ng(n,s)}catch(l){lt(t,t.return,l)}}}function dy(t,n,s){s.props=sa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){lt(t,n,l)}}function fo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){lt(t,n,h)}}function Li(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){lt(t,n,h)}else s.current=null}function my(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){lt(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;tb(l,t.type,s,n),l[Zt]=n}catch(h){lt(t,t.return,h)}}function py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&ar(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function sc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(sc(t,n,s),t=t.sibling;t!==null;)sc(t,n,s),t=t.sibling}function gy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,s),n[jt]=t,n[Zt]=s}catch(f){lt(t,t.return,f)}}var ms=!1,Gt=!1,Qf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,en=null;function VT(t,n){if(t=t.containerInfo,dd=wc,t=Cp(t),jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,x=-1,P=0,Q=0,$=t,z=null;t:for(;;){for(var q;$!==s||h!==0&&$.nodeType!==3||(E=g+h),$!==f||l!==0&&$.nodeType!==3||(x=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(q=$.firstChild)!==null;)z=$,$=q;for(;;){if($===t)break t;if(z===s&&++P===h&&(E=g),z===f&&++Q===l&&(x=g),(q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=q}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},wc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=sa(s.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){lt(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function _y(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:gs(t,s),l&4&&ho(5,s);break;case 1:if(gs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){lt(s,s.return,g)}else{var h=sa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){lt(s,s.return,g)}}l&64&&fy(s),l&512&&fo(s,s.return);break;case 3:if(gs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ng(t,n)}catch(g){lt(s,s.return,g)}}break;case 27:n===null&&l&4&&gy(s);case 26:case 5:gs(t,s),n===null&&l&4&&my(s),l&512&&fo(s,s.return);break;case 12:gs(t,s);break;case 31:gs(t,s),l&4&&Ty(t,s);break;case 13:gs(t,s),l&4&&by(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=qT.bind(null,s),ub(t,s))));break;case 22:if(l=s.memoizedState!==null||ms,!l){n=n!==null&&n.memoizedState!==null||Gt,h=ms;var f=Gt;ms=l,(Gt=n)&&!f?ys(t,s,(s.subtreeFlags&8772)!==0):gs(t,s),ms=h,Gt=f}break;case 30:break;default:gs(t,s)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Sn=!1;function ps(t,n,s){for(s=s.child;s!==null;)Ey(t,n,s),s=s.sibling}function Ey(t,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(On,s)}catch{}switch(s.tag){case 26:Gt||Li(s,n),ps(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Gt||Li(s,n);var l=At,h=Sn;ar(s.type)&&(At=s.stateNode,Sn=!1),ps(t,n,s),bo(s.stateNode),At=l,Sn=h;break;case 5:Gt||Li(s,n);case 6:if(l=At,h=Sn,At=null,ps(t,n,s),At=l,Sn=h,At!==null)if(Sn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(f){lt(s,n,f)}else try{At.removeChild(s.stateNode)}catch(f){lt(s,n,f)}break;case 18:At!==null&&(Sn?(t=At,f0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),sl(t)):f0(At,s.stateNode));break;case 4:l=At,h=Sn,At=s.stateNode.containerInfo,Sn=!0,ps(t,n,s),At=l,Sn=h;break;case 0:case 11:case 14:case 15:Ws(2,s,n),Gt||Ws(4,s,n),ps(t,n,s);break;case 1:Gt||(Li(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&dy(s,n,l)),ps(t,n,s);break;case 21:ps(t,n,s);break;case 22:Gt=(l=Gt)||s.memoizedState!==null,ps(t,n,s),Gt=l;break;default:ps(t,n,s)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(s){lt(n,n.return,s)}}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(s){lt(n,n.return,s)}}function kT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var s=kT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=GT.bind(null,t,l);l.then(h,h)}})}function wn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){At=E.stateNode,Sn=!1;break e}break;case 5:At=E.stateNode,Sn=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(At===null)throw Error(a(160));Ey(f,g,h),At=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var pi=null;function Ay(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(Ws(3,t,t.return),ho(3,t),Ws(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&64&&ms&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=pi;if(wn(n,t),Rn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,s),f[jt]=t,Pt(f),l=f;break e;case"link":var g=A0("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),on(f,l,s),h.head.appendChild(f);break;case"meta":if(g=A0("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(l),on(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[jt]=t,Pt(f),l=f}t.stateNode=l}else S0(h,t.type,t.stateNode);else t.stateNode=b0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?S0(h,t.type,t.stateNode):b0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:wn(n,t),Rn(t),l&512&&(Gt||s===null||Li(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wn(n,t),Rn(t),l&512&&(Gt||s===null||Li(s,s.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(le){lt(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(le){lt(t,t.return,le)}}break;case 3:if(Tc=null,h=pi,pi=vc(n.containerInfo),wn(n,t),pi=h,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(le){lt(t,t.return,le)}Qf&&(Qf=!1,Sy(t));break;case 4:l=pi,pi=vc(t.stateNode.containerInfo),wn(n,t),Rn(t),pi=l;break;case 12:wn(n,t),Rn(t);break;case 31:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=Ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,P=ms,Q=Gt;if(ms=P||h,Gt=Q||x,wn(n,t),Gt=Q,ms=P,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||ms||Gt||ra(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var $=x.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){lt(x,x.return,le)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(le){lt(x,x.return,le)}}}else if(n.tag===18){if(s===null){x=n;try{var q=x.stateNode;h?d0(q,!0):d0(x.stateNode,!1)}catch(le){lt(x,x.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rc(t,s))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(py(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);sc(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(An(g,""),s.flags&=-33);var E=Gf(t);sc(t,E,g);break;case 3:case 4:var x=s.stateNode.containerInfo,P=Gf(t);Ff(t,P,x);break;default:throw Error(a(161))}}catch(Q){lt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),ra(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&dy(n,n.return,s),ra(n);break;case 27:bo(n.stateNode);case 26:case 5:Li(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function ys(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ys(h,f,s),ho(4,f);break;case 1:if(ys(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){lt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)tg(x[h],E)}catch(P){lt(l,l.return,P)}}s&&g&64&&fy(f),fo(f,f.return);break;case 27:gy(f);case 26:case 5:ys(h,f,s),s&&l===null&&g&4&&my(f),fo(f,f.return);break;case 12:ys(h,f,s);break;case 31:ys(h,f,s),s&&g&4&&Ty(h,f);break;case 13:ys(h,f,s),s&&g&4&&by(h,f);break;case 22:f.memoizedState===null&&ys(h,f,s),fo(f,f.return);break;case 30:break;default:ys(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Zl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function gi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,s,l),n=n.sibling}function wy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,s,l),h&2048&&ho(9,n);break;case 1:gi(t,n,s,l);break;case 3:gi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){gi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){lt(n,n.return,x)}}else gi(t,n,s,l);break;case 31:gi(t,n,s,l);break;case 13:gi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,s,l):mo(t,n):f._visibility&2?gi(t,n,s,l):(f._visibility|=2,Ka(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:gi(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:gi(t,n,s,l)}}function Ka(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,x=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,E,x,h),ho(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ka(f,g,E,x,h):mo(f,g):(Q._visibility|=2,Ka(f,g,E,x,h)),h&&P&2048&&Kf(g.alternate,g);break;case 24:Ka(f,g,E,x,h),h&&P&2048&&Yf(g.alternate,g);break;default:Ka(f,g,E,x,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:mo(s,l),h&2048&&Kf(l.alternate,l);break;case 24:mo(s,l),h&2048&&Yf(l.alternate,l);break;default:mo(s,l)}n=n.sibling}}var po=8192;function Ya(t,n,s){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ry(t,n,s),t=t.sibling}function Ry(t,n,s){switch(t.tag){case 26:Ya(t,n,s),t.flags&po&&t.memoizedState!==null&&Tb(s,pi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,s);break;case 3:case 4:var l=pi;pi=vc(t.stateNode.containerInfo),Ya(t,n,s),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ya(t,n,s),po=l):Ya(t,n,s));break;default:Ya(t,n,s)}}function xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,Cy(l,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):go(t);break;default:go(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,Cy(l,t)}xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),ac(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Cy(t,n){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:Ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(vy(l),l===s){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var UT={getCacheForType:function(t){var n=an(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return an(Bt).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,ke=null,Pe=0,at=0,Pn=null,er=!1,Xa=!1,Xf=!1,_s=0,Ct=0,tr=0,aa=0,$f=0,zn=0,$a=0,yo=null,xn=null,Jf=!1,lc=0,Ny=0,oc=1/0,uc=null,nr=null,Xt=0,ir=null,Ja=null,vs=0,Zf=0,Wf=null,Dy=null,_o=0,ed=null;function Bn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?ad():ns()}function Oy(){if(zn===0)if((Pe&536870912)===0||Ge){var t=De;De<<=1,(De&3932160)===0&&(De=262144),zn=t}else zn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),zn}function In(t,n,s){(t===mt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Za(t,0),sr(t,Pe,zn,!1)),yn(t,s),((et&2)===0||t!==mt)&&(t===mt&&((et&2)===0&&(aa|=s),Ct===4&&sr(t,Pe,zn,!1)),ji(t))}function My(t,n,s){if((et&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||_t(t,n),h=l?zT(t,n):nd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&sr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!jT(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=yo;var x=E.current.memoizedState.isDehydrated;if(x&&(Za(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),sr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,zn,!er);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Ot(),10<h)){if(sr(l,n,zn,!er),be(l,0,!0)!==0)break e;vs=n,l.timeoutHandle=c0(Vy.bind(null,l,s,xn,uc,Jf,n,zn,aa,$a,er,f,"Throttled",-0,0),h);break e}Vy(l,s,xn,uc,Jf,n,zn,aa,$a,er,f,null,-0,0)}}break}while(!0);ji(t)}function Vy(t,n,s,l,h,f,g,E,x,P,Q,$,z,q){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Ry(n,f,$);var le=(f&62914560)===f?lc-Ot():(f&4194048)===f?Ny-Ot():0;if(le=bb($,le),le!==null){vs=f,t.cancelPendingCommit=le(Hy.bind(null,t,n,f,s,l,h,g,E,x,Q,$,null,z,q)),sr(t,f,g,!P);return}}Hy(t,n,f,s,l,h,g,E,x)}function jT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,s,l){n&=~$f,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-X(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&ai(t,s,n)}function cc(){return(et&6)===0?(vo(0),!1):!0}function td(){if(ke!==null){if(at===0)var t=ke.return;else t=ke,os=Jr=null,yf(t),Ha=null,eo=0,t=ke;for(;t!==null;)hy(t.alternate,t),t=t.return;ke=null}}function Za(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vs=0,td(),mt=t,ke=s=as(t.current,null),Pe=n,at=0,Pn=null,er=!1,Xa=_t(t,n),Xf=!1,$a=zn=$f=aa=tr=Ct=0,xn=yo=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-X(l),f=1<<h;n|=t[h],l&=~f}return _s=n,Du(),s}function ky(t,n){Ne=null,G.H=oo,n===Ba||n===Pu?(n=Jp(),at=3):n===rf?(n=Jp(),at=4):at=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,ke===null&&(Ct=1,Wu(t,$n(n,t.current)))}function Uy(){var t=Ln.current;return t===null?!0:(Pe&4194048)===Pe?ei===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ei:!1}function Ly(){var t=G.H;return G.H=oo,t===null?oo:t}function jy(){var t=G.A;return G.A=UT,t}function hc(){Ct=4,er||(Pe&4194048)!==Pe&&Ln.current!==null||(Xa=!0),(tr&134217727)===0&&(aa&134217727)===0||mt===null||sr(mt,Pe,zn,!1)}function nd(t,n,s){var l=et;et|=2;var h=Ly(),f=jy();(mt!==t||Pe!==n)&&(uc=null,Za(t,n)),n=!1;var g=Ct;e:do try{if(at!==0&&ke!==null){var E=ke,x=Pn;switch(at){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var P=at;if(at=0,Pn=null,Wa(t,E,x,P),s&&Xa){g=0;break e}break;default:P=at,at=0,Pn=null,Wa(t,E,x,P)}}PT(),g=Ct;break}catch(Q){ky(t,Q)}while(!0);return n&&t.shellSuspendCounter++,os=Jr=null,et=l,G.H=h,G.A=f,ke===null&&(mt=null,Pe=0,Du()),g}function PT(){for(;ke!==null;)Py(ke)}function zT(t,n){var s=et;et|=2;var l=Ly(),h=jy();mt!==t||Pe!==n?(uc=null,oc=Ot()+500,Za(t,n)):Xa=_t(t,n);e:do try{if(at!==0&&ke!==null){n=ke;var f=Pn;t:switch(at){case 1:at=0,Pn=null,Wa(t,n,f,1);break;case 2:case 9:if(Xp(f)){at=0,Pn=null,zy(n);break}n=function(){at!==2&&at!==9||mt!==t||(at=7),ji(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Xp(f)?(at=0,Pn=null,zy(n)):(at=0,Pn=null,Wa(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?w0(g):E.stateNode.complete){at=0,Pn=null;var x=E.sibling;if(x!==null)ke=x;else{var P=E.return;P!==null?(ke=P,fc(P)):ke=null}break t}}at=0,Pn=null,Wa(t,n,f,5);break;case 6:at=0,Pn=null,Wa(t,n,f,6);break;case 8:td(),Ct=6;break e;default:throw Error(a(462))}}BT();break}catch(Q){ky(t,Q)}while(!0);return os=Jr=null,G.H=l,G.A=h,et=s,ke!==null?0:(mt=null,Pe=0,Du(),Ct)}function BT(){for(;ke!==null&&!Nl();)Py(ke)}function Py(t){var n=uy(t.alternate,t,_s);t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function zy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=iy(s,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=iy(s,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:yf(n);default:hy(s,n),n=ke=jp(n,_s),n=uy(s,n,_s)}t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function Wa(t,n,s,l){os=Jr=null,yf(n),Ha=null,eo=0;var h=n.return;try{if(CT(t,h,n,s,Pe)){Ct=1,Wu(t,$n(s,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Ct=1,Wu(t,$n(s,t.current)),ke=null;return}n.flags&32768?(Ge||l===1?t=!0:Xa||(Pe&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),By(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){By(n,er);return}t=n.return;var s=OT(n.alternate,n,_s);if(s!==null){ke=s;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Ct===0&&(Ct=5)}function By(t,n){do{var s=MT(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);Ct=6,ke=null}function Hy(t,n,s,l,h,f,g,E,x){t.cancelPendingCommit=null;do dc();while(Xt!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vs(t,s,f,g,E,x),t===mt&&(ke=mt=null,Pe=0),Ja=n,ir=t,vs=s,Zf=f,Wf=h,Dy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FT(Ti,function(){return Ky(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,g=et,et|=4;try{VT(t,n,s)}finally{et=g,ne.p=h,G.T=l}}Xt=1,qy(),Gy(),Fy()}}function qy(){if(Xt===1){Xt=0;var t=ir,n=Ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{Ay(n,t);var f=md,g=Cp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ip(E.ownerDocument.documentElement,E)){if(x!==null&&jh(E)){var P=x.start,Q=x.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,_e=Math.min(x.start,le),ft=x.end===void 0?_e:Math.min(x.end,le);!q.extend&&_e>ft&&(g=ft,ft=_e,_e=g);var U=xp(E,_e),D=xp(E,ft);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=$.createRange();j.setStart(U.node,U.offset),q.removeAllRanges(),_e>ft?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wc=!!dd,md=dd=null}finally{et=h,ne.p=l,G.T=s}}t.current=n,Xt=2}}function Gy(){if(Xt===2){Xt=0;var t=ir,n=Ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{_y(t,n.alternate,n)}finally{et=h,ne.p=l,G.T=s}}Xt=3}}function Fy(){if(Xt===4||Xt===3){Xt=0,ya();var t=ir,n=Ja,s=vs,l=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ja=ir=null,Qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),ye(s),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(vs&3)!==0&&dc(),ji(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?_o++:(_o=0,ed=t):_o=0,vo(0)}}function Qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function dc(){return qy(),Gy(),Fy(),Ky()}function Ky(){if(Xt!==5)return!1;var t=ir,n=Zf;Zf=0;var s=ye(vs),l=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=ir,g=vs;if(Xt=0,Ja=ir=null,vs=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,Iy(f.current),wy(f,f.current,g,s),et=E,vo(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{ne.p=h,G.T=l,Qy(t,n)}}function Yy(t,n,s){n=$n(s,n),n=Of(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(yn(t,2),ji(t))}function lt(t,n,s){if(t.tag===3)Yy(t,t,s);else for(;n!==null;){if(n.tag===3){Yy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=$n(s,t),s=Xg(2),l=$s(n,s,2),l!==null&&($g(s,l,n,t),yn(l,2),ji(l));break}}n=n.return}}function id(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new LT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=HT.bind(null,t,n,s),n.then(t,t))}function HT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(Pe&s)===s&&(Ct===4||Ct===3&&(Pe&62914560)===Pe&&300>Ot()-lc?(et&2)===0&&Za(t,0):$f|=s,$a===Pe&&($a=0)),ji(t)}function Xy(t,n){n===0&&(n=nt()),t=Yr(t,n),t!==null&&(yn(t,n),ji(t))}function qT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Xy(t,s)}function GT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xy(t,s)}function FT(t,n){return Dt(t,n)}var mc=null,el=null,sd=!1,pc=!1,rd=!1,rr=0;function ji(t){t!==el&&t.next===null&&(el===null?mc=el=t:el=el.next=t),pc=!0,sd||(sd=!0,KT())}function vo(t,n){if(!rd&&pc){rd=!0;do for(var s=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-X(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Wy(l,f))}else f=Pe,f=be(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||_t(l,f)||(s=!0,Wy(l,f));l=l.next}while(s);rd=!1}}function QT(){$y()}function $y(){pc=sd=!1;var t=0;rr!==0&&ib()&&(t=rr);for(var n=Ot(),s=null,l=mc;l!==null;){var h=l.next,f=Jy(l,n);f===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(el=s)):(s=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Xt!==0&&Xt!==5||vo(t),rr!==0&&(rr=0)}function Jy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-X(f),E=1<<g,x=h[g];x===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Lt(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,s=Pe,s=be(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||_t(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),ye(s)){case 2:case 8:s=kr;break;case 32:s=Ti;break;case 268435456:s=Tn;break;default:s=Ti}return l=Zy.bind(null,t),s=Dt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dc()&&t.callbackNode!==s)return null;var l=Pe;return l=be(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Jy(t,Ot()),t.callbackNode!=null&&t.callbackNode===s?Zy.bind(null,t):null)}function Wy(t,n){if(dc())return null;My(t,n,!0)}function KT(){rb(function(){(et&6)!==0?Dt(Vr,QT):$y()})}function ad(){if(rr===0){var t=Pa;t===0&&(t=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),rr=t}return rr}function e0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function t0(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function YT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=e0((h[Zt]||null).action),g=l.submitter;g&&(n=(n=g[Zt]||null)?e0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var x=g?t0(h,g):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?t0(h,g):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],XT=od.toLowerCase(),$T=od[0].toUpperCase()+od.slice(1);mi(XT,"on"+$T)}mi(Op,"onAnimationEnd"),mi(Mp,"onAnimationIteration"),mi(Vp,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(fT,"onTransitionRun"),mi(dT,"onTransitionStart"),mi(mT,"onTransitionCancel"),mi(kp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function n0(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=x}}}}function Ue(t,n){var s=n[va];s===void 0&&(s=n[va]=new Set);var l=t+"__bubble";s.has(l)||(i0(n,t,2,!1),s.add(l))}function ud(t,n,s){var l=0;n&&(l|=4),i0(s,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[gc]){t[gc]=!0,Dl.forEach(function(s){s!=="selectionchange"&&(JT.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,ud("selectionchange",!1,n))}}function i0(t,n,s,l){switch(O0(n)){case 2:var h=wb;break;case 8:h=Rb;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Si(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue e}E=E.parentNode}}l=l.return}zs(function(){var P=f,Q=Qn(s),$=[];e:{var z=Up.get(t);if(z!==void 0){var q=Di,le=t;switch(t){case"keypress":if(Hr(s)===0)break e;case"keydown":case"keyup":q=xu;break;case"focusin":le="focus",q=Gr;break;case"focusout":le="blur",q=Gr;break;case"beforeblur":case"afterblur":q=Gr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Op:case Mp:case Vp:q=Eu;break;case kp:q=b;break;case"scroll":case"scrollend":q=ql;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=rs;break;case"toggle":case"beforetoggle":q=Ce}var _e=(n&4)!==0,ft=!_e&&(t==="scroll"||t==="scrollend"),U=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=P,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||U===null||(K=ci(D,U),K!=null&&_e.push(To(D,K,j))),ft)break;D=D.return}0<_e.length&&(z=new q(z,le,null,s,Q),$.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==zl&&(le=s.relatedTarget||s.fromElement)&&(Si(le)||le[bi]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=P,le=le?Si(le):null,le!==null&&(ft=c(le),_e=le.tag,le!==ft||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(q=null,le=P),q!==le)){if(_e=Gl,K="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=rs,K="onPointerLeave",U="onPointerEnter",D="pointer"),ft=q==null?z:Mn(q),j=le==null?z:Mn(le),z=new _e(K,D+"leave",q,s,Q),z.target=ft,z.relatedTarget=j,K=null,Si(Q)===P&&(_e=new _e(U,D+"enter",le,s,Q),_e.target=j,_e.relatedTarget=ft,K=_e),ft=K,q&&le)t:{for(_e=ZT,U=q,D=le,j=0,K=U;K;K=_e(K))j++;K=0;for(var he=D;he;he=_e(he))K++;for(;0<j-K;)U=_e(U),j--;for(;0<K-j;)D=_e(D),K--;for(;j--;){if(U===D||D!==null&&U===D.alternate){_e=U;break t}U=_e(U),D=_e(D)}_e=null}else _e=null;q!==null&&s0($,z,q,_e,!1),le!==null&&ft!==null&&s0($,ft,le,_e,!0)}}e:{if(z=P?Mn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Xe=Tp;else if(vp(z))if(bp)Xe=uT;else{Xe=lT;var oe=aT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Aa(P.elementType)&&(Xe=Tp):Xe=oT;if(Xe&&(Xe=Xe(t,P))){Ep($,Xe,s,Q);break e}oe&&oe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(oe=P?Mn(P):window,t){case"focusin":(vp(oe)||oe.contentEditable==="true")&&(Da=oe,Ph=P,Xl=null);break;case"focusout":Xl=Ph=Da=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Np($,s,Q);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Np($,s,Q)}var Oe;if(We)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Na?Fr(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(Vi&&s.locale!=="ko"&&(Na||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Na&&(Oe=Hl()):(Ni=Q,Bl="value"in Ni?Ni.value:Ni.textContent,Na=!0)),oe=yc(P,ze),0<oe.length&&(ze=new Mi(ze,t,null,s,Q),$.push({event:ze,listeners:oe}),Oe?ze.data=Oe:(Oe=Ca(s),Oe!==null&&(ze.data=Oe)))),(Oe=Yn?nT(t,s):iT(t,s))&&(ze=yc(P,"onBeforeInput"),0<ze.length&&(oe=new Mi("onBeforeInput","beforeinput",null,s,Q),$.push({event:oe,listeners:ze}),oe.data=Oe)),YT($,t,P,s,Q)}n0($,n)})}function To(t,n,s){return{instance:t,listener:n,currentTarget:s}}function yc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,s),h!=null&&l.unshift(To(t,h,f)),h=ci(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ZT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s0(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||P===null||(x=P,h?(P=ci(s,f),P!=null&&g.unshift(To(s,P,x))):h||(P=ci(s,f),P!=null&&g.push(To(s,P,x)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var WT=/\r\n?/g,eb=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(WT,`
`).replace(eb,"")}function a0(t,n){return n=r0(n),r0(t)===n}function ht(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,s,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Sa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Sa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,Ta(t,s,l))}}function fd(t,n,s,l,h,f){switch(s){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ta(t,s,l)}}}function on(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,g,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),l&&ht(t,n,"src",s.src,s,null);return;case"input":Ue("invalid",t);var E=f=g=h=null,x=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ht(t,n,l,Q,s,null)}}mu(t,f,E,x,P,g,h,!1);return;case"select":Ue("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ht(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Us(t,!!l,n,!1):s!=null&&Us(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,g,E,s,null)}Ls(t,l,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,x,l,s,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)Ue(Eo[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,P,l,s,null)}return;default:if(Aa(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ht(t,n,E,l,s,null))}function tb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,P=null,Q=null;for(q in s){var $=s[q];if(s.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=$;default:l.hasOwnProperty(q)||ht(t,n,q,null,l,$)}}for(var z in l){var q=l[z];if($=s[z],l.hasOwnProperty(z)&&(q!=null||$!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&ht(t,n,z,q,l,$)}}ba(t,g,E,x,P,Q,f,h);return;case"select":q=g=E=z=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=s[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&ht(t,n,h,f,l,x)}n=E,s=g,l=q,z!=null?Us(t,!!s,z,!1):!!l!=!!s&&(n!=null?Us(t,!!s,n,!0):Us(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,g,h,l,f)}pu(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ht(t,n,le,null,l,z));for(x in l)z=l[x],q=s[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ht(t,n,x,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&ht(t,n,_e,null,l,z);for(P in l)if(z=l[P],q=s[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,P,z,l,q)}return;default:if(Aa(n)){for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!==void 0&&!l.hasOwnProperty(ft)&&fd(t,n,ft,void 0,l,z);for(Q in l)z=l[Q],q=s[Q],!l.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||fd(t,n,Q,z,l,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&ht(t,n,U,null,l,z);for($ in l)z=l[$],q=s[$],!l.hasOwnProperty($)||z===q||z==null&&q==null||ht(t,n,$,z,l,q)}function l0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&l0(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var x=s[l],P=x.startTime;if(P>E)break;var Q=x.transferSize,$=x.initiatorType;Q&&l0($)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-P)/(x-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function o0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(ab)}:c0;function ab(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function f0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")bo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,bo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&bo(t.ownerDocument.body);s=h}while(s);sl(n)}function d0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),Ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function ob(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function m0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function p0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ti(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function g0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function y0(t,n,s){switch(n=_c(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ni=new Map,_0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=ne.d;ne.d={f:cb,r:hb,D:fb,C:db,L:mb,m:pb,X:yb,S:gb,M:_b};function cb(){var t=Es.f(),n=cc();return t||n}function hb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?kg(n):Es.r(t)}var tl=typeof document>"u"?null:document;function v0(t,n,s){var l=tl;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),_0.has(h)||(_0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function fb(t){Es.D(t),v0("dns-prefetch",t,null)}function db(t,n){Es.C(t,n),v0("preconnect",t,n)}function mb(t,n,s){Es.L(t,n,s);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+bn(s.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ao(f))||n==="script"&&l.querySelector(So(f))||(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function pb(t,n){Es.m(t,n);var s=tl;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(So(f)))return}l=s.createElement("link"),on(l,"link",t),Pt(l),s.head.appendChild(l)}}}function gb(t,n,s){Es.S(t,n,s);var l=tl;if(l&&t){var h=wi(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ao(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&Td(t,s);var x=g=l.createElement("link");Pt(x),on(x,"link",t),x._p=new Promise(function(P,Q){x.onload=P,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function yb(t,n){Es.X(t,n);var s=tl;if(s&&t){var l=wi(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),on(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(t,n){Es.M(t,n);var s=tl;if(s&&t){var l=wi(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(So(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),on(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function E0(t,n,s,l){var h=(h=Re.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=nl(s.href),s=wi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=nl(s.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ao(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||vb(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(s),s=wi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+bn(t)+'"'}function Ao(t){return'link[rel="stylesheet"]['+t+"]"}function T0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",s),Pt(n),t.head.appendChild(n))}function il(t){return'[src="'+bn(t)+'"]'}function So(t){return"script[async]"+t}function b0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(s.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),on(l,"style",h),Ec(l,s.precedence,t),n.instance=l;case"stylesheet":h=nl(s.href);var f=t.querySelector(Ao(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=T0(s),(h=ni.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),on(f,"link",l),n.state.loading|=4,Ec(f,s.precedence,t),n.instance=f;case"script":return f=il(s.src),(h=t.querySelector(So(f)))?(n.instance=h,Pt(h),h):(l=s,(h=ni.get(f))&&(l=S({},s),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ec(l,s.precedence,t));return n.instance}function Ec(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function A0(t,n,s){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(s,l)}else h=Tc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function S0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Eb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=nl(l.href),f=n.querySelector(Ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Pt(f);return}f=n.ownerDocument||n,l=T0(l),(h=ni.get(h))&&Td(l,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),on(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=bc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function bb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(Ab,t),Ac=null,bc.call(t))}function Ab(t,n){if(!(n.state.loading&4)){var s=Ac.get(t);if(s)var l=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:de,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Sb(t,n,s,l,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.hiddenUpdates=yt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function R0(t,n,s,l,h,f,g,E,x,P,Q,$){return t=new Sb(t,n,s,g,x,P,Q,$,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),t}function x0(t){return t?(t=Va,t):Va}function I0(t,n,s,l,h,f){h=x0(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=$s(t,l,n),s!==null&&(In(s,t,n),no(s,t,n))}function C0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){C0(t,n),(t=t.alternate)&&C0(t,n)}function N0(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&In(n,t,67108864),Sd(t,67108864)}}function D0(t){if(t.tag===13||t.tag===31){var n=Bn();n=Se(n);var s=Yr(t,n);s!==null&&In(s,t,n),Sd(t,n)}}var wc=!0;function wb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function Rb(t,n,s,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,wd(t,n,s,l)}finally{ne.p=f,G.T=h}}function wd(t,n,s,l){if(wc){var h=Rd(l);if(h===null)hd(t,n,l,Rc,s),M0(t,l);else if(Ib(h,t,n,s,l))l.stopPropagation();else if(M0(t,l),n&4&&-1<xb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Qe(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-X(g);E.entanglements[1]|=x,g&=~x}ji(f),(et&6)===0&&(oc=Ot()+500,vo(0))}}break;case 31:case 13:E=Yr(f,2),E!==null&&In(E,f,2),cc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(t,n,l,Rc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,s)}}function Rd(t){return t=Qn(t),xd(t)}var Rc=null;function xd(t){if(Rc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function O0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Vr:return 2;case kr:return 8;case Ti:case _a:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var Id=!1,lr=null,or=null,ur=null,Ro=new Map,xo=new Map,cr=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function Io(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&N0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ib(t,n,s,l,h){switch(n){case"focusin":return lr=Io(lr,t,n,s,l,h),!0;case"dragenter":return or=Io(or,t,n,s,l,h),!0;case"mouseover":return ur=Io(ur,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,xo.set(f,Io(xo.get(f)||null,t,n,s,l,h)),!0}return!1}function V0(t){var n=Si(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,li(t.priority,function(){D0(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,li(t.priority,function(){D0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zl=l,s.target.dispatchEvent(l),zl=null}else return n=Fn(s),n!==null&&N0(n),t.blockedOn=s,!1;n.shift()}return!0}function k0(t,n,s){xc(t)&&s.delete(n)}function Cb(){Id=!1,lr!==null&&xc(lr)&&(lr=null),or!==null&&xc(or)&&(or=null),ur!==null&&xc(ur)&&(ur=null),Ro.forEach(k0),xo.forEach(k0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var Cc=null;function U0(t){Cc!==t&&(Cc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var f=Fn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function sl(t){function n(x){return Ic(x,t)}lr!==null&&Ic(lr,t),or!==null&&Ic(or,t),ur!==null&&Ic(ur,t),Ro.forEach(n),xo.forEach(n);for(var s=0;s<cr.length;s++){var l=cr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(s=cr[0],s.blockedOn===null);)V0(s),s.blockedOn===null&&cr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Zt]||null;if(typeof f=="function")g||U0(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Zt]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),U0(s)}}}function L0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Nc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Bn();I0(s,l,t,n,null,null)},Nc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I0(t.current,2,null,t,null,null),cc(),n[bi]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ns();t={blockedOn:null,target:t,priority:n};for(var s=0;s<cr.length&&n!==0&&n<cr[s].priority;s++);cr.splice(s,0,t),s===0&&V0(t)}};var j0=e.version;if(j0!=="19.2.3")throw Error(a(527,j0,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{On=Dc.inject(Nb),Yt=Dc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Fg,f=Qg,g=Kg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=R0(t,1,!1,null,null,s,l,null,h,f,g,L0),t[bi]=n.current,cd(t),new Cd(n)},No.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Fg,g=Qg,E=Kg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=R0(t,1,!0,n,s??null,l,h,x,f,g,E,L0),n.context=x0(null),s=n.current,l=Bn(),l=Se(l),h=Xs(l),h.callback=null,$s(s,h,l),s=l,n.current.lanes=s,yn(n,s),ji(n),t[bi]=n.current,cd(t),new Nc(n)},No.version="19.2.3",No}var Y0;function zb(){if(Y0)return Od.exports;Y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Pb(),Od.exports}var Bb=zb();const Hb=()=>{};var X0={};const Iv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],y=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,y=d?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;p||(F=64,d||(M=64)),a.push(i[A],i[S],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Iv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new Gb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(r){const e=Iv(r);return Cv.encodeByteArray(e,!0)},Yc=function(r){return Fb(r).replace(/\./g,"")},Nv=function(r){try{return Cv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kb=()=>Qb().__FIREBASE_DEFAULTS__,Yb=()=>{if(typeof process>"u"||typeof X0>"u")return;const r=X0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Nv(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return Hb()||Kb()||Yb()||Xb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Dv=r=>mh()?.emulatorHosts?.[r],$b=r=>{const e=Dv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ov=()=>mh()?.config,Mv=r=>mh()?.[`_${r}`];class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(r){return(await fetch(r,{credentials:"include"})).ok}function Zb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const jo={};function Wb(){const r={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?r.emulator.push(e):r.prod.push(e);return r}function eA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let $0=!1;function kv(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||jo[r]===e||jo[r]||$0)return;jo[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Wb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$0=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=eA(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),me=i("preprendIcon"),fe=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const de=M.element;y(de),A(ee,se);const Je=_();p(fe,me),de.append(fe,W,ee,Je),document.body.appendChild(de)}c?(W.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function nA(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const cA="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=cA,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?hA(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,y,a)}}function hA(r,e){return r.replace(fA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const fA=/\{\$([^}]+)}/g;function dA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Sr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(J0(c)&&J0(d)){if(!Sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function J0(r){return r!==null&&typeof r=="object"}function Wo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function mA(r,e){const i=new pA(r,e);return i.subscribe.bind(i)}class pA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function En(r){return r&&r._delegate?r._delegate:r}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class yA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_A(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _A(r){return r===la?void 0:r}function vA(r){return r.instantiationMode==="EAGER"}class EA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const TA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},bA=Be.INFO,AA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},SA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=AA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const wA=(r,e)=>e.some(i=>r instanceof i);let Z0,W0;function RA(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Wd=new WeakMap,Lv=new WeakMap,Ld=new WeakMap,Nm=new WeakMap;function IA(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(vr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,r)}).catch(()=>{}),Nm.set(e,r),e}function CA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Lv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NA(r){em=r(em)}function DA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(jd(this),e,...i);return Lv.set(a,e.sort?e.sort():[e]),vr(a)}:xA().includes(r)?function(...e){return r.apply(jd(this),e),vr(Uv.get(this))}:function(...e){return vr(r.apply(jd(this),e))}}function OA(r){return typeof r=="function"?DA(r):(r instanceof IDBTransaction&&CA(r),wA(r,RA())?new Proxy(r,em):r)}function vr(r){if(r instanceof IDBRequest)return IA(r);if(Ld.has(r))return Ld.get(r);const e=OA(r);return e!==r&&(Ld.set(r,e),Nm.set(e,r)),e}const jd=r=>Nm.get(r);function MA(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),y=vr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(vr(d.result),p.oldVersion,p.newVersion,vr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const VA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],Pd=new Map;function e_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=kA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||VA.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&p.done]))[0]};return Pd.set(e,c),c}NA(r=>({...r,get:(e,i,a)=>e_(e,i)||r.get(e,i,a),has:(e,i)=>!!e_(e,i)||r.has(e,i)}));class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",t_="0.14.6";const ws=new Cm("@firebase/app"),jA="@firebase/app-compat",PA="@firebase/analytics-compat",zA="@firebase/analytics",BA="@firebase/app-check-compat",HA="@firebase/app-check",qA="@firebase/auth",GA="@firebase/auth-compat",FA="@firebase/database",QA="@firebase/data-connect",KA="@firebase/database-compat",YA="@firebase/functions",XA="@firebase/functions-compat",$A="@firebase/installations",JA="@firebase/installations-compat",ZA="@firebase/messaging",WA="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",sS="@firebase/storage",rS="@firebase/storage-compat",aS="@firebase/firestore",lS="@firebase/ai",oS="@firebase/firestore-compat",uS="firebase",cS="12.6.0";const nm="[DEFAULT]",hS={[tm]:"fire-core",[jA]:"fire-core-compat",[zA]:"fire-analytics",[PA]:"fire-analytics-compat",[HA]:"fire-app-check",[BA]:"fire-app-check-compat",[qA]:"fire-auth",[GA]:"fire-auth-compat",[FA]:"fire-rtdb",[QA]:"fire-data-connect",[KA]:"fire-rtdb-compat",[YA]:"fire-fn",[XA]:"fire-fn-compat",[$A]:"fire-iid",[JA]:"fire-iid-compat",[ZA]:"fire-fcm",[WA]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[sS]:"fire-gcs",[rS]:"fire-gcs-compat",[aS]:"fire-fst",[oS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};const Xc=new Map,fS=new Map,im=new Map;function n_(r,e){try{r.container.addComponent(e)}catch(i){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function pl(r){const e=r.name;if(im.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())n_(i,r);for(const i of fS.values())n_(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Zo("app","Firebase",dS);class mS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Sl=cS;function jv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw Er.create("no-options");const c=Xc.get(o);if(c){if(Sr(i,c.options)&&Sr(a,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const d=new EA(o);for(const p of im.values())d.addComponent(p);const y=new mS(i,a,d);return Xc.set(o,y),y}function Pv(r=nm){const e=Xc.get(r);if(!e&&r===nm&&Ov())return jv();if(!e)throw Er.create("no-app",{appName:r});return e}function Tr(r,e,i){let a=hS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}pl(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const pS="firebase-heartbeat-database",gS=1,Go="firebase-heartbeat-store";let zd=null;function zv(){return zd||(zd=MA(pS,gS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Go)}catch(i){console.warn(i)}}}}).catch(r=>{throw Er.create("idb-open",{originalErrorMessage:r.message})})),zd}async function yS(r){try{const i=(await zv()).transaction(Go),a=await i.objectStore(Go).get(Bv(r));return await i.done,a}catch(e){if(e instanceof Ds)ws.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e?.message});ws.warn(i.message)}}}async function i_(r,e){try{const a=(await zv()).transaction(Go,"readwrite");await a.objectStore(Go).put(e,Bv(r)),await a.done}catch(i){if(i instanceof Ds)ws.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i?.message});ws.warn(a.message)}}}function Bv(r){return`${r.name}!${r.options.appId}`}const _S=1024,vS=30;class ES{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vS){const o=AS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:i,unsentEntries:a}=TS(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ws.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function TS(r,e=_S){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),r_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r_(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function AS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function SS(r){pl(new ca("platform-logger",e=>new UA(e),"PRIVATE")),pl(new ca("heartbeat",e=>new ES(e),"PRIVATE")),Tr(tm,t_,r),Tr(tm,t_,"esm2020"),Tr("fire-js","")}SS("");var wS="firebase",RS="12.7.0";Tr(wS,RS,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xS=Hv,qv=new Zo("auth","Firebase",Hv());const $c=new Cm("@firebase/auth");function IS(r,...e){$c.logLevel<=Be.WARN&&$c.warn(`Auth (${Sl}): ${r}`,...e)}function jc(r,...e){$c.logLevel<=Be.ERROR&&$c.error(`Auth (${Sl}): ${r}`,...e)}function Rs(r,...e){throw Om(r,...e)}function zi(r,...e){return Om(r,...e)}function Gv(r,e,i){const a={...xS(),[e]:i};return new Zo("auth","Firebase",a).create(e,{appName:r.name})}function Ss(r){return Gv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return qv.create(r,...e)}function Ae(r,e,...i){if(!r)throw Om(e,...i)}function bs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jc(e),new Error(e)}function xs(r,e){r||bs(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function CS(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CS()||sA()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,xs(i>e,"Short delay should be less than long delay!"),this.isMobile=tA()||rA()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){xs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Fv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new eu(3e4,6e4);function tu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wl(r,e,i,a,o={}){return Qv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Wo({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...c};return iA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(_.credentials="include"),Fv.fetch()(await Kv(r,r.config.apiHost,i,y),_)})}async function Qv(r,e,i){r._canInitEmulator=!1;const a={...OS,...e};try{const o=new kS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Oc(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Gv(r,A,_);Rs(r,A)}}catch(o){if(o instanceof Ds)throw o;Rs(r,"network-request-failed",{message:String(o)})}}async function Vm(r,e,i,a,o={}){const c=await wl(r,e,i,a,o);return"mfaPendingCredential"in c&&Rs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Kv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return MS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),VS.get())})}}function Oc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(r,e,a);return o.customData._tokenResponse=i,o}async function US(r,e){return wl(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return wl(r,"POST","/v1/accounts:lookup",e)}function Po(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LS(r,e=!1){const i=En(r),a=await i.getIdToken(e),o=km(a);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Po(Bd(o.auth_time)),issuedAtTime:Po(Bd(o.iat)),expirationTime:Po(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nv(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l_(r){const e=km(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&jS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const e=r.auth,i=await r.getIdToken(),a=await Fo(r,Jc(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Yv(o.providerUserInfo):[],d=BS(r.providerData,c),y=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!d?.length,_=y?p:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function zS(r){const e=En(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Yv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HS(r,e){const i=await Qv(r,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Kv(r,o,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(p.credentials="include"),Fv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qS(r,e){return wl(r,"POST","/v2/accounts:revokeToken",tu(r,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=l_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await HS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return bs("not implemented")}}function fr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Fo(this,US(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:se}=i;Ae(S&&se,e,"internal-error");const ee=cl.fromJSON(this.name,se);Ae(typeof S=="string",e,"internal-error"),fr(a,e.name),fr(o,e.name),Ae(typeof M=="boolean",e,"internal-error"),Ae(typeof F=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(y,e.name),fr(p,e.name),fr(_,e.name),fr(A,e.name);const me=new yi({uid:S,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(me.providerData=W.map(fe=>({...fe}))),p&&(me._redirectEventId=p),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Yv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new cl;y.updateFromIdToken(a);const p=new yi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const o_=new Map;function As(r){xs(r instanceof Function,"Expected a class definition");let e=o_.get(r);return e?(xs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o_.set(r,e),e)}class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xv.type="NONE";const u_=Xv;function Pc(r,e,i){return`firebase:${r}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Pc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(As(u_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||As(u_);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await Jc(e,{idToken:A}).catch(()=>{});if(!M)break;S=await yi._fromGetAccountInfoResponse(e,M,A)}else S=yi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new hl(c,e,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new hl(c,e,a))}}function c_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(Jv(e))return"Safari";if((e.includes("chrome/")||Zv(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function $v(r=gn()){return/firefox\//i.test(r)}function Jv(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zv(r=gn()){return/crios\//i.test(r)}function Wv(r=gn()){return/iemobile/i.test(r)}function e1(r=gn()){return/android/i.test(r)}function t1(r=gn()){return/blackberry/i.test(r)}function n1(r=gn()){return/webos/i.test(r)}function Um(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GS(r=gn()){return Um(r)&&!!window.navigator?.standalone}function FS(){return aA()&&document.documentMode===10}function i1(r=gn()){return Um(r)||e1(r)||n1(r)||t1(r)||/windows phone/i.test(r)||Wv(r)}function s1(r,e=[]){let i;switch(r){case"Browser":i=c_(gn());break;case"Worker":i=`${c_(gn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class QS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const p=e(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function KS(r,e={}){return wl(r,"GET","/v2/passwordPolicy",tu(r,e))}const YS=6;class XS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $S{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new QS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ss(this));const i=e?En(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KS(this),i=new XS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await qS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(r){return En(r)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(r){Lm=r}function ZS(r){return Lm.loadJS(r)}function WS(){return Lm.gapiScript}function e2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function t2(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Sr(c,e??{}))return o;Rs(o,"already-initialized")}return i.initialize({options:e})}function n2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function i2(r,e,i){const a=nu(r);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=r1(e),{host:d,port:y}=s2(e),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Sr(_,a.config.emulator)&&Sr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(Vv(`${c}//${d}${p}`),kv("Auth",!0)):r2()}function r1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function s2(r){const e=r1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:f_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f_(d)}}}function f_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function r2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class a1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,i){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function fl(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",tu(r,e))}const a2="http://localhost";class ha extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:a2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mr extends iu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class pr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return pr.credential(i,a)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";class gr extends iu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class yr extends iu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function l2(r,e){return Vm(r,"POST","/v1/accounts:signUp",tu(r,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await yi._fromIdTokenResponse(e,a,o),d=d_(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=d_(a);return new Is({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function d_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function o2(r){if(si(r.app))return Promise.reject(Ss(r));const e=nu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await l2(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function o1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function u2(r,e,i=!1){const a=await Fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Is._forOperation(r,"link",a)}async function c2(r,e,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(Ss(a));const o="reauthenticate";try{const c=await Fo(r,o1(a,o,e,r),i);Ae(c.idToken,a,"internal-error");const d=km(c.idToken);Ae(d,a,"internal-error");const{sub:y}=d;return Ae(r.uid===y,a,"user-mismatch"),Is._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Rs(a,"user-mismatch"),c}}async function h2(r,e,i=!1){if(si(r.app))return Promise.reject(Ss(r));const a="signIn",o=await o1(r,a,e),c=await Is._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function f2(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",tu(r,e))}async function d2(r,e){if(si(r.app))return Promise.reject(Ss(r));const i=nu(r),a=await f2(i,{token:e,returnSecureToken:!0}),o=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function m2(r,e,i,a){return En(r).onIdTokenChanged(e,i,a)}function p2(r,e,i){return En(r).beforeAuthStateChanged(e,i)}function g2(r,e,i,a){return En(r).onAuthStateChanged(e,i,a)}const eh="__sak";class u1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,_2=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);FS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const v2=c1;class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}h1.type="SESSION";const f1=h1;function E2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await E2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function jm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=jm("",20);o.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function b2(r){Bi().location.href=r}function d1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function A2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){return navigator?.serviceWorker?.controller||null}function w2(){return d1()?self:null}const m1="firebaseLocalStorageDb",R2=1,th="firebaseLocalStorage",p1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function x2(){const r=indexedDB.deleteDatabase(m1);return new su(r).toPromise()}function am(){const r=indexedDB.open(m1,R2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:p1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await x2(),e(await am()))})})}async function m_(r,e,i){const a=gh(r,!0).put({[p1]:e,value:i});return new su(a).toPromise()}async function I2(r,e){const i=gh(r,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function p_(r,e){const i=gh(r,!0).delete(e);return new su(i).toPromise()}const C2=800,N2=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>N2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(w2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await m_(e,eh,"1"),await p_(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>I2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>p_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gh(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const D2=g1;new eu(3e4,6e4);function O2(r,e){return e?As(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function M2(r){return h2(r.auth,new Pm(r),r.bypassAuthState)}function V2(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),c2(i,new Pm(r),r.bypassAuthState)}async function k2(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),u2(i,new Pm(r),r.bypassAuthState)}class y1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:Rs(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new eu(2e3,1e4);class ul extends y1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}ul.currentPopupAction=null;const L2="pendingRedirect",zc=new Map;class j2 extends y1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await P2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2(r,e){const i=H2(e),a=B2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function z2(r,e){zc.set(r._key(),e)}function B2(r){return As(r._redirectPersistence)}function H2(r){return Pc(L2,r.config.apiKey,r.name)}async function q2(r,e,i=!1){if(si(r.app))return Promise.reject(Ss(r));const a=nu(r),o=O2(a,e),d=await new j2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const G2=600*1e3;class F2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(r);default:return!1}}async function K2(r,e={}){return wl(r,"GET","/v1/projects",e)}const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function $2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await K2(r);for(const i of e)try{if(J2(i))return}catch{}Rs(r,"unauthorized-domain")}function J2(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!X2.test(i))return!1;if(Y2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Z2=new eu(3e4,6e4);function y_(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function W2(r){return new Promise((e,i)=>{function a(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),i(zi(r,"network-request-failed"))},timeout:Z2.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=e2("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},ZS(`${WS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function ew(r){return Bc=Bc||W2(r),Bc}const tw=new eu(5e3,15e3),nw="__/auth/iframe",iw="emulator/auth/iframe",sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aw(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,iw):`https://${r.config.authDomain}/${nw}`,a={apiKey:e.apiKey,appName:r.name,v:Sl},o=rw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function lw(r){const e=await ew(r),i=Bi().gapi;return Ae(i,r,"internal-error"),e.open({where:document.body,url:aw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),y=Bi().setTimeout(()=>{c(d)},tw.get());function p(){Bi().clearTimeout(y),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uw=500,cw=600,hw="_blank",fw="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dw(r,e,i,a=uw,o=cw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...ow,width:a.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(y=Zv(_)?hw:i),$v(_)&&(e=e||fw,p.scrollbars="yes");const A=Object.entries(p).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(GS(_)&&y!=="_self")return mw(e||"",y),new __(null);const S=window.open(e||"",y,A);Ae(S,r,"popup-blocked");try{S.focus()}catch{}return new __(S)}function mw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const pw="__/auth/handler",gw="emulator/auth/handler",yw=encodeURIComponent("fac");async function v_(r,e,i,a,o,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof l1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",dA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof iu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const p=await r._getAppCheckToken(),_=p?`#${yw}=${encodeURIComponent(p)}`:"";return`${_w(r)}?${Wo(y).slice(1)}${_}`}function _w({config:r}){return r.emulator?Mm(r,gw):`https://${r.authDomain}/${pw}`}const Hd="webStorageSupport";class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=q2,this._overrideRedirectResult=z2}async _openPopup(e,i,a,o){xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v_(e,i,a,sm(),o);return dw(e,c,jm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await v_(e,i,a,sm(),o);return b2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(xs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await lw(e),a=new F2(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return i1()||Jv()||Um()}}const Ew=vw;var E_="@firebase/auth",T_="1.12.0";class Tw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aw(r){pl(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(r)},_=new $S(a,o,c,p);return n2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pl(new ca("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new Tw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(E_,T_,bw(r)),Tr(E_,T_,"esm2020")}const Sw=300,ww=Mv("authIdTokenMaxAge")||Sw;let b_=null;const Rw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>ww)return;const o=i?.token;b_!==o&&(b_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xw(r=Pv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=t2(r,{popupRedirectResolver:Ew,persistence:[D2,v2,f1]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Rw(c.toString());p2(i,d,()=>d(i.currentUser)),m2(i,y=>d(y))}}const o=Dv("auth");return o&&i2(i,`http://${o}`),i}function Iw(){return document.getElementsByTagName("head")?.[0]??document}JS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Iw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aw("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var br,v1;(function(){var r;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(k,N,V){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)k[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let V=C.g[3],R;R=w+(V^I&(N^V))+k[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[2]+606105819&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[6]+2821735955&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[10]+4294925233&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[14]+2792965006&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^V&(I^N))+k[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[11]+643717713&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[15]+3634488961&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[3]+4107603335&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[7]+1735328473&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^V)+k[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[11]+1839030562&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[7]+4139469664&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[3]+3572445317&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[15]+530742520&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~V))+k[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[14]+2878612391&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[10]+4293915773&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[6]+2734768916&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[2]+718787259&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=I;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(k[N++]=C.charCodeAt(V++),N==this.blockSize){o(this,k),N=0;break}}else for(;V<w;)if(k[N++]=C[V++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)C[w++]=this.g[I]>>>k&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let k=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;k&&V==w||(I[N]=V,k=!1)}this.g=I}var y={};function p(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let I=1;for(let k=0;C>=I;k++)w[k]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let k=S;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const R=parseInt(C.substring(V,V+N),w);N<8?(N=_(Math.pow(w,N)),k=k.j(N).add(_(R))):(k=k.j(I),k=k.add(_(R)))}return k}var S=p(0),M=p(1),F=p(16777216);r=d.prototype,r.m=function(){if(se(this))return-ee(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(se(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var I=this;let k="";for(;;){const N=Je(I,w).g;I=me(I,N.j(w));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,W(I))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}r.l=function(C){return C=me(this,C),se(C)?-1:W(C)?0:1};function ee(C){const w=C.g.length,I=[];for(let k=0;k<w;k++)I[k]=~C.g[k];return new d(I,~C.h).add(M)}r.abs=function(){return se(this)?ee(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let k=0;for(let N=0;N<=w;N++){let V=k+(this.i(N)&65535)+(C.i(N)&65535),R=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=R>>>16,V&=65535,R&=65535,I[N]=R<<16|V}return new d(I,I[I.length-1]&-2147483648?-1:0)};function me(C,w){return C.add(ee(w))}r.j=function(C){if(W(this)||W(C))return S;if(se(this))return se(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(se(C))return ee(this.j(ee(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<C.g.length;N++){const V=this.i(k)>>>16,R=this.i(k)&65535,tt=C.i(N)>>>16,St=C.i(N)&65535;I[2*k+2*N]+=R*St,fe(I,2*k+2*N),I[2*k+2*N+1]+=V*St,fe(I,2*k+2*N+1),I[2*k+2*N+1]+=R*tt,fe(I,2*k+2*N+1),I[2*k+2*N+2]+=V*tt,fe(I,2*k+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function fe(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function de(C,w){this.g=C,this.h=w}function Je(C,w){if(W(w))throw Error("division by zero");if(W(C))return new de(S,S);if(se(C))return w=Je(ee(C),w),new de(ee(w.g),ee(w.h));if(se(w))return w=Je(C,ee(w)),new de(ee(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,k=w;k.l(C)<=0;)I=ot(I),k=ot(k);var N=Le(I,1),V=Le(k,1);for(k=Le(k,2),I=Le(I,2);!W(k);){var R=V.add(k);R.l(C)<=0&&(N=N.add(I),V=R),k=Le(k,1),I=Le(I,1)}return w=me(C,N.j(w)),new de(N,w)}for(N=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=_(I),R=V.j(w);se(R)||R.l(C)>0;)I-=k,V=_(I),R=V.j(w);W(V)&&(V=M),N=N.add(V),C=me(C,R)}return new de(N,C)}r.B=function(C){return Je(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&C.i(k);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|C.i(k);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^C.i(k);return new d(I,this.h^C.h)};function ot(C){const w=C.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(I,C.h)}function Le(C,w){const I=w>>5;w%=32;const k=C.g.length-I,N=[];for(let V=0;V<k;V++)N[V]=w>0?C.i(V+I)>>>w|C.i(V+I+1)<<32-w:C.i(V+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,v1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,br=d}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,Do,T1,Hc,lm,b1,A1,S1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,H){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[L].apply(b,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=L[te]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function me(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,v){const b=de.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var de=new se(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Le=!1,C=new fe,w=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ee(v)}var m=de;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(tt,N),tt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=Re(u,m,b,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,H,!!b,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,b){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Nt={};function gt(u,m,v,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)gt(u,m[H],v,b,L);return null}return v=Mr(v),u&&u[St]?u.J(m,v,y(b)?!!b.capture:!1,L):Yi(u,m,v,!1,b,L)}function Yi(u,m,v,b,L,H){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let Ce=Ji(u);if(Ce||(u[Me]=Ce=new re(u)),v=Ce.add(m,v,b,te,H),v.proxy)return v;if(b=Xi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)V||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xi(){function u(v){return m.call(u.src,u.listener,v)}const m=$i;return u}function Os(u,m,v,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Os(u,m[H],v,b,L);else b=y(b)?!!b.capture:!!b,v=Mr(v),u&&u[St]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Re(m,v,b,L),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,b,L)),(v=u>-1?m[u]:null)&&Ms(v))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])ve(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Dn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Ji(m))?(ve(v,u),v.h==0&&(v.src=null,m[Me]=null)):ue(u)}}}function Dn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function $i(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ms(u),u=v.call(b,m)}return u}function Ji(u){return u=u[Me],u instanceof re?u:null}var Zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(u){return typeof u=="function"?u:(u[Zi]||(u[Zi]=function(m){return u.handleEvent(m)}),u[Zi])}function xt(){k.call(this),this.i=new re(this),this.M=this,this.G=null}S(xt,k),xt.prototype[St]=!0,xt.prototype.removeEventListener=function(u,m,v,b){Os(this,u,m,v,b)};function Dt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),ie(m,L)}L=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],L=Ei(H,b,!0,m)&&L;if(H=m.g=u,L=Ei(H,b,!0,m)&&L,L=Ei(H,b,!1,m)&&L,v)for(te=0;te<v.length;te++)H=m.g=v[te],L=Ei(H,b,!1,m)&&L}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ue(v[b]);delete u.g[m],u.h--}}this.G=null},xt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},xt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Ei(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Ce=te.listener,Mt=te.ha||te.src;te.fa&&ve(u.i,te),L=Ce.call(Mt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Nl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ya(u){u.g=Nl(()=>{u.g=null,u.i&&(u.i=!1,ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ot extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){k.call(this),this.h=u,this.g={}}S(Wi,k);var Vr=[];function kr(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ms(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),kr(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=d.JSON.stringify,_a=d.JSON.parse,Tn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function es(){}function Ur(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){N.call(this,"d")}S(Yt,N);function B(){N.call(this,"c")}S(B,N);var X={},Ee=null;function pe(){return Ee=Ee||new xt}X.Ia="serverreachability";function dt(u){N.call(this,X.Ia,u)}S(dt,N);function Fe(u){const m=pe();Dt(m,new dt(m))}X.STAT_EVENT="statevent";function De(u,m){N.call(this,X.STAT_EVENT,u),this.stat=m}S(De,N);function je(u){const m=pe();Dt(m,new De(m,u))}X.Ja="timingevent";function Qe(u,m){N.call(this,X.Ja,u),this.size=m}S(Qe,N);function be(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function _t(){this.g=!0}_t.prototype.ua=function(){this.g=!1};function Lt(u,m,v,b,L,H){u.info(function(){if(u.g)if(H){var te="",Ce=H.split("&");for(let We=0;We<Ce.length;We++){var Mt=Ce[We].split("=");if(Mt.length>1){const bt=Mt[0];Mt=Mt[1];const Yn=bt.split("_");te=Yn.length>=2&&Yn[1]=="type"?te+(bt+"="+Mt+"&"):te+(bt+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function nt(u,m,v,b,L,H,te){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+te})}function yt(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vs(u,v)+(b?" "+b:"")})}function yn(u,m){u.info(function(){return"TIMEOUT: "+m})}_t.prototype.info=function(){};function Vs(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<b.length;te++)b[te]=""}}}}return Ti(H)}catch{return m}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ts;function Se(){}S(Se,es),Se.prototype.g=function(){return new XMLHttpRequest},ts=new Se;function ye(u){return encodeURIComponent(String(u))}function ns(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var jt={},Zt={};function bi(u,m,v){u.M=1,u.A=Lr(zt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ai(u),u.B=zt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new oi,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ot(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Vr[0]=L.toString()),L=Vr);for(let H=0;H<L.length;H++){const te=gt(v,L[H],b||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Fe(),Lt(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=hi(this.g),Mt=this.g.ya(),We=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ce!=4||Mt==7||(Mt==8||We<=0?Fe(3):Fe(2)),Si(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,nt(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var H=b;break t}}H=null}if(u=H)yt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,je(12),Mn(this),Fn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=fu(this,v),bt==Zt){Ce==4&&(this.m=4,je(14),u=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==jt){this.m=4,je(15),yt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yt(this.i,this.l,bt,null),wi(this,bt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,je(16),u=!1),this.o=this.o&&u,!u)yt(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(te),te.P=!0,je(11))}}else yt(this.i,this.l,v,null),wi(this,v);Ce==4&&Mn(this),this.o&&!this.K&&(Ce==4?Tu(this.j,this):(this.o=!1,Ai(this)))}else ss(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Mn(this),Fn(this)}}}catch{}};function kh(u){if(!hu(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const b=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Zt:(v=Number(m.substring(v,b)),isNaN(v)?jt:(b+=1,b+v>m.length?Zt:(m=m.slice(b,b+v),u.C=b+v,m)))}li.prototype.cancel=function(){this.K=!0,Mn(this)};function Ai(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=be(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yn(this.i,this.B),this.M!=2&&(Fe(),je(17)),Mn(this),this.m=2,Fn(this)):Ea(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Tu(u.j,u)}function Mn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,kr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),Hs(v);else break e;Gr(v),je(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=be(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Ia(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const bt=We[0];if(!(bt<=v.K))if(v.K=bt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Yn=We[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Vi=We[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const fi=We[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const di=u.g;if(di){const Fr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=b.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ml(H,H.h),H.h=null))}if(b.G){const Ca=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,rt(b.J,b.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var te=u;if(b.na=Su(b,b.L?b.ba:null,b.W),te.L){Vl(b.h,te);var Ce=te,Mt=b.O;Mt&&(Ce.H=Mt),Ce.D&&(Si(Ce),Ai(Ce)),b.g=te}else vu(b);v.i.length>0&&Oi(v)}else We[0]!="stop"&&We[0]!="close"||Mi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Mi(v,7):ql(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Fe(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,H=null;b>=0?(L=u[v].substring(0,b),H=u[v].substring(b+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,Ul(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),ks(this,m[4]),this.h=Ii(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,ba,!0),"@"),u.push(ye(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?Ll:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,pu)),u.join("")},Vn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?Wt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let te=0;te<L.length;){const Ce=L[te++];Ce=="."?b&&te==L.length&&H.push(""):Ce==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&te==L.length&&H.push("")):(H.push(Ce),b=!0)}b=H.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Ul(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Vn(u)}function Wt(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof Ls?(u.i=m,Sa(u.i,u.l)):(v||(m=jr(m,Us)),u.i=new Ls(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function Lr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,mu=/[#\?:]/g,Ll=/[#\?]/g,Us=/[#\?@]/g,pu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ls.prototype,r.add=function(u,m){An(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){An(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return An(u),m=js(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Pl(u,m){An(u);let v=[];if(typeof m=="string")jl(u,m)&&(v=v.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return An(this),this.i=null,u=js(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(js(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=ye(v);v=Pl(this,v);for(let H=0;H<v.length;H++){let te=L;v[H]!==""&&(te+="="+ye(v[H])),u.push(te)}}return this.i=u.join("&")};function yu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(gu(this,b),Aa(this,L,v))},u)),u.j=m}function ui(u,m){const v=new _t;if(d.Image){const b=new Image;b.onload=A(Qn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Qn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Qn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Qn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function zl(u,m){const v=new _t,b=new AbortController,L=setTimeout(()=>{b.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ps(){this.g=new Tn}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,es),Ci.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){xt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Pr,xt),r=Pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ci(this),this.readyState==3&&wa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},r.Na=function(u){this.g&&(this.response=u,zs(this))},r.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ve(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function zr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Kn(v),typeof u=="string"?v!=null&&ye(v):rt(u,m,v))}function ut(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,xt);var Ni=/^https?$/i,Bl=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ts.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Br(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Br(this,H)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),is(u)}function Hl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),is(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},r.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let te=String(u.D).match(du)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),b=!Ni.test(te?te.toLowerCase():"")}v=b}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Hl(u)}}finally{is(u)}}}}function is(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ns(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Ze(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new _t,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Bs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){je(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),Oi(this)};function ql(u){if(Ra(u),u.I==3){var m=u.V++,v=zt(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),qr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Lr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Au(u)}function Hs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Ra(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||w(),Le||(ot(),Le=!0),C.add(m,u),u.D=0}}function xa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=be(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new li(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,L,m),v=zt(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),qr(this,v),H&&(this.R?m="headers="+ye(Kn(H))+"&"+m:this.u&&zr(v,this.u,H)),Ml(this.h,L),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),L.U=!0,bi(L,v,null)):bi(L,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const b=zt(u.J);rt(b,"SID",u.M),rt(b,"RID",v),rt(b,"AID",u.K),qr(u,b),u.u&&u.o&&zr(b,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),bi(v,b,m)}function qr(u,m){u.H&&Ve(u.H,function(v,b){rt(m,b,v)}),u.l&&Ve({},function(v,b){rt(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const Mt=["count="+v];Ce==-1?v>0?(Ce=L[0].g,Mt.push("ofs="+Ce)):Ce=0:Mt.push("ofs="+Ce);let We=!0;for(let bt=0;bt<v;bt++){var H=L[bt].g;const Yn=L[bt].map;if(H-=Ce,H<0)Ce=Math.max(0,L[bt].g-100),We=!1;else try{H="req"+H+"_"||"";try{var te=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Vi,fi]of te){let di=fi;y(fi)&&(di=Ti(fi)),Mt.push(H+Vi+"="+encodeURIComponent(di))}}catch(Vi){throw Mt.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{b&&b(Yn)}}if(We){te=Mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||w(),Le||(ot(),Le=!0),C.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=be(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=be(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Hs(this),Eu(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(zt(m)),v.u=null,v.R=!0,va(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Hs(this),Gr(this),je(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){Ia(u),Fl(u),u.g=null;var b=2}else if(xi(u.h,m))v=m.G,Vl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=pe(),Dt(b,new Qe(b,v)),Oi(u)}else vu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&xa(u,m)||b==2&&Gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(b,"https"),Lr(b),L?ui(b.toString(),v):zl(b.toString(),v)}else je(2);u.I=0,u.l&&u.l.pa(m),Au(u),Ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof Vn?zt(v):new Vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ks(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new Vn(null);b&&Wt(H,b),m&&(H.g=m),L&&ks(H,L),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&rt(b,v,m),rt(b,"VER",u.ka),qr(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ci({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){xt.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new rs(this)}S(_n,xt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){ql(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ti(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Oi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,_n.Z.N.call(this)};function xu(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,Yt);function Iu(){B.call(this),this.status=1}S(Iu,B);function rs(u){this.g=u}S(rs,Ru),rs.prototype.ra=function(){Dt(this.g,"a")},rs.prototype.qa=function(u){Dt(this.g,new xu(u))},rs.prototype.pa=function(u){Dt(this.g,new Iu)},rs.prototype.oa=function(){Dt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,S1=function(){return new qs},A1=function(){return pe()},b1=X,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Hc=ai,nn.COMPLETE="complete",T1=nn,Ur.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Do=Ur,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,E1=ut}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",w_="4.9.3";let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Rl="12.7.0";const fa=new Cm("@firebase/firestore");function rl(){return fa.logLevel}function ae(r,...e){if(fa.logLevel<=Be.DEBUG){const i=e.map(zm);fa.debug(`Firestore (${Rl}): ${r}`,...i)}}function Cs(r,...e){if(fa.logLevel<=Be.ERROR){const i=e.map(zm);fa.error(`Firestore (${Rl}): ${r}`,...i)}}function gl(r,...e){if(fa.logLevel<=Be.WARN){const i=e.map(zm);fa.warn(`Firestore (${Rl}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Te(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,w1(r,a,i)}function w1(r,e,i){let a=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Cs(a),new Error(a)}function it(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||w1(e,o,a)}function Ie(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class Nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Dw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class Ow{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ow(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=kw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?He(o,c):qd(o)?1:-1}return He(r.length,e.length)}const Uw=55296,Lw=57343;function qd(r){const e=r.charCodeAt(0);return e>=Uw&&e<=Lw}function yl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const x_="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class wt extends Pi{construct(e,i,a){return new wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new wt(i)}static emptyPath(){return new wt([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Pi{construct(e,i,a){return new cn(e,i,a)}static isValidIdentifier(e){return jw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new cn([x_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(wt.fromString(e))}static fromName(e){return new ge(wt.fromString(e).popFirst(5))}static empty(){return new ge(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new wt(e.slice()))}}function Pw(r,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zw(r,e,i,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function I_(r){if(!ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function _i(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Qt(r,e){const i={typeString:r};return e&&(i.value=e),i}function ru(r,e){if(!x1(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}const C_=-62135596800,N_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*N_);return new Tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Qt("string",Tt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Tt(0,0))}static max(){return new we(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function Bw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new Tt(i+1,0):new Tt(i,a));return new wr(o,ge.empty(),e)}function Hw(r){return new wr(r.readTime,r.key,Qo)}class wr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new wr(we.min(),ge.empty(),Qo)}static max(){return new wr(we.max(),ge.empty(),Qo)}}function qw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(r.documentKey,e.documentKey),i!==0?i:He(r.largestBatchId,e.largestBatchId))}const Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Gw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Qw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Il(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const qm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function Kw(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const I1="";function Yw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=D_(e)),e=Xw(r.get(i),e);return D_(e)}function Xw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case I1:i+="";break;default:i+=c}}return i}function D_(r){return r+I1+""}function O_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Dr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function C1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Rt{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new Rt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new un(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new un(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Jt(cn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N1("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const $w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(r){if(it(!!r,39018),typeof r=="string"){let e=0;const i=$w.exec(r);if(it(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xr(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}const D1="server_timestamp",O1="__type__",M1="__previous_value__",V1="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[O1]?.stringValue===D1}function vh(r){const e=r.mapValue.fields[M1];return Gm(e)?vh(e):e}function Ko(r){const e=Rr(r.mapValue.fields[V1].timestampValue);return new Tt(e.seconds,e.nanos)}class Jw{constructor(e,i,a,o,c,d,y,p,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Yo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}const k1="__type__",Zw="__max__",kc={mapValue:{}},U1="__vector__",sh="value";function Ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:eR(r)?9007199254740991:Ww(r)?10:11:Te(28295,{value:r})}function Qi(r,e){if(r===e)return!0;const i=Ir(r);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ko(r).isEqual(Ko(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Rr(o.timestampValue),y=Rr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return xr(o.bytesValue).isEqual(xr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),y=Ut(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return yl(r.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(O_(d)!==O_(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Qi(d[p],y[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Xo(r,e){return(r.values||[]).find((i=>Qi(i,e)))!==void 0}function _l(r,e){if(r===e)return 0;const i=Ir(r),a=Ir(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ut(c.integerValue||c.doubleValue),p=Ut(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(r,e);case 3:return V_(r.timestampValue,e.timestampValue);case 4:return V_(Ko(r),Ko(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=xr(c),p=xr(d);return y.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const A=He(y[_],p[_]);if(A!==0)return A}return He(y.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=He(Ut(c.latitude),Ut(d.latitude));return y!==0?y:He(Ut(c.longitude),Ut(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return k_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[sh]?.arrayValue,A=p[sh]?.arrayValue,S=He(_?.values?.length||0,A?.values?.length||0);return S!==0?S:k_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let S=0;S<p.length&&S<A.length;++S){const M=om(p[S],A[S]);if(M!==0)return M;const F=_l(y[p[S]],_[A[S]]);if(F!==0)return F}return He(p.length,A.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function V_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const i=Rr(r),a=Rr(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function k_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=_l(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function vl(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return xr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ge.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function qc(r){switch(Ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Dr(a.fields,((c,d)=>{o+=c.length+qc(d)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function U_(r){return!!r&&"nullValue"in r}function L_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function Ww(r){return(r?.mapValue?.fields||{})[k1]?.stringValue===U1}function zo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Dr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zo(r.arrayValue.values[i]);return e}return{...r}}function eR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(i)}setAll(e){let i=cn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=zo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Dr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Nn(zo(this.value))}}function L1(r){const e=[];return Dr(r.fields,((i,a)=>{const o=new cn([i]);if(Gc(a)){const c=L1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class pn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new pn(e,0,we.min(),we.min(),we.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,o){return new pn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new pn(e,2,i,we.min(),we.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,we.min(),we.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function j_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=_l(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function P_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Qi(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function tR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class j1{}class $t extends j1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new iR(e,i,a):i==="array-contains"?new aR(e,a):i==="in"?new lR(e,a):i==="not-in"?new oR(e,a):i==="array-contains-any"?new uR(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new sR(e,a):new rR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_l(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(_l(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends j1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return P1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(r){return r.op==="and"}function z1(r){return nR(r)&&P1(r)}function nR(r){for(const e of r.filters)if(e instanceof Ki)return!1;return!0}function hm(r){if(r instanceof $t)return r.field.canonicalString()+r.op.toString()+vl(r.value);if(z1(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function B1(r,e){return r instanceof $t?(function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Qi(a.value,o.value)})(r,e):r instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&B1(d,o.filters[y])),!0):!1})(r,e):void Te(19439)}function H1(r){return r instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${vl(i.value)}`})(r):r instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(H1).join(" ,")+"}"})(r):"Filter"}class iR extends $t{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class sR extends $t{constructor(e,i){super(e,"in",i),this.keys=q1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rR extends $t{constructor(e,i){super(e,"not-in",i),this.keys=q1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q1(r,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class aR extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Xo(i.arrayValue,this.value)}}class lR extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xo(this.value.arrayValue,i)}}class oR extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xo(this.value.arrayValue,i)}}class uR extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Xo(this.value.arrayValue,a)))}}class cR{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function z_(r,e=null,i=[],a=[],o=null,c=null,d=null){return new cR(r,e,i,a,o,c,d)}function Qm(r){const e=Ie(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>vl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>vl(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!tR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P_(r.startAt,e.startAt)&&P_(r.endAt,e.endAt)}function fm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hR(r,e,i,a,o,c,d,y){return new Eh(r,e,i,a,o,c,d,y)}function Th(r){return new Eh(r)}function B_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fR(r){return r.collectionGroup!==null}function Bo(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Jt(cn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new ah(cn.keyField(),a))}return e.Ie}function Hi(r){const e=Ie(r);return e.Ee||(e.Ee=dR(e,Bo(r))),e.Ee}function dR(r,e){if(r.limitType==="F")return z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return z_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Km(Hi(r),Hi(e))&&r.limitType===e.limitType}function G1(r){return`${Qm(Hi(r))}|lt:${r.limitType}`}function al(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>H1(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>vl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>vl(o))).join(",")),`Target(${a})`})(Hi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,p){const _=j_(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Bo(a),o)||a.endAt&&!(function(d,y,p){const _=j_(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Bo(a),o))})(r,e)}function mR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F1(r){return(e,i)=>{let a=!1;for(const o of Bo(r)){const c=pR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function pR(r,e,i){const a=r.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?_l(p,_):Te(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const gR=new Rt(ge.comparator);function Ns(){return gR}const Q1=new Rt(ge.comparator);function Oo(...r){let e=Q1;for(const i of r)e=e.insert(i.key,i);return e}function K1(r){let e=Q1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Ho()}function Y1(){return Ho()}function Ho(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yR=new Rt(ge.comparator),_R=new Jt(ge.comparator);function qe(...r){let e=_R;for(const i of r)e=e.add(i);return e}const vR=new Jt(He);function ER(){return vR}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function X1(r){return{integerValue:""+r}}function TR(r,e){return Kw(e)?X1(e):Ym(r,e)}class Sh{constructor(){this._=void 0}}function bR(r,e,i){return r instanceof lh?(function(o,c){const d={fields:{[O1]:{stringValue:D1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gm(c)&&(c=vh(c)),c&&(d.fields[M1]=c),{mapValue:d}})(i,e):r instanceof El?J1(r,e):r instanceof $o?Z1(r,e):(function(o,c){const d=$1(o,c),y=H_(d)+H_(o.Ae);return cm(d)&&cm(o.Ae)?X1(y):Ym(o.serializer,y)})(r,e)}function AR(r,e,i){return r instanceof El?J1(r,e):r instanceof $o?Z1(r,e):i}function $1(r,e){return r instanceof oh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends Sh{}class El extends Sh{constructor(e){super(),this.elements=e}}function J1(r,e){const i=W1(e);for(const a of r.elements)i.some((o=>Qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class $o extends Sh{constructor(e){super(),this.elements=e}}function Z1(r,e){let i=W1(e);for(const a of r.elements)i=i.filter((o=>!Qi(o,a)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function H_(r){return Ut(r.integerValue||r.doubleValue)}function W1(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class SR{constructor(e,i){this.field=e,this.transform=i}}function wR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof El&&o instanceof El||a instanceof $o&&o instanceof $o?yl(a.elements,o.elements,Qi):a instanceof oh&&o instanceof oh?Qi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,e.transform)}class RR{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function eE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xm(r.key,vi.none()):new au(r.key,r.data,vi.none());{const i=r.data,a=Nn.empty();let o=new Jt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Or(r.key,a,new Gn(o.toArray()),vi.none())}}function xR(r,e,i){r instanceof au?(function(o,c,d){const y=o.value.clone(),p=G_(o.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Or?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=G_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(tE(o)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function qo(r,e,i,a){return r instanceof au?(function(c,d,y,p){if(!Fc(c.precondition,d))return y;const _=c.value.clone(),A=F_(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Or?(function(c,d,y,p){if(!Fc(c.precondition,d))return y;const _=F_(c.fieldTransforms,p,d),A=d.data;return A.setAll(tE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function IR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=$1(a.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,c))}return i||null}function q_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yl(a,o,((c,d)=>wR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function G_(r,e,i){const a=new Map;it(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,AR(d,y,i[o]))}return a}function F_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,bR(c,d,e))}return a}class Xm extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Y1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const p=eE(d,y);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((i,a)=>q_(i,a)))&&yl(this.baseMutations,e.baseMutations,((i,a)=>q_(i,a)))}}class $m{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){it(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return yR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new $m(e,i,a,o)}}class DR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ke;function MR(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function nE(r){if(r===void 0)return Cs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ft.OK:return Z.OK;case Ft.CANCELLED:return Z.CANCELLED;case Ft.UNKNOWN:return Z.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Z.INTERNAL;case Ft.UNAVAILABLE:return Z.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Z.NOT_FOUND;case Ft.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ft.ABORTED:return Z.ABORTED;case Ft.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ft.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Ke=Ft||(Ft={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function VR(){return new TextEncoder}const kR=new br([4294967295,4294967295],0);function Q_(r){const e=VR().encode(r),i=new v1;return i.update(e),new Uint8Array(i.digest())}function K_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([i,a],0),new br([o,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=br.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(br.fromNumber(a)));return o.compare(kR)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Q_(e),[a,o]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Q_(e),[a,o]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(we.min(),o,new Rt(He),Ns(),qe())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,qe(),qe(),qe())}}class Qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class iE{constructor(e,i){this.targetId=e,this.Ce=i}}class sE{constructor(e,i,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y_{constructor(){this.ve=0,this.Fe=X_(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=X_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=Uc(),this.He=Uc(),this.Ye=new Rt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new ge(c.path);this.et(i,d,pn.newNoDocument(d,we.min()))}else it(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=xr(a).toUint8Array()}catch(p){if(p instanceof N1)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Jm(d,o,c)}catch(p){return gl(p instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const p=new ge(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,pn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ye,this.je,a);return this.je=Ns(),this.Je=Uc(),this.He=Uc(),this.Ye=new Rt(He),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new Rt(ge.comparator)}function X_(){return new Rt(ge.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class zR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function BR(r,e){return uh(r,e.toTimestamp())}function qi(r){return it(!!r,49232),we.fromTimestamp((function(i){const a=Rr(i);return new Tt(a.seconds,a.nanos)})(r))}function Zm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function aE(r){const e=wt.fromString(r);return it(hE(e),10190,{key:e.toString()}),e}function gm(r,e){return Zm(r.databaseId,e.path)}function Gd(r,e){const i=aE(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ge(oE(i))}function lE(r,e){return Zm(r.databaseId,e)}function HR(r){const e=aE(r);return e.length===4?wt.emptyPath():oE(e)}function ym(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oE(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $_(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function qR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),hn.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),hn.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:nE(_.code);return new ce(A,_.message||"")})(d);i=new sE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):we.min(),y=new Nn({mapValue:{fields:a.document.fields}}),p=pn.newFoundDocument(o,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?qi(a.readTime):we.min(),d=pn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new OR(o,c),y=a.targetId;i=new iE(y,d)}}return i}function GR(r,e){let i;if(e instanceof au)i={update:$_(r,e.key,e.value)};else if(e instanceof Xm)i={delete:gm(r,e.key)};else if(e instanceof Or)i={update:$_(r,e.key,e.data),updateMask:WR(e.fieldMask)};else{if(!(e instanceof CR))return Te(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof $o)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),i}function FR(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(we.min())&&(d=qi(c)),new RR(d,o.transformResults||[])})(i,e)))):[]}function QR(r,e){return{documents:[lE(r,e.path)]}}function KR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(r,o);const c=(function(_){if(_.length!==0)return cE(Ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:ll(M.field),direction:$R(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function YR(r){let e=HR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){it(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=uE(S);return M instanceof Ki&&z1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new ah(ol(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,F=S.values||[];return new rh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new rh(F,M)})(i.endAt)),hR(e,o,d,c,y,"F",p,_)}function XR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(i){return $t.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>uE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(r):Te(30097,{filter:r})}function $R(r){return LR[r]}function JR(r){return jR[r]}function ZR(r){return PR[r]}function ll(r){return{fieldPath:r.canonicalString()}}function ol(r){return cn.fromServerFormat(r.fieldPath)}function cE(r){return r instanceof $t?(function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:JR(i.op),value:i.value}}})(r):r instanceof Ki?(function(i){const a=i.getFilters().map((o=>cE(o)));return a.length===1?a[0]:{compositeFilter:{op:ZR(i.op),filters:a}}})(r):Te(54877,{filter:r})}function WR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function hE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class _r{constructor(e,i,a,o,c=we.min(),d=we.min(),y=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ex{constructor(e){this.yt=e}}function tx(r){const e=YR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class nx{constructor(){this.Cn=new ix}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(wr.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class ix{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(wt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(wt.comparator)).toArray()}}const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(fE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const Z_="LruGarbageCollector",sx=1048576;function W_([r,e],[i,a]){const o=He(r,i);return o===0?He(e,a):o}class rx{constructor(e){this.Ir=e,this.buffer=new Jt(W_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Il(i)?ae(Z_,"Ignoring IndexedDB error during garbage collection: ",i):await xl(i)}await this.Vr(3e5)}))}}class lx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(yh.ce);const a=new rx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(J_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,p,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),rl()<=Be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function ox(r,e){return new lx(r,e)}class ux{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hx{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&qo(a.mutation,o,Gn.empty(),Tt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Ns();const d=Ho(),y=(function(){return Ho()})();return i.forEach(((p,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Or)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),qo(A.mutation,_,A.mutation.getFieldMask(),Tt.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new cx(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new Rt(((d,y)=>d-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let A=a.get(p)||Gn.empty();A=y.applyToLocalView(_,A),a.set(p,A);const S=(o.get(y.batchId)||qe()).add(p);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,A=p.value,S=Y1();A.forEach((M=>{if(!c.has(M)){const F=eE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(oa());let y=Qo,p=c;return d.next((_=>J.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{p=p.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,qe()))).next((A=>({batchId:y,changes:K1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(p=>{const _=(function(S,M){return new Eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let y=Oo();return d.forEach(((p,_)=>{const A=c.get(p);A!==void 0&&qo(A.mutation,_,Gn.empty(),Tt.now()),Ah(i,_)&&(y=y.insert(p,_))})),y}))}}class fx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:tx(o.bundledQuery),readTime:qi(o.readTime)}})(i)),J.resolve()}}class dx{constructor(){this.overlays=new Rt(ge.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new ge(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Rt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=oa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=oa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return J.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DR(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class mx{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Wm{constructor(){this.Qr=new Jt(tn.$r),this.Ur=new Jt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new tn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new wt([])),a=new tn(i,e),o=new tn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new wt([])),a=new tn(i,e),o=new tn(i,e+1);let c=qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class px{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(tn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new tn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(He);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new tn(new ge(c),0);let y=new Jt(He);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(p.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new tn(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gx{constructor(e){this.ri=e,this.docs=(function(){return new Rt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let a=Ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ns();const d=i.path,y=new ge(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||qw(Hw(A),a)<=0||(o.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new yx(this)}getSize(e){return J.resolve(this.size)}}class yx extends ux{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class _x{constructor(e){this.persistence=e,this.si=new pa((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class dE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new mx,this.referenceDelegate=e(this),this.Pi=new _x(this),this.indexManager=new nx,this.remoteDocumentCache=(function(o){return new gx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new ex(i),this.Ii=new fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new px(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new vx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class vx extends Fw{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new ep(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new pa((a=>Yw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ox(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tp(e,i.fromCache,a,o)}}class Ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:Qw(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ex;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(rl()<=Be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(rl()<=Be.DEBUG&&ae("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(rl()<=Be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(i))):J.resolve())}ys(e,i){if(B_(i))return J.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.Ds(i,y);return this.Cs(i,_,d,p.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,a,o){return B_(i)||o.isEqual(we.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(rl()<=Be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.vs(e,d,i,Bw(o,Qo)).next((y=>y)))}))}Ds(e,i){let a=new Jt(F1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return rl()<=Be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",al(i)),this.ps.getDocumentsMatchingQuery(e,i,wr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",bx=3e8;class Ax{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Rt(He),this.xs=new pa((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Sx(r,e,i,a){return new Ax(r,e,i,a)}async function mE(r,e){const i=Ie(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=qe();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function wx(r,e){const i=Ie(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,A){const S=_.batch,M=S.keys();let F=J.resolve();return M.forEach((W=>{F=F.next((()=>A.getEntry(p,W))).next((se=>{const ee=_.docVersions.get(W);it(ee!==null,48541),se.version.compareTo(ee)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function pE(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Rx(r,e){const i=Ie(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(S,F),(function(se,ee,me){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=bx?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(M,F,A)&&y.push(i.Pi.updateTargetData(c,F))}));let p=Ns(),_=qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(xx(c,d,e.documentUpdates).next((A=>{p=A.ks,_=A.qs}))),!a.isEqual(we.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=o,c)))}function xx(r,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Ns();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):ae(np,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function Ix(r,e){const i=Ie(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Cx(r,e){const i=Ie(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=Ie(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;ae(np,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ev(r,e,i){const a=Ie(r);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,A){const S=Ie(p),M=S.xs.get(A);return M!==void 0?J.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,Hi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:qe()))).next((y=>(Nx(a,mR(e),y),{documents:y,Qs:c})))))}function Nx(r,e,i){let a=r.Os.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class tv{constructor(){this.activeTargetIds=ER()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dx{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ox{Oo(e){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function vm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Fd="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:_}=new URL(y),A=Al(_);return this.Jo(e,y,p,a,A).then((S=>(ae(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw gl(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=Mx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class Ux extends Vx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((y,p)=>{const _=new E1;_.setWithCredentials(!0),_.listenOnce(T1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();ae(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Hc.TIMEOUT:ae(dn,`RPC '${e}' ${d} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const se=(function(me){const fe=me.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(fe)>=0?fe:Z.UNKNOWN})(W.status);p(new ce(se,W.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(dn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S1(),y=A1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");ae(dn,`Creating RPC '${e}' stream ${o}: ${A}`,p);const S=d.createWebChannel(A,p);this.I_(S);let M=!1,F=!1;const W=new kx({Yo:ee=>{F?ae(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(ae(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),ae(dn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),se=(ee,me,fe)=>{ee.listen(me,(de=>{try{fe(de)}catch(Je){setTimeout((()=>{throw Je}),0)}}))};return se(S,Do.EventType.OPEN,(()=>{F||(ae(dn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(S,Do.EventType.CLOSE,(()=>{F||(F=!0,ae(dn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),se(S,Do.EventType.ERROR,(ee=>{F||(F=!0,gl(dn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),se(S,Do.EventType.MESSAGE,(ee=>{if(!F){const me=ee.data[0];it(!!me,16349);const fe=me,de=fe?.error||fe[0]?.error;if(de){ae(dn,`RPC '${e}' stream ${o} received error:`,de);const Je=de.status;let ot=(function(w){const I=Ft[w];if(I!==void 0)return nE(I)})(Je),Le=de.message;ot===void 0&&(ot=Z.INTERNAL,Le="Unknown error status: "+Je+" with message "+de.message),F=!0,W.a_(new ce(ot,Le)),S.close()}else ae(dn,`RPC '${e}' stream ${o} received:`,me),W.u_(me)}})),se(y,b1.STAT_EVENT,(ee=>{ee.stat===lm.PROXY?ae(dn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&ae(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function xh(r){return new zR(r,!0)}class gE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class yE{constructor(e,i,a,o,c,d,y,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Cs(i.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lx extends yE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?qi(d.readTime):we.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=fm(p)?{documents:QR(c,p)}:{query:KR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=rE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=XR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class jx extends yE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=FR(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>GR(this.serializer,a)))};this.q_(i)}}class Px{}class zx extends Px{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,pm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class Hx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(ae(da,"Restarting streams for network reachability change."),await(async function(p){const _=Ie(p);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new Bx(a,o)}}async function Ih(r){if(ga(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function _E(r,e){const i=Ie(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ap(i)?rp(i):Cl(i).O_()&&sp(i,e))}function ip(r,e){const i=Ie(r),a=Cl(i);i.Ia.delete(e),a.O_()&&vE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function sp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cl(r).Y_(e)}function vE(r,e){r.Va.Ue(e),Cl(r).Z_(e)}function rp(r){r.Va=new UR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.Ra.ua()}function ap(r){return ga(r)&&!Cl(r).x_()&&r.Ia.size>0}function ga(r){return Ie(r).Ea.size===0}function EE(r){r.Va=void 0}async function qx(r){r.Ra.set("Online")}async function Gx(r){r.Ia.forEach(((e,i)=>{sp(r,e)}))}async function Fx(r,e){EE(r),ap(r)?(r.Ra.ha(e),rp(r)):r.Ra.set("Unknown")}async function Qx(r,e,i){if(r.Ra.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ae(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Qc?r.Va.Ze(e):e instanceof iE?r.Va.st(e):r.Va.tt(e),!i.isEqual(we.min()))try{const a=await pE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const A=c.Ia.get(p);if(!A)return;c.Ia.set(p,A.withResumeToken(hn.EMPTY_BYTE_STRING,A.snapshotVersion)),vE(c,p);const S=new _r(A.target,p,_,A.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(da,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!Il(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),i||(i=()=>pE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function TE(r,e){return e().catch((i=>hh(r,i,e)))}async function Ch(r){const e=Ie(r),i=Cr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;Kx(e);)try{const o=await Ix(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Yx(e,o)}catch(o){await hh(e,o)}bE(e)&&AE(e)}function Kx(r){return ga(r)&&r.Ta.length<10}function Yx(r,e){r.Ta.push(e);const i=Cr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function bE(r){return ga(r)&&!Cr(r).x_()&&r.Ta.length>0}function AE(r){Cr(r).start()}async function Xx(r){Cr(r).ra()}async function $x(r){const e=Cr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Jx(r,e,i){const a=r.Ta.shift(),o=$m.from(a,e,i);await TE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function Zx(r,e){e&&Cr(r).X_&&await(async function(a,o){if((function(d){return MR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Cr(a).B_(),await TE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,e),bE(r)&&AE(r)}async function rv(r,e){const i=Ie(r);i.asyncQueue.verifyOperationInProgress(),ae(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function Wx(r,e){const i=Ie(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Cl(r){return r.ma||(r.ma=(function(i,a,o){const c=Ie(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qx.bind(null,r),t_:Gx.bind(null,r),r_:Fx.bind(null,r),H_:Qx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ap(r)?rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),EE(r))}))),r.ma}function Cr(r){return r.fa||(r.fa=(function(i,a,o){const c=Ie(i);return c.sa(),new jx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xx.bind(null,r),r_:Zx.bind(null,r),ta:$x.bind(null,r),na:Jx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class lp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new lp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(Cs("AsyncQueue",`${e}: ${r}`),Il(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class av{constructor(){this.ga=new Rt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new bl(e,i,dl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tI{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ie(i),c=o.queries;o.queries=lv(),c.forEach(((d,y)=>{for(const p of y.Sa)p.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function lv(){return new pa((r=>G1(r)),bh)}async function SE(r,e){const i=Ie(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new eI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=op(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function wE(r,e){const i=Ie(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nI(r,e){const i=Ie(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&up(i)}function iI(r,e,i){const a=Ie(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function up(r){r.Ca.forEach((e=>{e.next()}))}var Em,ov;(ov=Em||(Em={})).Ma="default",ov.Cache="cache";class RE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class xE{constructor(e){this.key=e}}class IE{constructor(e){this.key=e}}class sI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=F1(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new av,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),F=Ah(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?W!==se&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(p&&this.eu(F,p)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(p||_)&&(y=!0)),ee&&(F?(d=d.add(F),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(F,W){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return se(F)-se(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new IE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new xE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class rI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class aI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((y=>G1(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(ge.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,e,i=!0){const a=VE(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await CE(a,e,i,!0),o}async function uI(r,e){const i=VE(r);await CE(i,e,!0,!1)}async function CE(r,e,i,a){const o=await Cx(r.localStore,Hi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await cI(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&_E(r.remoteStore,o),y}async function cI(r,e,i,a,o){r.pu=(S,M,F)=>(async function(se,ee,me,fe){let de=ee.view.ru(me);de.Cs&&(de=await ev(se.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,de))));const Je=fe&&fe.targetChanges.get(ee.targetId),ot=fe&&fe.targetMismatches.get(ee.targetId)!=null,Le=ee.view.applyChanges(de,se.isPrimaryClient,Je,ot);return cv(se,ee.targetId,Le.au),Le.snapshot})(r,S,M,F);const c=await ev(r.localStore,e,!0),d=new sI(e,c.Qs),y=d.ru(c.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,p);cv(r,i,_.au);const A=new rI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function hI(r,e,i){const a=Ie(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ip(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(xl)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function fI(r,e){const i=Ie(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ip(i.remoteStore,a.targetId))}async function dI(r,e,i){const a=EI(r);try{const o=await(function(d,y){const p=Ie(d),_=Tt.now(),A=y.reduce(((F,W)=>F.add(W.key)),qe());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Ns(),se=qe();return p.Ns.getEntries(F,A).next((ee=>{W=ee,W.forEach(((me,fe)=>{fe.isValidDocument()||(se=se.add(me))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,W))).next((ee=>{S=ee;const me=[];for(const fe of y){const de=IR(fe,S.get(fe.key).overlayedDocument);de!=null&&me.push(new Or(fe.key,de,L1(de.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,me,y)})).next((ee=>{M=ee;const me=ee.applyToLocalDocumentSet(S,se);return p.documentOverlayCache.saveOverlays(F,ee.batchId,me)}))})).then((()=>({batchId:M.batchId,changes:K1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new Rt(He)),_=_.insert(y,p),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await uu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=op(o,"Failed to persist write");i.reject(c)}}async function NE(r,e){const i=Ie(r);try{const a=await Rx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?it(d.hu,14607):o.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await xl(a)}}function uv(r,e,i){const a=Ie(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const p=Ie(d);p.onlineState=y;let _=!1;p.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&up(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mI(r,e,i){const a=Ie(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Rt(ge.comparator);d=d.insert(c,pn.newNoDocument(c,we.min()));const y=qe().add(c),p=new Rh(we.min(),new Map,new Rt(He),d,y);await NE(a,p),a.du=a.du.remove(c),a.Au.delete(e),hp(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(xl)}async function pI(r,e){const i=Ie(r),a=e.batch.batchId;try{const o=await wx(i.localStore,e);OE(i,a,null),DE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await xl(o)}}async function gI(r,e,i){const a=Ie(r);try{const o=await(function(d,y){const p=Ie(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>(it(S!==null,37113),A=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>p.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);OE(a,e,i),DE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await xl(o)}}function DE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function OE(r,e,i){const a=Ie(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||ME(r,a)}))}function ME(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ip(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),hp(r))}function cv(r,e,i){for(const a of i)a instanceof xE?(r.Ru.addReference(a.key,e),yI(r,a)):a instanceof IE?(ae(cp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||ME(r,a.key)):Te(19791,{wu:a})}function yI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(cp,"New document in limbo: "+i),r.Eu.add(a),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ge(wt.fromString(e)),a=r.fu.next();r.Au.set(a,new aI(i)),r.du=r.du.insert(i,a),_E(r.remoteStore,new _r(Hi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function uu(r,e,i){const a=Ie(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=tp.As(p.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(p,_){const A=Ie(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(M=>J.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>J.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!Il(S))throw S;ae(np,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),W=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,se)}}})(a.localStore,c))}async function _I(r,e){const i=Ie(r);if(!i.currentUser.isEqual(e)){ae(cp,"User change. New user:",e.toKey());const a=await mE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function vI(r,e){const i=Ie(r),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function VE(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function EI(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Sx(this.persistence,new Tx,e.initialUser,this.serializer)}Cu(e){return new dE(ep.mi,this.serializer)}Du(e){return new Dx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class TI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ax(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new dE((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await Wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tI})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=(function(c){return new Ux(c)})(e.databaseInfo);return(function(c,d,y,p){return new zx(c,d,y,p)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new Hx(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new Ox})())}createSyncEngine(e,i){return(function(o,c,d,y,p,_,A){const S=new lI(o,c,d,y,p,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);ae(da,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class bI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=op(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Nr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await AI(r);ae(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>rv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>rv(e.remoteStore,o))),r._onlineComponents=e}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Nr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;gl("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new fh)}}else ae(Nr,"Using default OfflineComponentProvider"),await Kd(r,new TI(void 0));return r._offlineComponents}async function UE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Nr,"Using user provided OnlineComponentProvider"),await hv(r,r._uninitializedComponentsProvider._online)):(ae(Nr,"Using default OnlineComponentProvider"),await hv(r,new bm))),r._onlineComponents}function SI(r){return UE(r).then((e=>e.syncEngine))}async function Am(r){const e=await UE(r),i=e.eventManager;return i.onListen=oI.bind(null,e.syncEngine),i.onUnlisten=hI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fI.bind(null,e.syncEngine),i}function wI(r,e,i={}){const a=new Ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const A=new kE({next:M=>{A.Nu(),d.enqueueAndForget((()=>wE(c,S)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&p.source==="server"?_.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new RE(Th(y.path),A,{includeMetadataChanges:!0,qa:!0});return SE(c,S)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function LE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const fv=new Map;const jE="firestore.googleapis.com",dv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=dv}else this.host=e.host,this.ssl=e.ssl??dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sx)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Cw;switch(a.type){case"firstParty":return new Mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function RI(r,e,i,a={}){r=_i(r,fp);const o=Al(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(Vv(`https://${y}`),kv("Firestore",!0)),c.host!==jE&&c.host!==y&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:o,emulatorOptions:a};if(!Sr(p,d)&&(r._setSettings(p),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=mn.MOCK_USER;else{_=Zb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(S)}r._authCredentials=new Nw(new R1(_,A))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Kt._jsonSchema))return new Kt(e,a||null,new ge(wt.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Jo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ge(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Hn(r,e,...i){if(r=En(r),arguments.length===1&&(e=Bm.newId()),Pw("doc","path",e),r instanceof fp){const a=wt.fromString(e,...i);return I_(a),new Kt(r,null,new ge(a))}{if(!(r instanceof Kt||r instanceof Jo))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(wt.fromString(e,...i));return I_(a),new Kt(r.firestore,r instanceof Jo?r.converter:null,new ge(a))}}const pv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ae(pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=lp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function yv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function _v(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ma extends fp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function xI(r,e){const i=typeof r=="object"?r:Pv(),a=typeof r=="string"?r:ih,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=$b("firestore");c&&RI(o,...c)}return o}function dp(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||II(r),r._firestoreClient}function II(r){const e=r._freezeSettings(),i=(function(o,c,d,y){return new Jw(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,LE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(hn.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Qt("string",ri._jsonSchemaVersion),bytes:Qt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Qt("string",Gi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Qt("string",Fi._jsonSchemaVersion),vectorValues:Qt("object")};const CI=/^__.*__$/;class NI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class PE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function zE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zE(this.Ac)&&CI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BE(r){const e=r._freezeSettings(),i=xh(r._databaseId);return new DI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function OI(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);pp("Data must be an object, but it was:",d,a);const y=HE(a,d);let p,_;if(c.merge)p=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Sm(e,S,i);if(!d.contains(M))throw new ce(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GE(A,M)||A.push(M)}p=new Gn(A),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new NI(new Nn(y),p,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function MI(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=MI(this,e,!0),a=this.vc.map((c=>cu(c,i))),o=new El(a);return new SR(e.path,o)}isEqual(e){return e instanceof mp&&Sr(this.vc,e.vc)}}function VI(r,e,i,a){const o=r.Cc(1,e,i);pp("Data must be an object, but it was:",o,a);const c=[],d=Nn.empty();Dr(a,((p,_)=>{const A=gp(e,p,i);_=En(_);const S=o.yc(A);if(_ instanceof Vh)c.push(A);else{const M=cu(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const y=new Gn(c);return new PE(d,y,o.fieldTransforms)}function kI(r,e,i,a,o,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],p=[o];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),p.push(c[M+1]);const _=[],A=Nn.empty();for(let M=y.length-1;M>=0;--M)if(!GE(_,y[M])){const F=y[M];let W=p[M];W=En(W);const se=d.yc(F);if(W instanceof Vh)_.push(F);else{const ee=cu(W,se);ee!=null&&(_.push(F),A.set(F,ee))}}const S=new Gn(_);return new PE(A,S,d.fieldTransforms)}function cu(r,e){if(qE(r=En(r)))return pp("Unsupported field value:",e,r),HE(r,e);if(r instanceof Oh)return(function(a,o){if(!zE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let p=cu(y,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Tt.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof Tt){const c=new Tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:rE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Fi)return(function(d,y){return{mapValue:{fields:{[k1]:{stringValue:U1},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Hm(a)}`)})(r,e)}function HE(r,e){const i={};return C1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(r,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function qE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tt||r instanceof Gi||r instanceof ri||r instanceof Kt||r instanceof Oh||r instanceof Fi)}function pp(r,e,i){if(!qE(i)||!x1(i)){const a=Hm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=En(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return gp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const UI=new RegExp("[~\\*/\\[\\]]");function gp(r,e,i){if(e.search(UI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,y+r+p)}function GE(r,e){return r.some((i=>i.isEqual(e)))}class FE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(QE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends FE{data(){return super.data()}}function QE(r,e){return typeof e=="string"?gp(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function jI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Dr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new Fi(i)}convertGeoPoint(e){return new Gi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Tt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=wt.fromString(e);it(hE(a),9688,{name:e});const o=new Yo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||Cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends FE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(QE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Qt("string",ua._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Kc extends ua{data(e={}){return super.data(e)}}class ml{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const p=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Kc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:BI(y.type),doc:p,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function HI(r){r=_i(r,Kt);const e=_i(r.firestore,ma);return wI(dp(e),r._key).then((i=>YE(e,r,i)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Qt("string",ml._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class KE extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function qI(r,e,i){r=_i(r,Kt);const a=_i(r.firestore,ma),o=zI(r.converter,e);return yp(a,[OI(BE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,vi.none())])}function Ts(r,e,i,...a){r=_i(r,Kt);const o=_i(r.firestore,ma),c=BE(o);let d;return d=typeof(e=En(e))=="string"||e instanceof Dh?kI(c,"updateDoc",r._key,e,i,a):VI(c,"updateDoc",r._key,e),yp(o,[d.toMutation(r._key,vi.exists(!0))])}function GI(r){return yp(_i(r.firestore,ma),[new Xm(r._key,vi.none())])}function vv(r,...e){r=En(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,d,y;if(r instanceof Kt)d=_i(r.firestore,ma),y=Th(r._key.path),c={next:p=>{e[a]&&e[a](YE(d,r,p))},error:e[a+1],complete:e[a+2]};else{const p=_i(r,Nh);d=_i(p.firestore,ma),y=p._query;const _=new KE(d);c={next:A=>{e[a]&&e[a](new ml(d,_,p,A))},error:e[a+1],complete:e[a+2]},jI(r._query)}return(function(_,A,S,M){const F=new kE(M),W=new RE(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>SE(await Am(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>wE(await Am(_),W)))}})(dp(d),y,o,c)}function yp(r,e){return(function(a,o){const c=new Ar;return a.asyncQueue.enqueueAndForget((async()=>dI(await SI(a),o,c))),c.promise})(dp(r),e)}function YE(r,e,i){const a=i.docs.get(e._key),o=new KE(r);return new ua(r,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function Yd(...r){return new mp("arrayUnion",r)}(function(e,i=!0){(function(o){Rl=o})(Sl),pl(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ma(new Dw(a.getProvider("auth-internal")),new Vw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Tr(S_,w_,e),Tr(S_,w_,"esm2020")})();const FI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Ev=r=>{const e=QI(r);return e.charAt(0).toUpperCase()+e.slice(1)},XE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),KI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=Ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},p)=>Ye.createElement("svg",{ref:p,...YI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:XE("lucide",o),...!c&&!KI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Ye.createElement(_,A)),...Array.isArray(c)?c:[c]]));const st=(r,e)=>{const i=Ye.forwardRef(({className:a,...o},c)=>Ye.createElement(XI,{ref:c,iconNode:e,className:XE(`lucide-${FI(Ev(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Ev(r),i};const $I=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],JI=st("arrow-right-left",$I);const ZI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=st("book-open",ZI);const WI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],eC=st("briefcase",WI);const tC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nC=st("circle-check-big",tC);const iC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tv=st("circle-play",iC);const sC=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],dr=st("coins",sC);const rC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$E=st("copy",rC);const aC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xd=st("crown",aC);const lC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],oC=st("dice-5",lC);const uC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rm=st("eye",uC);const cC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],hC=st("gavel",cC);const fC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],_p=st("ghost",fC);const dC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],mC=st("hammer",dC);const pC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],gC=st("hand",pC);const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_C=st("history",yC);const vC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],EC=st("hourglass",vC);const TC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bv=st("loader-circle",TC);const bC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xm=st("log-out",bC);const AC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],SC=st("scale",AC);const wC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JE=st("search",wC);const RC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xC=st("shield",RC);const IC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],CC=st("skull",IC);const NC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Av=st("sparkles",NC);const DC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ko=st("trash-2",DC);const OC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ZE=st("triangle-alert",OC);const MC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],WE=st("trophy",MC);const VC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eT=st("user",VC);const kC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UC=st("users",kC);const LC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uo=st("x",LC);const jC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PC=st("zap",jC),zC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},tT=jv(zC),$d=xw(tT),qn=xI(tT),ii=typeof __app_id<"u"?__app_id:"guild-shadows",BC="15",Sv=3,pt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:dr,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:gC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:2,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:oC,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:CC,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:hC,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:2,desc:"Copy effect of last Action card.",icon:$E,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:eC,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:JE,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:4,desc:"Immune to theft & assassination.",icon:xC,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:SC,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:ZE,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},HC=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],wv=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Rv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(_p,{size:12,className:"text-purple-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),qC=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(_p,{size:22,className:"text-purple-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Jd=r=>r<=2?20:r===3?18:15,Zd=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),GC=({type:r,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:T.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&T.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:T.jsx(a,{size:48,className:"animate-bounce"})}),T.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&T.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),FC=({event:r,onClose:e})=>{if(Ye.useEffect(()=>{if(r){const d=setTimeout(e,4e3);return()=>clearTimeout(d)}},[r,e]),!r)return null;const i=r.type==="SCOUT",a=r.type==="DISCARD",o=r.type==="PLAY",c=r.cardId?pt[r.cardId]:null;return T.jsx("div",{className:"fixed inset-0 z-[180] flex items-center justify-center pointer-events-none px-4",children:T.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl border-2 border-purple-500/50 shadow-[0_0_50px_rgba(168,85,247,0.4)] rounded-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 pointer-events-auto",children:[T.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-purple-900 to-gray-900 p-3 text-center border-b border-purple-500/30",children:[T.jsxs("h3",{className:"font-bold text-lg text-white tracking-widest uppercase flex items-center justify-center gap-2",children:[T.jsx(eT,{size:18,className:"text-purple-400"}),r.actorName]}),T.jsx("div",{className:"text-[10px] text-purple-200 uppercase tracking-widest opacity-80",children:i?"Scouting Mission":a?"Forced Discard":"Played Action"})]}),T.jsxs("div",{className:"p-6 flex flex-col items-center",children:[T.jsx("div",{className:"mb-6 scale-110",children:o&&c?T.jsx(Lo,{cardId:r.cardId,small:!0,disabled:!0,showCost:!1}):T.jsx("div",{className:"w-20 h-28 bg-gray-800 rounded-xl border-2 border-gray-600 flex items-center justify-center shadow-inner",children:i?T.jsx(Rm,{size:32,className:"text-blue-400"}):T.jsx(ko,{size:32,className:"text-red-400"})})}),T.jsxs("div",{className:"w-full space-y-2",children:[r.outcomes.map((d,y)=>T.jsx("div",{className:"bg-black/40 rounded p-2 text-center text-sm border border-gray-700/50 text-gray-200 shadow-sm font-medium",children:d},y)),r.outcomes.length===0&&T.jsx("div",{className:"text-center text-gray-500 text-xs italic",children:"No visible effect."})]})]})]})})},Lo=({cardId:r,onClick:e,disabled:i,highlight:a,small:o,tiny:c,turnsLeft:d,showCost:y=!0})=>{const p=pt[r];if(!p)return T.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return T.jsxs("div",{className:`relative w-6 h-8 rounded flex items-center justify-center ${p.bg} border ${p.border} shadow-sm`,title:p.name,children:[T.jsx(p.icon,{className:`${p.color} w-3.5 h-3.5`}),d!==void 0&&T.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-black text-[9px] text-white w-4 h-4 rounded-full flex items-center justify-center border border-gray-500 z-10",children:d})]});const _=o?"w-20 h-28 p-1.5":"w-24 h-40 md:w-32 md:h-48 p-2",A=o?20:28,S=o?"text-[8px]":"text-[9px] md:text-[10px]",M=o?"text-[10px]":"text-[11px] md:text-xs";return T.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible shrink-0
        ${_} ${p.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":p.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[T.jsxs("div",{className:"w-full flex justify-between items-center font-bold text-gray-300",children:[T.jsx("span",{className:`${o?"text-[8px]":"text-[10px]"} ${p.type==="AGENT"?"text-blue-300":"text-amber-200"}`,children:p.type==="AGENT"?"AGT":"ACT"}),y&&p.cost>0&&T.jsxs("span",{className:"bg-black/50 px-1.5 rounded text-yellow-400 flex items-center gap-0.5 text-[10px]",children:[p.cost," ",T.jsx(dr,{size:8})]})]}),T.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[T.jsx(p.icon,{className:`${p.color}`,size:A}),d!==void 0&&T.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[T.jsx(EC,{size:8,className:"text-gray-400"}),T.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),T.jsxs("div",{className:"w-full text-center",children:[T.jsx("div",{className:`font-bold text-white leading-tight mb-1 line-clamp-1 ${M}`,children:p.name}),T.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1 w-full
            ${S} h-auto p-1 whitespace-normal text-center
          `,children:p.desc})]})]})},xv=({onClose:r})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:T.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[T.jsx(wm,{size:18})," Guild Archives"]}),T.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:T.jsx(Uo,{size:20})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[T.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[T.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[T.jsx(WE,{size:18,className:"text-yellow-400"})," Victory Condition"]}),T.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),T.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"4 Players:"})," 15 Gold"]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[T.jsx(PC,{size:18})," Actions"," ",T.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[pt.URCHIN,pt.THIEF,pt.HEIST,pt.ASSASSIN,pt.BLACKMAIL,pt.DOPPELGANGER].map(e=>T.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[T.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:T.jsx(e.icon,{size:16})}),T.jsxs("div",{children:[T.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),T.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[T.jsx(UC,{size:18})," Agents"," ",T.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[pt.MERCHANT,pt.LOOKOUT,pt.BODYGUARD,pt.POLITICIAN,pt.SABOTEUR].map(e=>T.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[T.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:T.jsx(e.icon,{size:16})}),T.jsxs("div",{children:[T.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),T.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),T.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[T.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),T.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",T.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",T.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),QC=({report:r})=>r?T.jsxs("div",{className:"w-full bg-green-950/40 border-b border-green-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[T.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[T.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-300",children:r.breakdown.map((e,i)=>T.jsxs("span",{className:"flex gap-1 items-center",children:[T.jsxs("span",{className:"text-gray-400",children:[e.source,":"]}),T.jsxs("span",{className:"text-green-300",children:["+",e.amount]})]},i))}),r.expired.length>0&&T.jsxs("div",{className:"text-[9px] text-red-300 mt-0.5 flex gap-1 items-center",children:[T.jsx(xm,{size:8})," Lost:"," ",r.expired.map(e=>pt[e]?.name).join(", ")]})]}),T.jsx("div",{className:"pl-3 border-l border-green-500/20 flex flex-col items-center justify-center text-green-400 shrink-0",children:T.jsxs("span",{className:"text-sm font-black",children:["+",r.income]})})]}):null,KC=({report:r})=>r?T.jsxs("div",{className:"w-full bg-indigo-950/40 border-b border-indigo-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[T.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[T.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase",children:r.actionName}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-[9px] text-gray-400",children:[T.jsxs("span",{children:["Cost: ",r.cost]}),r.tax>0&&T.jsxs("span",{className:"text-red-400",children:["Tax: ",r.tax]}),r.gains.map((e,i)=>T.jsxs("span",{className:"text-green-300",children:[e.desc,": +",e.amount]},i))]})]}),T.jsx("div",{className:"pl-3 border-l border-indigo-500/20 flex flex-col items-center justify-center shrink-0",children:T.jsxs("span",{className:`text-sm font-black ${r.netChange>=0?"text-green-400":"text-red-400"}`,children:[r.netChange>0?"+":"",r.netChange]})})]}):null;function YC(){const[r,e]=Ye.useState(null),[i,a]=Ye.useState("menu"),[o,c]=Ye.useState(()=>localStorage.getItem("guildofshadows_playerName")||""),[d,y]=Ye.useState(""),[p,_]=Ye.useState(null),[A,S]=Ye.useState(""),[M,F]=Ye.useState(!1),[W,se]=Ye.useState(localStorage.getItem("guild_room_id")||""),[ee,me]=Ye.useState(!1),[fe,de]=Ye.useState(null),[Je,ot]=Ye.useState(null),[Le,C]=Ye.useState(!1),[w,I]=Ye.useState(!1),[k,N]=Ye.useState(!1),[V,R]=Ye.useState(null),[tt,St]=Ye.useState(null),[G,ne]=Ye.useState(null),[ue,Ve]=Ye.useState(null),[Ze,O]=Ye.useState(null),Y=Ye.useRef(0),[ie,re]=Ye.useState(null),[ve,Re]=Ye.useState(null);Ye.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await d2($d,__initial_auth_token):await o2($d))(),g2($d,e)),[]),Ye.useEffect(()=>{o&&localStorage.setItem("guildofshadows_playerName",o)},[o]),Ye.useEffect(()=>{if(!(!W||!r))return vv(Hn(qn,"artifacts",ii,"public","data","rooms",W),B=>{if(B.exists()){const X=B.data();if(!X.players.some(pe=>pe.id===r.uid)){se(""),a("menu"),S("You have been removed from the guild.");return}_(X),X.latestPublicEvent&&X.latestPublicEvent.id>Y.current&&(Y.current=X.latestPublicEvent.id,O(X.latestPublicEvent)),X.status==="playing"&&X.turnReport&&X.turnReport.playerId===r.uid&&!X.turnReport.seen&&(re(X.turnReport),Re(null)),X.status==="playing"&&X.eveningReport&&X.eveningReport.playerId===r.uid&&!X.eveningReport.seen&&(Re(X.eveningReport),re(null)),X.status==="lobby"?a("lobby"):(X.status==="playing"||X.status==="finished")&&a("game")}else se(""),a("menu"),S("The Guild Hall was disbanded by the host.")},B=>console.error(B))},[W,r]),Ye.useEffect(()=>{const B=vv(Hn(qn,"game_hub_settings","config"),X=>{X.exists()&&X.data()[BC]?.maintenance?me(!0):me(!1)});return()=>B()},[]);const Me=(B,X,Ee,pe)=>{ot({type:B,message:X,subtext:Ee,icon:pe}),setTimeout(()=>ot(null),2500)},Nt=async()=>{if(!o)return S("Enter Alias");F(!0);try{const B=Math.random().toString(36).substring(2,7).toUpperCase();await qI(Hn(qn,"artifacts",ii,"public","data","rooms",B),{roomId:B,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null}),se(B),localStorage.setItem("guild_room_id",B)}catch(B){console.error(B),S("Failed to create room.")}finally{F(!1)}},gt=async()=>{if(!d||!o)return S("Enter Info");F(!0);try{const B=Hn(qn,"artifacts",ii,"public","data","rooms",d),X=await HI(B);if(!X.exists())return F(!1),S("Invalid Room");const Ee=X.data();if(Ee.status!=="lobby")return F(!1),S("Game Started");if(Ee.players.length>=4)return F(!1),S("Room Full");await Ts(B,{players:[...Ee.players,{id:r.uid,name:o,gold:0,hand:[],tableau:[],ready:!1}]}),se(d),localStorage.setItem("guild_room_id",d)}catch(B){console.error(B),S("Failed to join room.")}finally{F(!1)}},Yi=async B=>{if(p.hostId!==r.uid)return;const X=p.players.filter(Ee=>Ee.id!==B);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:X})},Xi=async()=>{if(p){if(p.hostId===r.uid)await GI(Hn(qn,"artifacts",ii,"public","data","rooms",W));else{const B=p.players.filter(X=>X.id!==r.uid);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:B})}se(""),localStorage.removeItem("guild_room_id"),a("menu"),N(!1)}},Os=async()=>{if(p.hostId!==r.uid)return;const B=wv([...HC]),X=p.players.map(Ee=>({...Ee,hand:[B.pop(),B.pop()],tableau:[],gold:2,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{status:"playing",deck:B,players:X,turnIndex:0,totalTurns:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null})},Ms=async()=>{const B=p.players.map(X=>X.id===r.uid?{...X,ready:!X.ready}:X);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:B})},Dn=async()=>{if(p.hostId!==r.uid)return;const B=p.players.map(X=>({...X,hand:[],tableau:[],gold:0,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:B,latestPublicEvent:null}),N(!1)},$i=(B,X)=>{let Ee=0;return B.forEach(pe=>{if(pe.id!==X){const dt=pe.tableau.filter(Fe=>Fe.cardId==="SABOTEUR").length;Ee+=dt}}),Ee},Ji=(B,X)=>{B.forEach(Ee=>{if(Ee.id!==X){const pe=Ee.tableau.filter(dt=>dt.cardId==="POLITICIAN").length;pe>0&&(Ee.gold+=pe)}})},Zi=async(B,X,Ee,pe,dt=null,Fe=null,De=null)=>{let je=(p.turnIndex+1)%B.length,Qe=B[je];const _t=(p.totalTurns||0)+1,Lt=[],nt=[];Qe.tableau.forEach(nn=>{nn.turnsLeft-=1,nn.turnsLeft<=0?(Lt.push(nn.cardId),Ee.push(nn.cardId)):nt.push(nn)}),Qe.tableau=nt;let yt=0;const yn=[];_t>=B.length&&(yn.push({source:"Guild Stipend",amount:1}),yt+=1),Qe.tableau.forEach(nn=>{nn.cardId==="MERCHANT"&&(yn.push({source:"Silk Trader",amount:1}),yt+=1)}),Qe.gold===0&&(yn.push({source:"Pity Bonus",amount:1}),yt+=1),Qe.gold+=yt,Lt.length>0&&pe.push({text:`${Qe.name} lost ${Lt.length} agents to time.`,type:"warning",id:Date.now()}),pe.push({text:`${Qe.name} begins turn (+${yt} Gold).`,type:"neutral",id:Date.now()+1});const Vs={playerId:Qe.id,income:yt,breakdown:yn,expired:Lt,seen:!1},ai=Jd(B.length);if(Qe.gold>=ai){const nn=B.map(ts=>({...ts,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:nn,status:"finished",winnerId:Qe.id,logs:Yd({text:` ${Qe.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}X.length===0&&(Ee.length>0?(X=wv([...Ee]),Ee=[],pe.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):pe.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),X.length>0&&Qe.hand.push(X.pop()),await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:B,deck:X,discardPile:Ee,turnIndex:je,totalTurns:_t,logs:Yd(...pe),lastAction:dt!==null?dt:p.lastAction,turnReport:Vs,eveningReport:Fe,latestPublicEvent:De})},Mr=async(B,X,Ee,pe,dt,Fe,De,je,Qe)=>{const be=pe[je],_t=pt[B];let Lt=[];const nt=[];let yt=-(_t.cost+Qe);be.gold-=_t.cost+Qe,_t.type==="ACTION"&&Ji(pe,be.id);const yn=be.hand.indexOf(B);yn>-1&&be.hand.splice(yn,1);let Vs=p.lastAction;if(_t.type==="AGENT")be.tableau.push({cardId:B,turnsLeft:Sv}),De.push({text:` ${be.name} recruited ${_t.name}.`,type:"success",id:Date.now()}),Lt.push({desc:"Recruited Agent",amount:0}),nt.push(`Recruited ${_t.name}`),nt.push(`Active for ${Sv} turns`);else if(Fe.push(B),Vs={cardId:B,playerId:be.id},B==="URCHIN")be.gold+=2,yt+=2,Lt.push({desc:"Street Urchin",amount:2}),De.push({text:` ${be.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()}),nt.push("Gained +2 Gold from Supply");else if(B==="HEIST")Math.floor(Math.random()*6)+1>=4?(be.gold+=5,yt+=5,Lt.push({desc:"Heist Success",amount:5}),De.push({text:` ${be.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()}),nt.push("Heist Successful: +5 Gold!")):(Lt.push({desc:"Heist Failed",amount:0}),De.push({text:` ${be.name}'s Heist failed.`,type:"failure",id:Date.now()}),nt.push("Heist Failed: 0 Gold."));else if(B==="THIEF"){const Se=pe.find(ye=>ye.id===X);if(Se.tableau.some(ye=>ye.cardId==="BODYGUARD"))Lt.push({desc:"Thief Blocked",amount:0}),De.push({text:` ${Se.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()}),nt.push(`Targeted ${Se.name}`),nt.push("Blocked by Bodyguard!");else{const ye=Math.min(Se.gold,2);Se.gold-=ye,be.gold+=ye,yt+=ye,Lt.push({desc:`Stole from ${Se.name}`,amount:ye}),De.push({text:` ${be.name} stole ${ye} Gold from ${Se.name}.`,type:"danger",id:Date.now()}),nt.push(`Stole ${ye} Gold from ${Se.name}`)}}else if(B==="ASSASSIN"){const Se=pe.find(ye=>ye.id===X);if(Se.tableau.some(ye=>ye.cardId==="BODYGUARD"))De.push({text:` ${Se.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()}),nt.push(`Targeted ${Se.name}`),nt.push("Blocked by Bodyguard!");else if(Ee!==null&&Se.tableau[Ee]){const ye=Se.tableau[Ee];Se.tableau.splice(Ee,1),Fe.push(ye.cardId),De.push({text:` ${be.name} assassinated ${Se.name}'s ${pt[ye.cardId].name}!`,type:"danger",id:Date.now()}),nt.push(`Assassinated ${Se.name}'s ${pt[ye.cardId].name}`)}}else if(B==="BLACKMAIL"){const Se=pe.find(ye=>ye.id===X);if(Se.tableau.some(ye=>ye.cardId==="BODYGUARD"))De.push({text:` ${Se.name} blocked Blackmail.`,type:"warning",id:Date.now()}),nt.push(`Targeted ${Se.name}`),nt.push("Blocked by Bodyguard!");else if(Ee==="GOLD"){const ye=Math.min(Se.gold,4);Se.gold-=ye,be.gold+=ye,yt+=ye,Lt.push({desc:"Blackmail Gold",amount:ye}),De.push({text:` ${be.name} blackmailed ${Se.name} for ${ye} Gold.`,type:"danger",id:Date.now()}),nt.push(`Blackmailed ${Se.name} for ${ye} Gold`)}else{const ye=parseInt(Ee);if(!isNaN(ye)&&Se.tableau[ye]){const ns=Se.tableau[ye];Se.tableau.splice(ye,1),be.tableau.push(ns),De.push({text:` ${be.name} blackmailed ${Se.name}'s ${pt[ns.cardId].name}.`,type:"danger",id:Date.now()}),nt.push(`Stole ${Se.name}'s ${pt[ns.cardId].name}`)}}}else if(B==="DOPPELGANGER"){const Se=p.lastAction;if(!Se||Se.cardId==="DOPPELGANGER")De.push({text:` ${be.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()}),nt.push("Effect Fizzled");else{De.push({text:` ${be.name} copies ${pt[Se.cardId].name}...`,type:"neutral",id:Date.now()});const ye=Se.cardId;["URCHIN","HEIST"].includes(ye)?(ye==="URCHIN"&&(be.gold+=2,yt+=2,Lt.push({desc:"Copied Urchin",amount:2}),nt.push("Mimicked Urchin: +2 Gold")),ye==="HEIST"&&(Math.floor(Math.random()*6)+1>=4?(be.gold+=5,yt+=5,Lt.push({desc:"Copied Heist",amount:5}),nt.push("Mimicked Heist: +5 Gold!")):nt.push("Mimicked Heist: Failed."))):(be.gold+=3,yt+=3,Lt.push({desc:"Copied Complex Action",amount:3}),De.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}),nt.push(`Mimicked ${pt[ye].name}`),nt.push("Bonus: +3 Gold"))}}const ai=Jd(pe.length);if(be.gold>=ai){const Se=pe.map(ye=>({...ye,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",W),{players:Se,status:"finished",winnerId:be.id,logs:Yd({text:` ${be.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}const nn={playerId:be.id,actionName:_t.name,cost:_t.cost,tax:Qe,gains:Lt,netChange:yt,seen:!1},ts={id:Date.now(),type:"PLAY",actorName:be.name,cardId:B,outcomes:nt};de(null),R(null),St(null),Ve(null),await Zi(pe,dt,Fe,De,Vs,nn,ts)},xt=async B=>{const X=JSON.parse(JSON.stringify(p.players)),Ee=p.turnIndex,pe=X[Ee],dt=[...p.deck],Fe=[...p.discardPile],De=[],je=pe.hand.splice(B,1)[0];Fe.push(je),De.push({text:` ${pe.name} discarded ${pt[je].name} (Hand Limit).`,type:"neutral",id:Date.now()});const Qe={playerId:pe.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1},be={id:Date.now(),type:"DISCARD",actorName:pe.name,cardId:null,outcomes:[`Discarded ${pt[je].name}`,"Hand limit enforced"]};de(null),R(null),await Zi(X,dt,Fe,De,null,Qe,be)},Dt=B=>{if(V==="DISCARD"){xt(B);return}if(V==="SCOUT"){Vr(B);return}const X=p.players[p.turnIndex].hand[B],Ee=pt[X],pe=p.players[p.turnIndex],dt=Ee.type==="ACTION"?$i(p.players,pe.id):0;if(pe.gold<Ee.cost+dt){Me("failure","Insufficient Funds",`Cost: ${Ee.cost} + ${dt} Tax`,dr);return}if(X==="DOPPELGANGER"){const Fe=p.lastAction;let De=null;Fe&&Fe.cardId!=="DOPPELGANGER"&&(De=pt[Fe.cardId]),Ve({handIdx:B,targetCard:De});return}de(B),X==="THIEF"||X==="ASSASSIN"||X==="BLACKMAIL"?R("PLAYER"):(Ee.type==="AGENT"||X==="URCHIN"||X==="HEIST")&&Ot(B,null,null)},Ei=B=>{if(!V)return;const X=p.players[p.turnIndex].hand[fe];X==="THIEF"?Ot(fe,B,null):X==="ASSASSIN"?(St(B),R("CARD")):X==="BLACKMAIL"&&(St(B),R("OPTION"))},Nl=B=>{V==="CARD"&&tt&&Ot(fe,tt,B)},ya=B=>{V==="OPTION"&&tt&&Ot(fe,tt,B)},Ot=async(B,X,Ee)=>{const pe=JSON.parse(JSON.stringify(p.players)),dt=[...p.deck],Fe=[...p.discardPile],De=[],je=pe.find(_t=>_t.id===r.uid),Qe=je.hand[B],be=pt[Qe].type==="ACTION"?$i(pe,je.id):0;await Mr(Qe,X,Ee,pe,dt,Fe,De,p.turnIndex,be)},Wi=()=>{R("SCOUT"),Me("success","Scout Mode","Select a card to discard",Rm)},Vr=async B=>{const X=JSON.parse(JSON.stringify(p.players)),Ee=p.turnIndex,pe=X[Ee],dt=[...p.deck],Fe=[...p.discardPile],De=[],je=pe.hand.splice(B,1)[0];Fe.push(je),dt.length>0&&pe.hand.push(dt.pop()),De.push({text:`zzz ${pe.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const Qe={playerId:pe.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1},be={id:Date.now(),type:"SCOUT",actorName:pe.name,cardId:null,outcomes:["Discarded 1 card","Drew 1 replacement"]};de(null),R(null),await Zi(X,dt,Fe,De,null,Qe,be)},kr=()=>{p.deck.length!==0&&(ne(p.deck[p.deck.length-1]),setTimeout(()=>ne(null),3e3))},Ti=B=>B==="URCHIN"?"Effect: Gain +2 Gold":B==="HEIST"?"Effect: 50% chance to gain +5 Gold":"Effect: Gain +3 Gold (Mimic Bonus)";if(ee)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(mC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Av,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Av,{size:16})]})})})})]});if(!i)return T.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(Zd,{}),T.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[T.jsx(_p,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),T.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),T.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:o,onChange:B=>c(B.target.value)}),T.jsxs("button",{onClick:Nt,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[M?T.jsx(bv,{size:18,className:"animate-spin"}):T.jsx(Xd,{size:18}),M?"Establishing...":"Establish Guild"]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:B=>y(B.target.value.toUpperCase())}),T.jsx("button",{onClick:gt,disabled:M,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:M?T.jsx(bv,{size:16,className:"animate-spin"}):"Join"})]}),T.jsxs("button",{onClick:()=>C(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(wm,{size:14})," Guild Archives"]})]}),Le&&T.jsx(xv,{onClose:()=>C(!1)}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const B=p.hostId===r.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[T.jsx(Zd,{}),T.jsx(qC,{}),T.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[T.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Shadow Hall:"," ",T.jsx("span",{className:"text-white font-mono",children:p.roomId})]}),T.jsx("button",{onClick:Xi,className:"text-red-400 hover:text-red-300",children:T.jsx(xm,{size:20})})]}),T.jsxs("div",{className:"space-y-2 mb-6",children:[T.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),p.players.map(X=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[T.jsxs("span",{className:"font-bold flex items-center gap-2",children:[T.jsx(eT,{size:14})," ",X.name,X.id===p.hostId&&T.jsx(Xd,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(nC,{size:12})," Ready"]}),B&&X.id!==r.uid&&T.jsx("button",{onClick:()=>Yi(X.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:T.jsx(ko,{size:14})})]})]},X.id))]}),B?T.jsx("button",{onClick:Os,disabled:p.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${p.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Operation"}):T.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),T.jsx(Rv,{})]})}const _a=p.players.findIndex(B=>B.id===r.uid),Tn=p.players[_a],es=p.turnIndex===_a;fe!==null&&pt[Tn.hand[fe]];const Ur=$i(p.players,Tn.id),On=Jd(p.players.length),Yt=Tn.tableau.some(B=>B.cardId==="LOOKOUT");return T.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[T.jsx(Zd,{}),Je&&T.jsx(GC,{...Je}),T.jsx(FC,{event:Ze,onClose:()=>O(null)}),G&&T.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>ne(null),children:T.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[T.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),T.jsx("div",{className:"scale-150 transform transition-all",children:T.jsx(Lo,{cardId:G})}),T.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),ue&&T.jsx("div",{className:"fixed inset-0 z-[190] bg-black/90 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-800 border-2 border-cyan-500 rounded-2xl w-full max-w-sm flex flex-col items-center p-6 shadow-[0_0_30px_rgba(34,211,238,0.2)] animate-in zoom-in-95",children:[T.jsx($E,{size:48,className:"text-cyan-400 mb-4"}),T.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Doppelganger"}),T.jsxs("div",{className:"text-center mb-6 w-full",children:[T.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Copying previous action:"}),ue.targetCard?T.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-700 flex flex-col items-center w-full",children:[T.jsx("span",{className:`font-bold ${ue.targetCard.color} text-lg`,children:ue.targetCard.name}),T.jsx("div",{className:"mt-3 bg-cyan-900/30 text-cyan-200 px-3 py-2 rounded text-sm font-bold border border-cyan-500/30 w-full text-center",children:Ti(ue.targetCard.id)})]}):T.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-200 text-sm italic",children:"No valid action to copy (Effect will fizzle)."})]}),T.jsxs("div",{className:"flex gap-3 w-full",children:[T.jsx("button",{onClick:()=>Ve(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded-xl font-bold transition-colors",children:"Cancel"}),T.jsx("button",{onClick:()=>Ot(ue.handIdx,null,null),className:"flex-1 bg-cyan-600 hover:bg-cyan-500 py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95",children:"Proceed"})]})]})}),T.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-[160] shrink-0 shadow-md",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline text-lg",children:"GUILD OF SHADOWS"}),T.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-xs px-3 py-1 rounded-full border border-purple-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:["Goal: ",On," ",T.jsx(dr,{size:10,className:"inline ml-0.5"})]})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>I(!w),className:`p-2 rounded-full ${w?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(_C,{size:20})}),T.jsx("button",{onClick:()=>C(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full transition-colors",children:T.jsx(wm,{size:20})}),T.jsx("button",{onClick:()=>N(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full transition-colors",children:T.jsx(xm,{size:20})})]})]}),T.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.players.map((B,X)=>{if(B.id===r.uid)return null;const Ee=p.turnIndex===X,pe=V==="PLAYER",dt=tt===B.id;return T.jsxs("div",{onClick:()=>pe?Ei(B.id):null,className:`
                        relative bg-gray-900/80 backdrop-blur-sm p-3 rounded-xl border transition-all duration-200
                        ${Ee?"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.25)] bg-purple-900/10 scale-[1.02]":"border-gray-800"}
                        ${pe?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${dt?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[Ee&&T.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-purple-600 text-purple-100 text-[9px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse z-10 whitespace-nowrap flex items-center gap-1",children:[T.jsx(Tv,{size:8})," PLAYING"]}),T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("span",{className:"text-sm font-bold text-gray-200 flex items-center gap-1.5 truncate max-w-[100px]",children:[B.name,B.id===p.hostId&&T.jsx(Xd,{size:12,className:"text-yellow-500"})]}),T.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1 font-mono bg-black/40 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:[B.gold," ",T.jsx(dr,{size:10})]})]}),T.jsx("div",{className:"flex gap-0.5",children:B.hand.map((Fe,De)=>T.jsx("div",{className:"w-2.5 h-4 bg-gradient-to-b from-purple-800 to-purple-950 rounded-[2px] border border-purple-600/50 shadow-sm"},De))})]}),T.jsxs("div",{className:"flex flex-wrap gap-1.5 min-h-[32px]",children:[B.tableau.map((Fe,De)=>T.jsx("div",{onClick:je=>{je.stopPropagation(),Nl(De)},className:`${V==="CARD"&&dt?"animate-pulse cursor-pointer ring-1 ring-red-400 rounded":""}`,children:T.jsx(Lo,{cardId:Fe.cardId,turnsLeft:Fe.turnsLeft,tiny:!0})},De)),B.tableau.length===0&&T.jsx("div",{className:"w-full h-8 flex items-center justify-center text-[10px] text-gray-600 italic border border-dashed border-gray-800 rounded",children:"Empty Hall"})]})]},B.id)})}),T.jsx("div",{className:"mt-6 flex flex-col items-center space-y-1.5 pointer-events-none opacity-80",children:p.logs.slice(-3).reverse().map(B=>T.jsx("div",{className:`text-[10px] px-3 py-1 rounded-full backdrop-blur-md shadow-lg border ${B.type==="danger"?"bg-red-950/70 border-red-500/30 text-red-200":"bg-gray-900/70 border-gray-700/50 text-gray-300"}`,children:B.text},B.id))})]}),T.jsxs("div",{className:"bg-gray-950 border-t border-purple-900/30 pb-safe z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] flex flex-col shrink-0",children:[T.jsxs("div",{className:"w-full bg-black/20",children:[es&&T.jsx("div",{className:"w-full bg-green-600/20 border-y border-green-500/30 py-1 flex items-center justify-center animate-pulse",children:T.jsxs("span",{className:"text-green-400 font-bold tracking-[0.3em] text-[10px] md:text-xs uppercase flex items-center gap-2",children:[T.jsx(Tv,{size:10})," Your Turn"]})}),!G&&ie?T.jsx(QC,{report:ie}):!G&&ve?T.jsx(KC,{report:ve}):null]}),T.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-900 border-b border-gray-800",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"text-yellow-400 font-black text-2xl flex items-center gap-2 drop-shadow-md",children:[T.jsx(dr,{className:"fill-yellow-400/20",size:24})," ",Tn.gold]}),Ur>0&&T.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1 bg-red-950/50 px-2 py-1 rounded border border-red-900/50",children:["Tax: +",Ur," ",T.jsx(dr,{size:10})]})]}),T.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-w-[50%] no-scrollbar items-center mask-linear-fade",children:Tn.tableau.map((B,X)=>T.jsx("div",{className:"shrink-0",children:T.jsx(Lo,{cardId:B.cardId,turnsLeft:B.turnsLeft,tiny:!0})},X))})]}),T.jsxs("div",{className:"min-h-[50px] flex items-center justify-center py-2 px-4",children:[es&&!V&&fe===null&&T.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[Yt&&T.jsxs("button",{onClick:kr,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-5 py-2.5 rounded-xl font-bold shadow-lg flex items-center gap-2 text-sm transition-all active:scale-95",children:[T.jsx(JE,{size:16})," Peek"]}),Tn.hand.length>5?T.jsxs("button",{onClick:()=>{R("DISCARD"),Me("neutral","Discard Mode","Hand limit reached",ko)},className:"flex-1 max-w-xs bg-red-900/90 hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Discard & Pass ",T.jsx(ko,{size:16})]}):T.jsxs("button",{onClick:Wi,className:"flex-1 max-w-xs bg-gray-800 hover:bg-gray-700 text-gray-200 border border-gray-600 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Pass & Scout ",T.jsx(JI,{size:16})]})]}),V==="SCOUT"&&T.jsxs("div",{className:"flex items-center gap-3 bg-blue-900/30 border border-blue-500/30 px-4 py-2 rounded-full",children:[T.jsxs("span",{className:"text-blue-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(Rm,{size:16})," Select card to discard"]}),T.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:T.jsx(Uo,{size:12})})]}),V==="DISCARD"&&T.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full",children:[T.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(ko,{size:16})," Hand Full: Discard 1"]}),T.jsx("button",{onClick:()=>R(null),className:"bg-gray-800 p-1 rounded-full",children:T.jsx(Uo,{size:12})})]}),V==="PLAYER"&&T.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full animate-pulse",children:[T.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(ZE,{size:16})," Select Target Player"]}),T.jsx("button",{onClick:()=>{R(null),de(null)},className:"bg-gray-800 p-1 rounded-full",children:T.jsx(Uo,{size:12})})]}),fe!==null&&!V&&T.jsx("button",{onClick:()=>de(null),className:"bg-gray-800 text-gray-400 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-700",children:"Cancel Selection"}),V==="CARD"&&T.jsx("div",{className:"bg-black/60 px-4 py-2 rounded-full text-sm font-bold border border-red-500/50 text-red-200",children:"Select Agent to Destroy"}),V==="OPTION"&&T.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[T.jsx("button",{onClick:()=>ya("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-yellow-500",children:"Steal 4 Gold"}),T.jsx("button",{onClick:()=>R("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-blue-500",children:"Steal Agent"})]})]}),T.jsxs("div",{className:"flex overflow-x-auto px-4 pb-4 gap-3 no-scrollbar snap-x snap-mandatory min-h-[180px] items-center",children:[Tn.hand.length===0&&T.jsx("div",{className:"text-gray-600 text-sm italic w-full text-center py-8 border-2 border-dashed border-gray-800 rounded-xl",children:"Hand Empty"}),Tn.hand.map((B,X)=>T.jsx("div",{className:`snap-center transition-transform duration-200 ${fe===X?"-translate-y-6 scale-105":""}`,children:T.jsx(Lo,{cardId:B,onClick:()=>es?Dt(X):null,disabled:!es||V!==null&&V!=="SCOUT"&&V!=="DISCARD"&&fe!==X,highlight:fe===X})},X)),T.jsx("div",{className:"w-2 shrink-0"})]})]})]}),w&&T.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),T.jsx("button",{onClick:()=>I(!1),children:T.jsx(Uo,{})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...p.logs].reverse().map(B=>T.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${B.type==="danger"?"bg-red-900/20 border-red-500":B.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[T.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(B.id).toLocaleTimeString()}),B.text]},B.id))})]}),k&&T.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[T.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>N(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),p.hostId===r.uid&&T.jsx("button",{onClick:Dn,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),T.jsx("button",{onClick:Xi,className:"bg-red-600 py-3 rounded font-bold",children:p.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),p.status==="finished"&&T.jsxs("div",{className:"fixed inset-0 top-14 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[T.jsx(WE,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),T.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),T.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[p.players.find(B=>B.id===p.winnerId)?.name," ","is the new Guild Master!"]}),T.jsxs("div",{className:"bg-gray-800/80 p-5 rounded-2xl mb-6 w-full max-w-sm border border-gray-700 shadow-xl",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4 border-b border-gray-700 pb-2",children:"Final Standings"}),T.jsx("div",{className:"space-y-3",children:[...p.players].sort((B,X)=>X.gold-B.gold).map((B,X)=>T.jsxs("div",{className:"flex justify-between items-center bg-black/30 p-2 rounded",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`
                            w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                            ${X===0?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300"}
                         `,children:X+1}),T.jsx("span",{className:`font-bold ${B.id===p.winnerId?"text-yellow-400":"text-white"}`,children:B.name})]}),T.jsxs("div",{className:"font-mono text-yellow-500 font-bold flex items-center gap-1",children:[B.gold," ",T.jsx(dr,{size:12})]})]},B.id))})]}),T.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[T.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),T.jsx("div",{className:"space-y-2",children:p.players.map(B=>T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{children:B.name}),T.jsx("span",{className:B.ready?"text-green-400 font-bold":"text-gray-500",children:B.ready?"READY":"WAITING"})]},B.id))})]}),T.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[Tn.ready?T.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):T.jsx("button",{onClick:Ms,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),p.hostId===r.uid&&T.jsx("button",{onClick:Dn,disabled:!p.players.every(B=>B.ready),className:`py-3 rounded-lg font-bold transition-all ${p.players.every(B=>B.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),T.jsx(Rv,{}),Le&&T.jsx(xv,{onClose:()=>C(!1)})]})}Bb.createRoot(document.getElementById("root")).render(T.jsx(Ye.StrictMode,{children:T.jsx(YC,{})}));
