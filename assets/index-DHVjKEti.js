(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},No={};var z0;function Vb(){if(z0)return No;z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return No.Fragment=e,No.jsx=i,No.jsxs=i,No}var B0;function kb(){return B0||(B0=1,Od.exports=Vb()),Od.exports}var T=kb(),Md={exports:{}},we={};var H0;function Lb(){if(H0)return we;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function K(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,W={};function ce(V,Q,ie){this.props=V,this.context=Q,this.refs=W,this.updater=ie||te}ce.prototype.isReactComponent={},ce.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},ce.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Re(){}Re.prototype=ce.prototype;function be(V,Q,ie){this.props=V,this.context=Q,this.refs=W,this.updater=ie||te}var it=be.prototype=new Re;it.constructor=be,se(it,ce.prototype),it.isPureReactComponent=!0;var dt=Array.isArray;function Le(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,Q,ie){var re=ie.ref;return{$$typeof:s,type:V,key:Q,ref:re!==void 0?re:null,props:ie}}function M(V,Q){return I(V.type,Q,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Q[ie]})}var x=/\/+/g;function st(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Q.toString(36)}function St(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Le,Le):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Q,ie,re,fe){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(Ie){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case s:case e:Me=!0;break;case A:return Me=V._init,G(Me(V._payload),Q,ie,re,fe)}}if(Me)return fe=fe(V),Me=re===""?"."+st(V,0):re,dt(fe)?(ie="",Me!=null&&(ie=Me.replace(x,"$&/")+"/"),G(fe,Q,ie,"",function(Qi){return Qi})):fe!=null&&(N(fe)&&(fe=M(fe,ie+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(x,"$&/")+"/")+Me)),Q.push(fe)),1;Me=0;var Nt=re===""?".":re+":";if(dt(V))for(var gt=0;gt<V.length;gt++)re=V[gt],Ie=Nt+st(re,gt),Me+=G(re,Q,ie,Ie,fe);else if(gt=K(V),typeof gt=="function")for(V=gt.call(V),gt=0;!(re=V.next()).done;)re=re.value,Ie=Nt+st(re,gt++),Me+=G(re,Q,ie,Ie,fe);else if(Ie==="object"){if(typeof V.then=="function")return G(St(V),Q,ie,re,fe);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(V,Q,ie){if(V==null)return V;var re=[],fe=0;return G(V,re,"","",function(Ie){return Q.call(ie,Ie,fe++)}),re}function he(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Xe={map:ne,forEach:function(V,Q,ie){ne(V,function(){Q.apply(this,arguments)},ie)},count:function(V){var Q=0;return ne(V,function(){Q++}),Q},toArray:function(V){return ne(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=S,we.Children=Xe,we.Component=ce,we.Fragment=i,we.Profiler=o,we.PureComponent=be,we.StrictMode=a,we.Suspense=v,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,Q,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=se({},V.props),fe=V.key;if(Q!=null)for(Ie in Q.key!==void 0&&(fe=""+Q.key),Q)!w.call(Q,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Q.ref===void 0||(re[Ie]=Q[Ie]);var Ie=arguments.length-2;if(Ie===1)re.children=ie;else if(1<Ie){for(var Me=Array(Ie),Nt=0;Nt<Ie;Nt++)Me[Nt]=arguments[Nt+2];re.children=Me}return I(V.type,fe,re)},we.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},we.createElement=function(V,Q,ie){var re,fe={},Ie=null;if(Q!=null)for(re in Q.key!==void 0&&(Ie=""+Q.key),Q)w.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=Q[re]);var Me=arguments.length-2;if(Me===1)fe.children=ie;else if(1<Me){for(var Nt=Array(Me),gt=0;gt<Me;gt++)Nt[gt]=arguments[gt+2];fe.children=Nt}if(V&&V.defaultProps)for(re in Me=V.defaultProps,Me)fe[re]===void 0&&(fe[re]=Me[re]);return I(V,Ie,fe)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:g,render:V}},we.isValidElement=N,we.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:he}},we.memo=function(V,Q){return{$$typeof:y,type:V,compare:Q===void 0?null:Q}},we.startTransition=function(V){var Q=C.T,ie={};C.T=ie;try{var re=V(),fe=C.S;fe!==null&&fe(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Le,Ue)}catch(Ie){Ue(Ie)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),C.T=Q}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(V){return C.H.use(V)},we.useActionState=function(V,Q,ie){return C.H.useActionState(V,Q,ie)},we.useCallback=function(V,Q){return C.H.useCallback(V,Q)},we.useContext=function(V){return C.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,Q){return C.H.useDeferredValue(V,Q)},we.useEffect=function(V,Q){return C.H.useEffect(V,Q)},we.useEffectEvent=function(V){return C.H.useEffectEvent(V)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(V,Q,ie){return C.H.useImperativeHandle(V,Q,ie)},we.useInsertionEffect=function(V,Q){return C.H.useInsertionEffect(V,Q)},we.useLayoutEffect=function(V,Q){return C.H.useLayoutEffect(V,Q)},we.useMemo=function(V,Q){return C.H.useMemo(V,Q)},we.useOptimistic=function(V,Q){return C.H.useOptimistic(V,Q)},we.useReducer=function(V,Q,ie){return C.H.useReducer(V,Q,ie)},we.useRef=function(V){return C.H.useRef(V)},we.useState=function(V){return C.H.useState(V)},we.useSyncExternalStore=function(V,Q,ie){return C.H.useSyncExternalStore(V,Q,ie)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.3",we}var q0;function Cm(){return q0||(q0=1,Md.exports=Lb()),Md.exports}var Qe=Cm(),Vd={exports:{}},Do={},kd={exports:{}},Ld={};var G0;function Ub(){return G0||(G0=1,(function(s){function e(G,ne){var he=G.length;G.push(ne);e:for(;0<he;){var Ue=he-1>>>1,Xe=G[Ue];if(0<o(Xe,ne))G[Ue]=ne,G[he]=Xe,he=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],he=G.pop();if(he!==ne){G[0]=he;e:for(var Ue=0,Xe=G.length,V=Xe>>>1;Ue<V;){var Q=2*(Ue+1)-1,ie=G[Q],re=Q+1,fe=G[re];if(0>o(ie,he))re<Xe&&0>o(fe,ie)?(G[Ue]=fe,G[re]=he,Ue=re):(G[Ue]=ie,G[Q]=he,Ue=Q);else if(re<Xe&&0>o(fe,he))G[Ue]=fe,G[re]=he,Ue=re;else break e}}return ne}function o(G,ne){var he=G.sortIndex-ne.sortIndex;return he!==0?he:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],A=1,S=null,D=3,K=!1,te=!1,se=!1,W=!1,ce=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function it(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=G)a(y),ne.sortIndex=ne.expirationTime,e(v,ne);else break;ne=i(y)}}function dt(G){if(se=!1,it(G),!te)if(i(v)!==null)te=!0,Le||(Le=!0,L());else{var ne=i(y);ne!==null&&St(dt,ne.startTime-G)}}var Le=!1,C=-1,w=5,I=-1;function M(){return W?!0:!(s.unstable_now()-I<w)}function N(){if(W=!1,Le){var G=s.unstable_now();I=G;var ne=!0;try{e:{te=!1,se&&(se=!1,Re(C),C=-1),K=!0;var he=D;try{t:{for(it(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,D=S.priorityLevel;var Xe=Ue(S.expirationTime<=G);if(G=s.unstable_now(),typeof Xe=="function"){S.callback=Xe,it(G),ne=!0;break t}S===i(v)&&a(v),it(G)}else a(v);S=i(v)}if(S!==null)ne=!0;else{var V=i(y);V!==null&&St(dt,V.startTime-G),ne=!1}}break e}finally{S=null,D=he,K=!1}ne=void 0}}finally{ne?L():Le=!1}}}var L;if(typeof be=="function")L=function(){be(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,st=x.port2;x.port1.onmessage=N,L=function(){st.postMessage(null)}}else L=function(){ce(N,0)};function St(G,ne){C=ce(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var he=D;D=ne;try{return G()}finally{D=he}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=D;D=G;try{return ne()}finally{D=he}},s.unstable_scheduleCallback=function(G,ne,he){var Ue=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,G){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=he+Xe,G={id:A++,callback:ne,priorityLevel:G,startTime:he,expirationTime:Xe,sortIndex:-1},he>Ue?(G.sortIndex=he,e(y,G),i(v)===null&&G===i(y)&&(se?(Re(C),C=-1):se=!0,St(dt,he-Ue))):(G.sortIndex=Xe,e(v,G),te||K||(te=!0,Le||(Le=!0,L()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var ne=D;return function(){var he=D;D=ne;try{return G.apply(this,arguments)}finally{D=he}}}})(Ld)),Ld}var F0;function jb(){return F0||(F0=1,kd.exports=Ub()),kd.exports}var Ud={exports:{}},fn={};var K0;function Pb(){if(K0)return fn;K0=1;var s=Cm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,A)},fn.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},fn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},fn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},fn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:K}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},fn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},fn.requestFormReset=function(v){a.d.r(v)},fn.unstable_batchedUpdates=function(v,y){return v(y)},fn.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var Y0;function zb(){if(Y0)return Ud.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Pb(),Ud.exports}var Q0;function Bb(){if(Q0)return Do;Q0=1;var s=jb(),e=Cm(),i=zb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),be=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ce:return"Profiler";case W:return"StrictMode";case dt:return"Suspense";case Le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case be:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case it:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var St=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ue=[],Xe=-1;function V(t){return{current:t}}function Q(t){0>Xe||(t.current=Ue[Xe],Ue[Xe]=null,Xe--)}function ie(t,n){Xe++,Ue[Xe]=t.current,t.current=n}var re=V(null),fe=V(null),Ie=V(null),Me=V(null);function Nt(t,n){switch(ie(Ie,n),ie(fe,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?u0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=u0(n),t=c0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),ie(re,t)}function gt(){Q(re),Q(fe),Q(Ie)}function Qi(t){t.memoizedState!==null&&ie(Me,t);var n=re.current,r=c0(n,t.type);n!==r&&(ie(fe,t),ie(re,r))}function Xi(t){fe.current===t&&(Q(re),Q(fe)),Me.current===t&&(Q(Me),xo._currentValue=he)}var Os,Ms;function Dn(t){if(Os===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Os=n&&n[1]||"",Ms=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+t+Ms}var $i=!1;function Ji(t,n){if(!t||$i)return"";$i=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var z=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){z=q}t.call($.prototype)}}else{try{throw Error()}catch(q){z=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{$i=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Dn(r):""}function Zi(t,n){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Dn("Activity");default:return""}}function Mr(t){try{var n="",r=null;do n+=Zi(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Rt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,Ti=s.unstable_cancelCallback,Dl=s.unstable_shouldYield,ya=s.unstable_requestPaint,Ot=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,Vr=s.unstable_ImmediatePriority,kr=s.unstable_UserBlockingPriority,bi=s.unstable_NormalPriority,_a=s.unstable_LowPriority,Tn=s.unstable_IdlePriority,es=s.log,Lr=s.unstable_setDisableYieldValue,On=null,Qt=null;function B(t){if(typeof es=="function"&&Lr(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(On,t)}catch{}}var X=Math.clz32?Math.clz32:mt,_e=Math.log,me=Math.LN2;function mt(t){return t>>>=0,t===0?32:31-(_e(t)/me|0)|0}var Fe=256,De=262144,je=4194304;function Ke(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ee(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ke(l):(p&=E,p!==0?h=Ke(p):r||(r=E&~t,r!==0&&(h=Ke(r))))):(E=l&~f,E!==0?h=Ke(E):p!==0?h=Ke(p):r||(r=l&~t,r!==0&&(h=Ke(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function _t(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ut(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var t=je;return je<<=1,(je&62914560)===0&&(je=4194304),t}function yt(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function yn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vs(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-X(r),$=1<<F;E[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~$}l!==0&&ai(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ai(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-X(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function nn(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-X(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function ts(t,n){var r=n&-n;return r=(r&42)!==0?1:Ae(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ae(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ns(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:M0(t.type))}function li(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var oi=Math.random().toString(36).slice(2),jt="__reactFiber$"+oi,Zt="__reactProps$"+oi,Ai="__reactContainer$"+oi,va="__reactEvents$"+oi,Uh="__reactListeners$"+oi,mu="__reactHandles$"+oi,pu="__reactResources$"+oi,Si="__reactMarker$"+oi;function Ea(t){delete t[jt],delete t[Zt],delete t[va],delete t[Uh],delete t[mu]}function wi(t){var n=t[jt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[jt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=y0(t);t!==null;){if(r=t[jt])return r;t=y0(t)}return n}t=r,r=t.parentNode}return null}function Fn(t){if(t=t[jt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function xi(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Si]=!0}var Ol=new Set,Ml={};function Ri(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(Ml[t]=n,t=0;t<n.length;t++)Ol.add(n[t])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Ll={};function gu(t){return Rt.call(Ll,t)?!0:Rt.call(kl,t)?!1:Vl.test(t)?Ll[t]=!0:(kl[t]=!0,!1)}function Ta(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Vn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function zt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function bn(t){return t.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?jl(t,p,Wt(n)):r!=null?jl(t,p,Wt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Wt(E):t.removeAttribute("name")}function yu(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}r=r!=null?""+Wt(r):"",n=n!=null?""+Wt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),rt(t)}function jl(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ls(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Wt(r):""}function Us(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(St(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Wt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),rt(t)}function An(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function zl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Pl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Pl(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Bl=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Ni=null;function Pr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var r=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ur(l)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ls(t,!!r.multiple,n,!1)}}}var wa=!1;function zs(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ps!==null||Ni!==null)&&(dc(),Ps&&(n=Ps,t=Ni,Ni=Ps=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Zt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Yn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{zr=!1}var Di=null,Hl=null,Br=null;function ql(){if(Br)return Br;var t,n=Hl,r=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function hi(){return!1}function sn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=sn(ss),Bs=S({},ss,{view:0,detail:0}),Gl=sn(Bs),Hs,xa,Mi,Ra=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Hs=t.screenX-Mi.screenX,xa=t.screenY-Mi.screenY):xa=Hs=0,Mi=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Fl=sn(Ra),qr=S({},Ra,{dataTransfer:0}),Tu=sn(qr),bu=S({},Bs,{relatedTarget:0}),Gr=sn(bu),Kl=S({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=sn(Kl),Ia=S({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=sn(Ia),wu=S({},ss,{data:0}),Vi=sn(wu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function qs(){return Cu}var _n=S({},Bs,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=sn(_n),Du=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=sn(Du),u=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=sn(u),_=S({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(_),U=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(U),ee=S({},ss,{newState:0,oldState:0}),Ce=sn(ee),Mt=[9,13,27,32],Ze=Yn&&"CompositionEvent"in window,bt=null;Yn&&"documentMode"in document&&(bt=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!bt,ki=Yn&&(!Ze||bt&&8<bt&&11>=bt),fi=" ",di=!1;function Fr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function sT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function rT(t,n){if(Na)return t==="compositionend"||!Ze&&Fr(t,n)?(t=ql(),Br=Hl=Di=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aT[t.type]:n==="textarea"}function Tp(t,n,r,l){Ps?Ni?Ni.push(l):Ni=[l]:Ps=l,n=Ec(n,"onChange"),0<n.length&&(r=new Oi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Yl=null,Ql=null;function lT(t){i0(t,0)}function Ou(t){var n=Mn(t);if(Ur(n))return t}function bp(t,n){if(t==="change")return n}var Ap=!1;if(Yn){var jh;if(Yn){var Ph="oninput"in document;if(!Ph){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Ph=typeof Sp.oninput=="function"}jh=Ph}else jh=!1;Ap=jh&&(!document.documentMode||9<document.documentMode)}function wp(){Yl&&(Yl.detachEvent("onpropertychange",xp),Ql=Yl=null)}function xp(t){if(t.propertyName==="value"&&Ou(Ql)){var n=[];Tp(n,Ql,t,Kn(t)),zs(lT,n)}}function oT(t,n,r){t==="focusin"?(wp(),Yl=n,Ql=r,Yl.attachEvent("onpropertychange",xp)):t==="focusout"&&wp()}function uT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Ql)}function cT(t,n){if(t==="click")return Ou(n)}function hT(t,n){if(t==="input"||t==="change")return Ou(n)}function fT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:fT;function Xl(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Rt.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,n){var r=Rp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rp(r)}}function Cp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dT=Yn&&"documentMode"in document&&11>=document.documentMode,Da=null,Bh=null,$l=null,Hh=!1;function Dp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||Da==null||Da!==Ci(l)||(l=Da,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$l&&Xl($l,l)||($l=l,l=Ec(Bh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},qh={},Op={};Yn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yr(t){if(qh[t])return qh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return qh[t]=n[r];return t}var Mp=Yr("animationend"),Vp=Yr("animationiteration"),kp=Yr("animationstart"),mT=Yr("transitionrun"),pT=Yr("transitionstart"),gT=Yr("transitioncancel"),Lp=Yr("transitionend"),Up=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function mi(t,n){Up.set(t,n),Ri(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ma=0,Fh=0;function Vu(){for(var t=Ma,n=Fh=Ma=0;n<t;){var r=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&jp(r,h,f)}}function ku(t,n,r,l){Xn[Ma++]=t,Xn[Ma++]=n,Xn[Ma++]=r,Xn[Ma++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,n,r,l){return ku(t,n,r,l),Lu(t)}function Qr(t,n){return ku(t,null,null,n),Lu(t)}function jp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-X(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Lu(t){if(50<vo)throw vo=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function yT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,r,l){return new yT(t,n,r,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,n){var r=t.alternate;return r===null?(r=Ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Yh(t)&&(p=1);else if(typeof t=="string")p=bb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Ln(31,r,n,h),t.elementType=I,t.lanes=f,t;case se:return Xr(r.children,h,f,n);case W:p=8,h|=24;break;case ce:return t=Ln(12,r,n,h|2),t.elementType=ce,t.lanes=f,t;case dt:return t=Ln(13,r,n,h),t.elementType=dt,t.lanes=f,t;case Le:return t=Ln(19,r,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:p=10;break e;case Re:p=9;break e;case it:p=11;break e;case C:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ln(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,r,l){return t=Ln(7,t,l,n),t.lanes=r,t}function Qh(t,n,r){return t=Ln(6,t,null,n),t.lanes=r,t}function zp(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var r=Bp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Mr(n)},Bp.set(t,n),n)}return{value:t,source:n,stack:Mr(n)}}var ka=[],La=0,ju=null,Jl=0,Jn=[],Zn=0,Gs=null,Li=1,Ui="";function ls(t,n){ka[La++]=Jl,ka[La++]=ju,ju=t,Jl=n}function Hp(t,n,r){Jn[Zn++]=Li,Jn[Zn++]=Ui,Jn[Zn++]=Gs,Gs=t;var l=Li;t=Ui;var h=32-X(l)-1;l&=~(1<<h),r+=1;var f=32-X(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Li=1<<32-X(n)+h|r<<h|l,Ui=f+t}else Li=1<<f|r<<h|l,Ui=t}function $h(t){t.return!==null&&(ls(t,1),Hp(t,1,0))}function Jh(t){for(;t===ju;)ju=ka[--La],ka[La]=null,Jl=ka[--La],ka[La]=null;for(;t===Gs;)Gs=Jn[--Zn],Jn[Zn]=null,Ui=Jn[--Zn],Jn[Zn]=null,Li=Jn[--Zn],Jn[Zn]=null}function qp(t,n){Jn[Zn++]=Li,Jn[Zn++]=Ui,Jn[Zn++]=Gs,Li=n.id,Ui=n.overflow,Gs=t}var rn=null,vt=null,Ge=!1,Fs=null,Wn=!1,Zh=Error(a(519));function Ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl($n(n,t)),Zh}function Gp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Zt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<To.length;r++)ke(To[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Us(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||l0(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Ks(t,!0)}function Fp(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:rn=rn.return}}function Ua(t){if(t!==rn)return!1;if(!Ge)return Fp(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&vt&&Ks(t),Fp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=g0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=g0(t)}else n===27?(n=vt,ar(t.type)?(t=bd,bd=null,vt=t):vt=n):vt=rn?ti(t.stateNode.nextSibling):null;return!0}function $r(){vt=rn=null,Ge=!1}function Wh(){var t=Fs;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Fs=null),t}function Zl(t){Fs===null?Fs=[t]:Fs.push(t)}var ef=V(null),Jr=null,os=null;function Ys(t,n,r){ie(ef,n._currentValue),n._currentValue=r}function us(t){t._currentValue=ef.current,Q(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),tf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;kn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Kp(Jr,t)}function zu(t,n){return Jr===null&&Zr(t),Kp(t,n)}function Kp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},os===null){if(t===null)throw Error(a(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return r}var _T=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},vT=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,Bt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new _T,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&vT(ET,function(){t.controller.abort()})}var eo=null,rf=0,Pa=0,za=null;function TT(t,n){if(eo===null){var r=eo=[];rf=0,Pa=od(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(Yp,Yp),n}function Yp(){if(--rf===0&&eo!==null){za!==null&&(za.status="fulfilled");var t=eo;eo=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Qp=G.S;G.S=function(t,n){Dy=Ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Qp!==null&&Qp(t,n)};var Wr=V(null);function af(){var t=Wr.current;return t!==null?t:pt.pooledCache}function Bu(t,n){n===null?ie(Wr,Wr.current):ie(Wr,n.pool)}function Xp(){var t=af();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),lf=Error(a(474)),Hu=Error(a(542)),qu={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t}throw ta=n,Ba}}function ea(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ta=r,Ba):r}}var ta=null;function Zp(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function Wp(t){if(t===Ba||t===Hu)throw Error(a(483))}var Ha=null,to=0;function Gu(t){var n=to;return to+=1,Ha===null&&(Ha=[]),Jp(Ha,t,n)}function no(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){function n(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=as(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,j,Y){return O===null||O.tag!==6?(O=Qh(j,k.mode,Y),O.return=k,O):(O=h(O,j),O.return=k,O)}function R(k,O,j,Y){var de=j.type;return de===se?F(k,O,j.props.children,Y,j.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ea(de)===O.type)?(O=h(O,j.props),no(O,j),O.return=k,O):(O=Uu(j.type,j.key,j.props,null,k.mode,Y),no(O,j),O.return=k,O)}function P(k,O,j,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Xh(j,k.mode,Y),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function F(k,O,j,Y,de){return O===null||O.tag!==7?(O=Xr(j,k.mode,Y,de),O.return=k,O):(O=h(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return j=Uu(O.type,O.key,O.props,null,k.mode,j),no(j,O),j.return=k,j;case te:return O=Xh(O,k.mode,j),O.return=k,O;case w:return O=ea(O),$(k,O,j)}if(St(O)||L(O))return O=Xr(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,Gu(O),j);if(O.$$typeof===be)return $(k,zu(k,O),j);Fu(k,O)}return null}function z(k,O,j,Y){var de=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(k,O,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===de?R(k,O,j,Y):null;case te:return j.key===de?P(k,O,j,Y):null;case w:return j=ea(j),z(k,O,j,Y)}if(St(j)||L(j))return de!==null?null:F(k,O,j,Y,null);if(typeof j.then=="function")return z(k,O,Gu(j),Y);if(j.$$typeof===be)return z(k,O,zu(k,j),Y);Fu(k,j)}return null}function q(k,O,j,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(O,k,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return k=k.get(Y.key===null?j:Y.key)||null,R(O,k,Y,de);case te:return k=k.get(Y.key===null?j:Y.key)||null,P(O,k,Y,de);case w:return Y=ea(Y),q(k,O,j,Y,de)}if(St(Y)||L(Y))return k=k.get(j)||null,F(O,k,Y,de,null);if(typeof Y.then=="function")return q(k,O,j,Gu(Y),de);if(Y.$$typeof===be)return q(k,O,j,zu(O,Y),de);Fu(O,Y)}return null}function le(k,O,j,Y){for(var de=null,$e=null,oe=O,Oe=O=0,ze=null;oe!==null&&Oe<j.length;Oe++){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var Je=z(k,oe,j[Oe],Y);if(Je===null){oe===null&&(oe=ze);break}t&&oe&&Je.alternate===null&&n(k,oe),O=f(Je,O,Oe),$e===null?de=Je:$e.sibling=Je,$e=Je,oe=ze}if(Oe===j.length)return r(k,oe),Ge&&ls(k,Oe),de;if(oe===null){for(;Oe<j.length;Oe++)oe=$(k,j[Oe],Y),oe!==null&&(O=f(oe,O,Oe),$e===null?de=oe:$e.sibling=oe,$e=oe);return Ge&&ls(k,Oe),de}for(oe=l(oe);Oe<j.length;Oe++)ze=q(oe,k,Oe,j[Oe],Y),ze!==null&&(t&&ze.alternate!==null&&oe.delete(ze.key===null?Oe:ze.key),O=f(ze,O,Oe),$e===null?de=ze:$e.sibling=ze,$e=ze);return t&&oe.forEach(function(hr){return n(k,hr)}),Ge&&ls(k,Oe),de}function ye(k,O,j,Y){if(j==null)throw Error(a(151));for(var de=null,$e=null,oe=O,Oe=O=0,ze=null,Je=j.next();oe!==null&&!Je.done;Oe++,Je=j.next()){oe.index>Oe?(ze=oe,oe=null):ze=oe.sibling;var hr=z(k,oe,Je.value,Y);if(hr===null){oe===null&&(oe=ze);break}t&&oe&&hr.alternate===null&&n(k,oe),O=f(hr,O,Oe),$e===null?de=hr:$e.sibling=hr,$e=hr,oe=ze}if(Je.done)return r(k,oe),Ge&&ls(k,Oe),de;if(oe===null){for(;!Je.done;Oe++,Je=j.next())Je=$(k,Je.value,Y),Je!==null&&(O=f(Je,O,Oe),$e===null?de=Je:$e.sibling=Je,$e=Je);return Ge&&ls(k,Oe),de}for(oe=l(oe);!Je.done;Oe++,Je=j.next())Je=q(oe,k,Oe,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&oe.delete(Je.key===null?Oe:Je.key),O=f(Je,O,Oe),$e===null?de=Je:$e.sibling=Je,$e=Je);return t&&oe.forEach(function(Mb){return n(k,Mb)}),Ge&&ls(k,Oe),de}function ft(k,O,j,Y){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:e:{for(var de=j.key;O!==null;){if(O.key===de){if(de=j.type,de===se){if(O.tag===7){r(k,O.sibling),Y=h(O,j.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ea(de)===O.type){r(k,O.sibling),Y=h(O,j.props),no(Y,j),Y.return=k,k=Y;break e}r(k,O);break}else n(k,O);O=O.sibling}j.type===se?(Y=Xr(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Uu(j.type,j.key,j.props,null,k.mode,Y),no(Y,j),Y.return=k,k=Y)}return p(k);case te:e:{for(de=j.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){r(k,O.sibling),Y=h(O,j.children||[]),Y.return=k,k=Y;break e}else{r(k,O);break}else n(k,O);O=O.sibling}Y=Xh(j,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return j=ea(j),ft(k,O,j,Y)}if(St(j))return le(k,O,j,Y);if(L(j)){if(de=L(j),typeof de!="function")throw Error(a(150));return j=de.call(j),ye(k,O,j,Y)}if(typeof j.then=="function")return ft(k,O,Gu(j),Y);if(j.$$typeof===be)return ft(k,O,zu(k,j),Y);Fu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(r(k,O.sibling),Y=h(O,j),Y.return=k,k=Y):(r(k,O),Y=Qh(j,k.mode,Y),Y.return=k,k=Y),p(k)):r(k,O)}return function(k,O,j,Y){try{to=0;var de=ft(k,O,j,Y);return Ha=null,de}catch(oe){if(oe===Ba||oe===Hu)throw oe;var $e=Ln(29,oe,null,k.mode);return $e.lanes=Y,$e.return=k,$e}}}var na=eg(!0),tg=eg(!1),Qs=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Lu(t),jp(t,null,r),n}return ku(t,l,n,r),Lu(t)}function io(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,nn(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function so(){if(hf){var t=za;if(t!==null)throw t}}function ro(t,n,r,l){hf=!1;var h=t.updateQueue;Qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;p=0,F=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Pe&z)===z:(l&z)===z){z!==0&&z===Pa&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ye=E;z=n;var ft=r;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){$=le.call(ft,$,z);break e}$=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,z=typeof le=="function"?le.call(ft,$,z):le,z==null)break e;$=S({},$,z);break e;case 2:Qs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,R=$):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=$),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),tr|=p,t.lanes=p,t.memoizedState=$}}function ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}var qa=V(null),Ku=V(0);function sg(t,n){t=_s,ie(Ku,t),ie(qa,n),_s=t|n.baseLanes}function ff(){ie(Ku,_s),ie(qa,qa.current)}function df(){_s=Ku.current,Q(qa),Q(Ku)}var Un=V(null),ei=null;function Js(t){var n=t.alternate;ie(Vt,Vt.current&1),ie(Un,t),ei===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ei=t)}function mf(t){ie(Vt,Vt.current),ie(Un,t),ei===null&&(ei=t)}function rg(t){t.tag===22?(ie(Vt,Vt.current),ie(Un,t),ei===null&&(ei=t)):Zs()}function Zs(){ie(Vt,Vt.current),ie(Un,Un.current)}function jn(t){Q(Un),ei===t&&(ei=null),Q(Vt)}var Vt=V(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cs=0,Ne=null,ct=null,Ht=null,Qu=!1,Ga=!1,ia=!1,Xu=0,ao=0,Fa=null,AT=0;function It(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!kn(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return cs=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Hg:Df,ia=!1,f=r(l,h),ia=!1,Ga&&(f=lg(n,r,l,h)),ag(t),f}function ag(t){G.H=uo;var n=ct!==null&&ct.next!==null;if(cs=0,Ht=ct=Ne=null,Qu=!1,ao=0,Fa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Pu(t)&&(qt=!0))}function lg(t,n,r,l){Ne=t;var h=0;do{if(Ga&&(Fa=null),ao=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=qg,f=n(r,l)}while(Ga);return f}function ST(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?lo(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ne.flags|=1024),n}function yf(){var t=Xu!==0;return Xu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}cs=0,Ht=ct=Ne=null,Ga=!1,ao=Xu=0,Fa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(ct===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Ht===null?Ne.memoizedState:Ht.next;if(n!==null)Ht=n,ct=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var n=ao;return ao+=1,Fa===null&&(Fa=[]),t=Jp(Fa,t,n),n=Ne,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hg:Df),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===be)return an(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function hs(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=kt();return Tf(n,ct,t)}function Tf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,F=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Pe&$)===$:(cs&$)===$){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Pa&&(F=!0);else if((cs&z)===z){P=P.next,z===Pa&&(F=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=$,p=f):R=R.next=$,Ne.lanes|=z,tr|=z;$=P.action,ia&&r(f,$),f=P.hasEagerState?P.eagerState:r(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Ne.lanes|=$,tr|=$;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!kn(f,t.memoizedState)&&(qt=!0,F&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);kn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function og(t,n,r){var l=Ne,h=kt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!kn((ct||h).memoizedState,r);if(p&&(h.memoizedState=r,qt=!0),h=h.queue,wf(hg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},cg.bind(null,l,h,r,n),null),pt===null)throw Error(a(349));f||(cs&127)!==0||ug(l,n,r)}return r}function ug(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=$u(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cg(t,n,r,l){n.value=r,n.getSnapshot=l,fg(n)&&dg(t)}function hg(t,n,r){return r(function(){fg(n)&&dg(t)})}function fg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!kn(t,r)}catch{return!0}}function dg(t){var n=Qr(t,2);n!==null&&In(n,t,2)}function Af(t){var n=vn();if(typeof t=="function"){var r=t;if(t=r(),ia){B(!0);try{r()}finally{B(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},n}function mg(t,n,r,l){return t.baseState=r,Tf(t,ct,typeof l=="function"?l:hs)}function wT(t,n,r,l,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,l),R=G.S;R!==null&&R(p,E),gg(t,n,E)}catch(P){Sf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),gg(t,n,f)}catch(P){Sf(t,n,P)}}function gg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){yg(t,n,l)},function(l){return Sf(t,n,l)}):yg(t,n,r)}function yg(t,n,r){n.status="fulfilled",n.value=r,_g(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pg(t,r)))}function Sf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==l)}t.action=null}function _g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vg(t,n){return n}function Eg(t,n){if(Ge){var r=pt.formState;if(r!==null){e:{var l=Ne;if(Ge){if(vt){t:{for(var h=vt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ti(h.nextSibling),l=h.data==="F!";break e}}Ks(l)}l=!1}l&&(n=r[0])}}return r=vn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=l,r=Pg.bind(null,Ne,l),l.dispatch=r,l=Af(!1),f=Nf.bind(null,Ne,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=wT.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tg(t){var n=kt();return bg(n,ct,t)}function bg(t,n,r){if(n=Tf(t,n,vg)[0],t=Zu(hs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=lo(n)}catch(p){throw p===Ba?Hu:p}else l=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ka(9,{destroy:void 0},xT.bind(null,h,r),null)),[l,f,t]}function xT(t,n){t.action=n}function Ag(t){var n=kt(),r=ct;if(r!==null)return bg(n,r,t);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=$u(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sg(){return kt().memoizedState}function Wu(t,n,r,l){var h=vn();Ne.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function ec(t,n,r,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&pf(l,ct.memoizedState.deps)?h.memoizedState=Ka(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ka(1|n,f,r,l))}function wg(t,n){Wu(8390656,8,t,n)}function wf(t,n){ec(2048,8,t,n)}function RT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=$u(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function xg(t){var n=kt().memoizedState;return RT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rg(t,n){return ec(4,2,t,n)}function Ig(t,n){return ec(4,4,t,n)}function Cg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,Cg.bind(null,n,t),r)}function xf(){}function Dg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Og(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),ia){B(!0);try{t()}finally{B(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(cs&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=My(),Ne.lanes|=t,tr|=t,r)}function Mg(t,n,r,l){return kn(r,n)?r:qa.current!==null?(t=Rf(t,r,l),kn(t,n)||(qt=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(Pe&261930)===0?(qt=!0,t.memoizedState=r):(t=My(),Ne.lanes|=t,tr|=t,n)}function Vg(t,n,r,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Nf(t,!1,n,r);try{var R=h(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=bT(R,l);oo(t,n,F,Bn(t))}else oo(t,n,l,Bn(t))}catch($){oo(t,n,{then:function(){},status:"rejected",reason:$},Bn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function IT(){}function If(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=kg(t).queue;Vg(t,h,n,he,r===null?IT:function(){return Lg(t),r(l)})}function kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=kg(t);n.next===null&&(n=t.alternate.memoizedState),oo(t,n.next.queue,{},Bn())}function Cf(){return an(xo)}function Ug(){return kt().memoizedState}function jg(){return kt().memoizedState}function CT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Bn();t=Xs(r);var l=$s(n,t,r);l!==null&&(In(l,n,r),io(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function NT(t,n,r){var l=Bn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?zg(n,r):(r=Kh(t,n,r,l),r!==null&&(In(r,t,l),Bg(r,n,l)))}function Pg(t,n,r){var l=Bn();oo(t,n,r,l)}function oo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,kn(E,p))return ku(t,n,h,0),pt===null&&Vu(),!1}catch{}if(r=Kh(t,n,h,l),r!==null)return In(r,t,l),Bg(r,n,l),!0}return!1}function Nf(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=Kh(t,r,l,2),n!==null&&In(n,t,2)}function tc(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function zg(t,n){Ga=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,nn(t,r)}}var uo={readContext:an,use:Ju,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};uo.useEffectEvent=It;var Hg={readContext:an,use:Ju,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Cg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=vn();n=n===void 0?null:n;var l=t();if(ia){B(!0);try{t()}finally{B(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=vn();if(r!==void 0){var h=r(n);if(ia){B(!0);try{r(n)}finally{B(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=NT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Pg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=vn();return Rf(r,t,n)},useTransition:function(){var t=Af(!1);return t=Vg.bind(null,Ne,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=vn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),pt===null)throw Error(a(349));(Pe&127)!==0||ug(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(hg.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},cg.bind(null,l,f,r,n),null),r},useId:function(){var t=vn(),n=pt.identifierPrefix;if(Ge){var r=Ui,l=Li;r=(l&~(1<<32-X(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return vn().memoizedState=CT.bind(null,Ne)},useEffectEvent:function(t){var n=vn(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:an,use:Ju,useCallback:Dg,useContext:an,useEffect:wf,useImperativeHandle:Ng,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Og,useReducer:Zu,useRef:Sg,useState:function(){return Zu(hs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=kt();return Mg(r,ct.memoizedState,t,n)},useTransition:function(){var t=Zu(hs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Cf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=kt();return mg(r,ct,t,n)},useMemoCache:Ef,useCacheRefresh:jg};Df.useEffectEvent=xg;var qg={readContext:an,use:Ju,useCallback:Dg,useContext:an,useEffect:wf,useImperativeHandle:Ng,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Og,useReducer:bf,useRef:Sg,useState:function(){return bf(hs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=kt();return ct===null?Rf(r,t,n):Mg(r,ct.memoizedState,t,n)},useTransition:function(){var t=bf(hs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Cf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=kt();return ct!==null?mg(r,ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:jg};qg.useEffectEvent=xg;function Of(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Xs(l);h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(In(n,t,l),io(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Xs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(In(n,t,l),io(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Bn(),l=Xs(r);l.tag=2,n!=null&&(l.callback=n),n=$s(t,l,r),n!==null&&(In(n,t,r),io(n,t,r))}};function Gg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Xl(r,l)||!Xl(h,f):!0}function Fg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Kg(t){Mu(t)}function Yg(t){console.error(t)}function Qg(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function $g(t){return t=Xs(t),t.tag=3,t}function Jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Xg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Xg(n,r,l),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function DT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ja(n,r,h,!0),r=Un.current,r!==null){switch(r.tag){case 31:case 13:return ei===null?mc():r.alternate===null&&Ct===0&&(Ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),mc(),!1}if(Ge)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),Zl($n(t,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),Zl($n(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,r),h=Vf(t.stateNode,l,h),cf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,r),_o===null?_o=[f]:_o.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=$n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Jg(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),qt=!1;function ln(t,n,r,l){n.child=t===null?tg(n,null,r,l):na(n,t.child,r,l)}function Zg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Zr(n),l=gf(t,n,r,p,f,h),E=yf(),t!==null&&!qt?(_f(t,n,h),fs(t,n,h)):(Ge&&E&&$h(n),n.flags|=1,ln(t,n,l,h),n.child)}function Wg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ey(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xl,r(p,l)&&t.ref===n.ref)return fs(t,n,h)}return n.flags|=1,t=as(f,l),t.ref=n.ref,t.return=n,n.child=t}function ey(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Xl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,qf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,fs(t,n,h)}return Lf(t,n,r,l,h)}function ty(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ny(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):ff(),rg(n);else return l=n.lanes=536870912,ny(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Bu(n,f.cachePool),sg(n,f),Zs(),n.memoizedState=null):(t!==null&&Bu(n,null),ff(),Zs());return ln(t,n,h,r),n.child}function co(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(t,n,r,l,h){var f=af();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),ff(),rg(n),t!==null&&ja(t,n,l,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function iy(t,n,r){return na(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function OT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=ic(n,l),n.lanes=536870912,co(null,t);if(mf(n),(t=vt)?(t=p0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=n,n.child=r,rn=n,vt=null)):t=null,t===null)throw Ks(n);return n.lanes=536870912,null}return ic(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||ja(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(l=pt,l!==null&&(p=ts(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Qr(t,p),In(l,t,p),kf;mc(),n=iy(t,n,r)}else t=f.treeContext,vt=ti(p.nextSibling),rn=n,Ge=!0,Fs=null,Wn=!1,t!==null&&qp(n,t),n=ic(n,l),n.flags|=4096;return n}return t=as(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,l,h){return Zr(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!qt?(_f(t,n,h),fs(t,n,h)):(Ge&&l&&$h(n),n.flags|=1,ln(t,n,r,h),n.child)}function sy(t,n,r,l,h,f){return Zr(n),n.updateQueue=null,r=lg(n,l,r,h),ag(t),l=yf(),t!==null&&!qt?(_f(t,n,f),fs(t,n,f)):(Ge&&l&&$h(n),n.flags|=1,ln(t,n,r,f),n.child)}function ry(t,n,r,l,h){if(Zr(n),n.stateNode===null){var f=Va,p=r.contextType;typeof p=="object"&&p!==null&&(f=an(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?an(p):Va,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),ro(n,l,f,h),so(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=sa(r,E);f.props=R;var P=f.context,F=r.contextType;p=Va,typeof F=="object"&&F!==null&&(p=an(F));var $=r.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Fg(n,f,l,p),Qs=!1;var z=n.memoizedState;f.state=z,ro(n,l,f,h),so(),P=n.memoizedState,E||z!==P||Qs?(typeof $=="function"&&(Of(n,r,$,l),P=n.memoizedState),(R=Qs||Gg(n,r,R,l,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,F=sa(r,p),f.props=F,$=n.pendingProps,z=f.context,P=r.contextType,R=Va,typeof P=="object"&&P!==null&&(R=an(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==R)&&Fg(n,f,l,R),Qs=!1,z=n.memoizedState,f.state=z,ro(n,l,f,h),so();var q=n.memoizedState;p!==$||z!==q||Qs||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Of(n,r,E,l),q=n.memoizedState),(F=Qs||Gg(n,r,F,l,z,q,R)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=fs(t,n,h),t}function ay(t,n,r,l){return $r(),n.flags|=256,ln(t,n,r,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:Xp()}}function Pf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=zn),t}function ly(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Js(n):Zs(),(t=vt)?(t=p0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=n,n.child=r,rn=n,vt=null)):t=null,t===null)throw Ks(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Zs(),h=n.mode,E=rc({mode:"hidden",children:E},h),l=Xr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jf(r),l.childLanes=Pf(t,p,r),n.memoizedState=Uf,co(null,l)):(Js(n),zf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),E=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),E=Xr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,na(n,t.child,null,r),l=n.child,l.memoizedState=jf(r),l.childLanes=Pf(t,p,r),n.memoizedState=Uf,n=co(null,l));else if(Js(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Zl({value:l,source:null,stack:null}),n=Bf(t,n,r)}else if(qt||ja(t,n,r,!1),p=(r&t.childLanes)!==0,qt||p){if(p=pt,p!==null&&(l=ts(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Qr(t,l),In(p,t,l),kf;Ed(E)||mc(),n=Bf(t,n,r)}else Ed(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,vt=ti(E.nextSibling),rn=n,Ge=!0,Fs=null,Wn=!1,t!==null&&qp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(Zs(),E=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=as(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=as(P,E):(E=Xr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,co(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jf(r):(h=E.cachePool,h!==null?(R=Bt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Xp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Pf(t,p,r),n.memoizedState=Uf,co(t.child,l)):(Js(n),r=t.child,t=r.sibling,r=as(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return na(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function oy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function Hf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function uy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Vt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(Vt,p),ln(t,n,l,r),l=Ge?Jl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,n);else if(t.tag===19)oy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,l);break;case"together":Hf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function fs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ja(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=as(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=as(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function MT(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Ys(n,Bt,t.memoizedState.cache),$r();break;case 27:case 5:Qi(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ly(t,n,r):(Js(n),t=fs(t,n,r),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ja(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return uy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,ty(t,n,r,n.pendingProps);case 24:Ys(n,Bt,t.memoizedState.cache)}return fs(t,n,r)}function cy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!qf(t,r)&&(n.flags&128)===0)return qt=!1,MT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Ge&&(n.flags&1048576)!==0&&Hp(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")Yh(t)?(l=sa(t,l),n.tag=1,n=ry(null,n,t,l,r)):(n.tag=0,n=Lf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===it){n.tag=11,n=Zg(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=Wg(null,n,t,l,r);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=sa(l,n.pendingProps),ry(t,n,l,h,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),ro(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ys(n,Bt,l),l!==f.cache&&nf(n,[Bt],r,!0),so(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(t,n,l,r);break e}else if(l!==h){h=$n(Error(a(424)),n),Zl(h),n=ay(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=ti(t.firstChild),rn=n,Ge=!0,Fs=null,Wn=!0,r=tg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),l===h){n=fs(t,n,r);break e}ln(t,n,l,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=T0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,l=Tc(Ie.current).createElement(r),l[jt]=n,l[Zt]=t,on(l,r,t),Pt(l),n.stateNode=l):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qi(n),t===null&&Ge&&(l=n.stateNode=_0(n.type,n.pendingProps,Ie.current),rn=n,Wn=!0,h=vt,ar(n.type)?(bd=h,vt=ti(l.firstChild)):vt=h),ln(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=vt)&&(l=ub(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,rn=n,vt=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Ks(n)),Qi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,ST,null,null,r),xo._currentValue=h),sc(t,n),ln(t,n,l,r),n.child;case 6:return t===null&&Ge&&((t=r=vt)&&(r=cb(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,rn=n,vt=null,t=!0):t=!1),t||Ks(n)),null;case 13:return ly(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,r):ln(t,n,l,r),n.child;case 11:return Zg(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ys(n,n.type,l.value),ln(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Zr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,r),n.child;case 14:return Wg(t,n,n.type,n.pendingProps,r);case 15:return ey(t,n,n.type,n.pendingProps,r);case 19:return uy(t,n,r);case 31:return OT(t,n,r);case 22:return ty(t,n,r,n.pendingProps);case 24:return Zr(n),l=an(Bt),t===null?(h=af(),h===null&&(h=pt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),Ys(n,Bt,h)):((t.lanes&r)!==0&&(uf(t,n),ro(n,null,null,r),so()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ys(n,Bt,l)):(l=f.cache,Ys(n,Bt,l),l!==h.cache&&nf(n,[Bt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ds(t){t.flags|=4}function Gf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw ta=qu,lf}else t.flags&=-16777217}function hy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x0(n))if(Uy())t.flags|=8192;else throw ta=qu,lf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?et():536870912,t.lanes|=n,$a|=n)}function ho(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function VT(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Et(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),us(Bt),gt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?ds(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),Et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ds(n),f!==null?(Et(n),hy(n,f)):(Et(n),Gf(n,h,null,l,r))):f?f!==t.memoizedState?(ds(n),Et(n),hy(n,f)):(Et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ds(n),Et(n),Gf(n,h,t,l,r)),null;case 27:if(Xi(n),r=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}t=re.current,Ua(n)?Gp(n):(t=_0(h,l,r),n.stateNode=t,ds(n))}return Et(n),null;case 5:if(Xi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}if(f=re.current,Ua(n))Gp(n);else{var p=Tc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[jt]=n,f[Zt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ds(n)}}return Et(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ds(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||l0(t.nodeValue,r)),t||Ks(n,!0)}else t=Tc(t).createTextNode(l),t[jt]=n,n.stateNode=t}return Et(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Et(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),Et(n),null);case 4:return gt(),t===null&&fd(n.stateNode.containerInfo),Et(n),null;case 10:return us(n.type),Et(n),null;case 19:if(Q(Vt),l=n.memoizedState,l===null)return Et(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ho(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ho(l,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pp(r,t),r=r.sibling;return ie(Vt,Vt.current&1|2),Ge&&ls(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ot()>hc&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),ho(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return Et(n),null}else 2*Ot()-l.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ot(),t.sibling=null,r=Vt.current,ie(Vt,h?r&1|2:r&1),Ge&&ls(n,l.treeForkCount),t):(Et(n),null);case 22:case 23:return jn(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),us(Bt),Et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return us(Bt),gt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xi(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Vt),null;case 4:return gt(),null;case 10:return us(n.type),null;case 22:case 23:return jn(n),df(),t!==null&&Q(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return us(Bt),null;case 25:return null;default:return null}}function fy(t,n){switch(Jh(n),n.tag){case 3:us(Bt),gt();break;case 26:case 27:case 5:Xi(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Q(Vt);break;case 10:us(n.type);break;case 22:case 23:jn(n),df(),t!==null&&Q(Wr);break;case 24:us(Bt)}}function fo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){lt(n,n.return,E)}}function Ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(F){lt(h,R,F)}}}l=l.next}while(l!==f)}}catch(F){lt(n,n.return,F)}}function dy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(l){lt(t,t.return,l)}}}function my(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){lt(t,n,l)}}function mo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){lt(t,n,h)}}function ji(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Ff(t,n,r){try{var l=t.stateNode;ib(l,t.type,r,n),l[Zt]=n}catch(h){lt(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Yf(t,n,r),t=t.sibling;t!==null;)Yf(t,n,r),t=t.sibling}function lc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function yy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,r),n[jt]=t,n[Zt]=r}catch(f){lt(t,t.return,f)}}var ms=!1,Gt=!1,Qf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,en=null;function LT(t,n){if(t=t.containerInfo,pd=Ic,t=Np(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,R=-1,P=0,F=0,$=t,z=null;t:for(;;){for(var q;$!==r||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(R=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(q=$.firstChild)!==null;)z=$,$=q;for(;;){if($===t)break t;if(z===r&&++P===h&&(E=p),z===f&&++F===l&&(R=p),(q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},Ic=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var le=sa(r.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){lt(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function vy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:gs(t,r),l&4&&fo(5,r);break;case 1:if(gs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(r,r.return,p)}else{var h=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(r,r.return,p)}}l&64&&dy(r),l&512&&mo(r,r.return);break;case 3:if(gs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(t,n)}catch(p){lt(r,r.return,p)}}break;case 27:n===null&&l&4&&yy(r);case 26:case 5:gs(t,r),n===null&&l&4&&py(r),l&512&&mo(r,r.return);break;case 12:gs(t,r);break;case 31:gs(t,r),l&4&&by(t,r);break;case 13:gs(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FT.bind(null,r),hb(t,r))));break;case 22:if(l=r.memoizedState!==null||ms,!l){n=n!==null&&n.memoizedState!==null||Gt,h=ms;var f=Gt;ms=l,(Gt=n)&&!f?ys(t,r,(r.subtreeFlags&8772)!==0):gs(t,r),ms=h,Gt=f}break;case 30:break;default:gs(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Sn=!1;function ps(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(On,r)}catch{}switch(r.tag){case 26:Gt||ji(r,n),ps(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gt||ji(r,n);var l=At,h=Sn;ar(r.type)&&(At=r.stateNode,Sn=!1),ps(t,n,r),Ao(r.stateNode),At=l,Sn=h;break;case 5:Gt||ji(r,n);case 6:if(l=At,h=Sn,At=null,ps(t,n,r),At=l,Sn=h,At!==null)if(Sn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{At.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:At!==null&&(Sn?(t=At,d0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):d0(At,r.stateNode));break;case 4:l=At,h=Sn,At=r.stateNode.containerInfo,Sn=!0,ps(t,n,r),At=l,Sn=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Gt||Ws(4,r,n),ps(t,n,r);break;case 1:Gt||(ji(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&my(r,n,l)),ps(t,n,r);break;case 21:ps(t,n,r);break;case 22:Gt=(l=Gt)||r.memoizedState!==null,ps(t,n,r),Gt=l;break;default:ps(t,n,r)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){lt(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){lt(n,n.return,r)}}function UT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _y),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _y),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=UT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=KT.bind(null,t,l);l.then(h,h)}})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){At=E.stateNode,Sn=!1;break e}break;case 5:At=E.stateNode,Sn=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(At===null)throw Error(a(160));Ty(f,p,h),At=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var pi=null;function Sy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),xn(t),l&4&&(Ws(3,t,t.return),fo(3,t),Ws(5,t,t.return));break;case 1:wn(n,t),xn(t),l&512&&(Gt||r===null||ji(r,r.return)),l&64&&ms&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=pi;if(wn(n,t),xn(t),l&512&&(Gt||r===null||ji(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,r),f[jt]=t,Pt(f),l=f;break e;case"link":var p=S0("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;case"meta":if(p=S0("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[jt]=t,Pt(f),l=f}t.stateNode=l}else w0(h,t.type,t.stateNode);else t.stateNode=A0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?w0(h,t.type,t.stateNode):A0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:wn(n,t),xn(t),l&512&&(Gt||r===null||ji(r,r.return)),r!==null&&l&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(wn(n,t),xn(t),l&512&&(Gt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(le){lt(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(wn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){lt(t,t.return,le)}}break;case 3:if(Sc=null,h=pi,pi=bc(n.containerInfo),wn(n,t),pi=h,xn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(le){lt(t,t.return,le)}Qf&&(Qf=!1,wy(t));break;case 4:l=pi,pi=bc(t.stateNode.containerInfo),wn(n,t),xn(t),pi=l;break;case 12:wn(n,t),xn(t);break;case 31:wn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 13:wn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=ms,F=Gt;if(ms=P||h,Gt=F||R,wn(n,t),Gt=F,ms=P,xn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ms||Gt||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){lt(R,R.return,le)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(le){lt(R,R.return,le)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?m0(q,!0):m0(R.stateNode,!1)}catch(le){lt(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,oc(t,r))));break;case 19:wn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 30:break;case 21:break;default:wn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(gy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(An(p,""),r.flags&=-33);var E=Kf(t);lc(t,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Kf(t);Yf(t,P,R);break;default:throw Error(a(161))}}catch(F){lt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),ra(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),ra(n);break;case 27:Ao(n.stateNode);case 26:case 5:ji(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function ys(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ys(h,f,r),fo(4,f);break;case 1:if(ys(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){lt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ng(R[h],E)}catch(P){lt(l,l.return,P)}}r&&p&64&&dy(f),mo(f,f.return);break;case 27:yy(f);case 26:case 5:ys(h,f,r),r&&l===null&&p&4&&py(f),mo(f,f.return);break;case 12:ys(h,f,r);break;case 31:ys(h,f,r),r&&p&4&&by(h,f);break;case 13:ys(h,f,r),r&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ys(h,f,r),mo(f,f.return);break;case 30:break;default:ys(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Wl(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t))}function gi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,r,l),n=n.sibling}function xy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,r,l),h&2048&&fo(9,n);break;case 1:gi(t,n,r,l);break;case 3:gi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t)));break;case 12:if(h&2048){gi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){lt(n,n.return,R)}}else gi(t,n,r,l);break;case 31:gi(t,n,r,l);break;case 13:gi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,r,l):po(t,n):f._visibility&2?gi(t,n,r,l):(f._visibility|=2,Ya(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:gi(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:gi(t,n,r,l)}}function Ya(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,E,R,h),fo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ya(f,p,E,R,h):po(f,p):(F._visibility|=2,Ya(f,p,E,R,h)),h&&P&2048&&Xf(p.alternate,p);break;case 24:Ya(f,p,E,R,h),h&&P&2048&&$f(p.alternate,p);break;default:Ya(f,p,E,R,h)}n=n.sibling}}function po(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:po(r,l),h&2048&&Xf(l.alternate,l);break;case 24:po(r,l),h&2048&&$f(l.alternate,l);break;default:po(r,l)}n=n.sibling}}var go=8192;function Qa(t,n,r){if(t.subtreeFlags&go)for(t=t.child;t!==null;)Ry(t,n,r),t=t.sibling}function Ry(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&go&&t.memoizedState!==null&&Ab(r,pi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=pi;pi=bc(t.stateNode.containerInfo),Qa(t,n,r),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=go,go=16777216,Qa(t,n,r),go=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];en=l,Ny(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):yo(t);break;default:yo(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];en=l,Ny(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Ny(t,n){for(;en!==null;){var r=en;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,en=l;else e:for(r=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(Ey(l),l===r){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var jT={getCacheForType:function(t){var n=an(Bt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return an(Bt).controller.signal}},PT=typeof WeakMap=="function"?WeakMap:Map,We=0,pt=null,Ve=null,Pe=0,at=0,Pn=null,er=!1,Xa=!1,Jf=!1,_s=0,Ct=0,tr=0,aa=0,Zf=0,zn=0,$a=0,_o=null,Rn=null,Wf=!1,cc=0,Dy=0,hc=1/0,fc=null,nr=null,Xt=0,ir=null,Ja=null,vs=0,ed=0,td=null,Oy=null,vo=0,nd=null;function Bn(){return(We&2)!==0&&Pe!==0?Pe&-Pe:G.T!==null?od():ns()}function My(){if(zn===0)if((Pe&536870912)===0||Ge){var t=De;De<<=1,(De&3932160)===0&&(De=262144),zn=t}else zn=536870912;return t=Un.current,t!==null&&(t.flags|=32),zn}function In(t,n,r){(t===pt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Za(t,0),sr(t,Pe,zn,!1)),yn(t,r),((We&2)===0||t!==pt)&&(t===pt&&((We&2)===0&&(aa|=r),Ct===4&&sr(t,Pe,zn,!1)),Pi(t))}function Vy(t,n,r){if((We&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||_t(t,n),h=l?HT(t,n):sd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zT(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=_o;var R=E.current.memoizedState.isDehydrated;if(R&&(Za(E,p).flags|=256),p=sd(E,p,!1),p!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),sr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,zn,!er);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-Ot(),10<h)){if(sr(l,n,zn,!er),Ee(l,0,!0)!==0)break e;vs=n,l.timeoutHandle=h0(ky.bind(null,l,r,Rn,fc,Wf,n,zn,aa,$a,er,f,"Throttled",-0,0),h);break e}ky(l,r,Rn,fc,Wf,n,zn,aa,$a,er,f,null,-0,0)}}break}while(!0);Pi(t)}function ky(t,n,r,l,h,f,p,E,R,P,F,$,z,q){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Ry(n,f,$);var le=(f&62914560)===f?cc-Ot():(f&4194048)===f?Dy-Ot():0;if(le=Sb($,le),le!==null){vs=f,t.cancelPendingCommit=le(qy.bind(null,t,n,f,r,l,h,p,E,R,F,$,null,z,q)),sr(t,f,p,!P);return}}qy(t,n,f,r,l,h,p,E,R)}function zT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Zf,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-X(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&ai(t,r,n)}function dc(){return(We&6)===0?(Eo(0),!1):!0}function id(){if(Ve!==null){if(at===0)var t=Ve.return;else t=Ve,os=Jr=null,vf(t),Ha=null,to=0,t=Ve;for(;t!==null;)fy(t.alternate,t),t=t.return;Ve=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ab(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),vs=0,id(),pt=t,Ve=r=as(t.current,null),Pe=n,at=0,Pn=null,er=!1,Xa=_t(t,n),Jf=!1,$a=zn=Zf=aa=tr=Ct=0,Rn=_o=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-X(l),f=1<<h;n|=t[h],l&=~f}return _s=n,Vu(),r}function Ly(t,n){Ne=null,G.H=uo,n===Ba||n===Hu?(n=Zp(),at=3):n===lf?(n=Zp(),at=4):at=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,Ve===null&&(Ct=1,nc(t,$n(n,t.current)))}function Uy(){var t=Un.current;return t===null?!0:(Pe&4194048)===Pe?ei===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ei:!1}function jy(){var t=G.H;return G.H=uo,t===null?uo:t}function Py(){var t=G.A;return G.A=jT,t}function mc(){Ct=4,er||(Pe&4194048)!==Pe&&Un.current!==null||(Xa=!0),(tr&134217727)===0&&(aa&134217727)===0||pt===null||sr(pt,Pe,zn,!1)}function sd(t,n,r){var l=We;We|=2;var h=jy(),f=Py();(pt!==t||Pe!==n)&&(fc=null,Za(t,n)),n=!1;var p=Ct;e:do try{if(at!==0&&Ve!==null){var E=Ve,R=Pn;switch(at){case 8:id(),p=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var P=at;if(at=0,Pn=null,Wa(t,E,R,P),r&&Xa){p=0;break e}break;default:P=at,at=0,Pn=null,Wa(t,E,R,P)}}BT(),p=Ct;break}catch(F){Ly(t,F)}while(!0);return n&&t.shellSuspendCounter++,os=Jr=null,We=l,G.H=h,G.A=f,Ve===null&&(pt=null,Pe=0,Vu()),p}function BT(){for(;Ve!==null;)zy(Ve)}function HT(t,n){var r=We;We|=2;var l=jy(),h=Py();pt!==t||Pe!==n?(fc=null,hc=Ot()+500,Za(t,n)):Xa=_t(t,n);e:do try{if(at!==0&&Ve!==null){n=Ve;var f=Pn;t:switch(at){case 1:at=0,Pn=null,Wa(t,n,f,1);break;case 2:case 9:if($p(f)){at=0,Pn=null,By(n);break}n=function(){at!==2&&at!==9||pt!==t||(at=7),Pi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:$p(f)?(at=0,Pn=null,By(n)):(at=0,Pn=null,Wa(t,n,f,7));break;case 5:var p=null;switch(Ve.tag){case 26:p=Ve.memoizedState;case 5:case 27:var E=Ve;if(p?x0(p):E.stateNode.complete){at=0,Pn=null;var R=E.sibling;if(R!==null)Ve=R;else{var P=E.return;P!==null?(Ve=P,pc(P)):Ve=null}break t}}at=0,Pn=null,Wa(t,n,f,5);break;case 6:at=0,Pn=null,Wa(t,n,f,6);break;case 8:id(),Ct=6;break e;default:throw Error(a(462))}}qT();break}catch(F){Ly(t,F)}while(!0);return os=Jr=null,G.H=l,G.A=h,We=r,Ve!==null?0:(pt=null,Pe=0,Vu(),Ct)}function qT(){for(;Ve!==null&&!Dl();)zy(Ve)}function zy(t){var n=cy(t.alternate,t,_s);t.memoizedProps=t.pendingProps,n===null?pc(t):Ve=n}function By(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:vf(n);default:fy(r,n),n=Ve=Pp(n,_s),n=cy(r,n,_s)}t.memoizedProps=t.pendingProps,n===null?pc(t):Ve=n}function Wa(t,n,r,l){os=Jr=null,vf(n),Ha=null,to=0;var h=n.return;try{if(DT(t,h,n,r,Pe)){Ct=1,nc(t,$n(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Ct=1,nc(t,$n(r,t.current)),Ve=null;return}n.flags&32768?(Ge||l===1?t=!0:Xa||(Pe&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,er);return}t=n.return;var r=VT(n.alternate,n,_s);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Ct===0&&(Ct=5)}function Hy(t,n){do{var r=kT(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);Ct=6,Ve=null}function qy(t,n,r,l,h,f,p,E,R){t.cancelPendingCommit=null;do gc();while(Xt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Vs(t,r,f,p,E,R),t===pt&&(Ve=pt=null,Pe=0),Ja=n,ir=t,vs=r,ed=f,td=h,Oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YT(bi,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,p=We,We|=4;try{LT(t,n,r)}finally{We=p,ne.p=h,G.T=l}}Xt=1,Gy(),Fy(),Ky()}}function Gy(){if(Xt===1){Xt=0;var t=ir,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=We;We|=4;try{Sy(n,t);var f=gd,p=Np(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Cp(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,ye=Math.min(R.start,le),ft=R.end===void 0?ye:Math.min(R.end,le);!q.extend&&ye>ft&&(p=ft,ft=ye,ye=p);var k=Ip(E,ye),O=Ip(E,ft);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),ye>ft?(q.addRange(j),q.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),q.addRange(j))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ic=!!pd,gd=pd=null}finally{We=h,ne.p=l,G.T=r}}t.current=n,Xt=2}}function Fy(){if(Xt===2){Xt=0;var t=ir,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=We;We|=4;try{vy(t,n.alternate,n)}finally{We=h,ne.p=l,G.T=r}}Xt=3}}function Ky(){if(Xt===4||Xt===3){Xt=0,ya();var t=ir,n=Ja,r=vs,l=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ja=ir=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),ge(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(vs&3)!==0&&gc(),Pi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?vo++:(vo=0,nd=t):vo=0,Eo(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wl(n)))}function gc(){return Gy(),Fy(),Ky(),Qy()}function Qy(){if(Xt!==5)return!1;var t=ir,n=ed;ed=0;var r=ge(vs),l=G.T,h=ne.p;try{ne.p=32>r?32:r,G.T=null,r=td,td=null;var f=ir,p=vs;if(Xt=0,Ja=ir=null,vs=0,(We&6)!==0)throw Error(a(331));var E=We;if(We|=4,Cy(f.current),xy(f,f.current,p,r),We=E,Eo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{ne.p=h,G.T=l,Yy(t,n)}}function Xy(t,n,r){n=$n(r,n),n=Vf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(yn(t,2),Pi(t))}function lt(t,n,r){if(t.tag===3)Xy(t,t,r);else for(;n!==null;){if(n.tag===3){Xy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=$n(r,t),r=$g(2),l=$s(n,r,2),l!==null&&(Jg(r,l,n,t),yn(l,2),Pi(l));break}}n=n.return}}function rd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new PT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=GT.bind(null,t,n,r),n.then(t,t))}function GT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,pt===t&&(Pe&r)===r&&(Ct===4||Ct===3&&(Pe&62914560)===Pe&&300>Ot()-cc?(We&2)===0&&Za(t,0):Zf|=r,$a===Pe&&($a=0)),Pi(t)}function $y(t,n){n===0&&(n=et()),t=Qr(t,n),t!==null&&(yn(t,n),Pi(t))}function FT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(t,r)}function KT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),$y(t,r)}function YT(t,n){return Dt(t,n)}var yc=null,el=null,ad=!1,_c=!1,ld=!1,rr=0;function Pi(t){t!==el&&t.next===null&&(el===null?yc=el=t:el=el.next=t),_c=!0,ad||(ad=!0,XT())}function Eo(t,n){if(!ld&&_c){ld=!0;do for(var r=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-X(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,e0(l,f))}else f=Pe,f=Ee(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||_t(l,f)||(r=!0,e0(l,f));l=l.next}while(r);ld=!1}}function QT(){Jy()}function Jy(){_c=ad=!1;var t=0;rr!==0&&rb()&&(t=rr);for(var n=Ot(),r=null,l=yc;l!==null;){var h=l.next,f=Zy(l,n);f===0?(l.next=null,r===null?yc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}Xt!==0&&Xt!==5||Eo(t),rr!==0&&(rr=0)}function Zy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-X(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Ut(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=pt,r=Pe,r=Ee(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ti(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||_t(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ti(l),ge(r)){case 2:case 8:r=kr;break;case 32:r=bi;break;case 268435456:r=Tn;break;default:r=bi}return l=Wy.bind(null,t),r=Dt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ti(l),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=Pe;return l=Ee(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vy(t,l,n),Zy(t,Ot()),t.callbackNode!=null&&t.callbackNode===r?Wy.bind(null,t):null)}function e0(t,n){if(gc())return null;Vy(t,n,!0)}function XT(){lb(function(){(We&6)!==0?Dt(Vr,QT):Jy()})}function od(){if(rr===0){var t=Pa;t===0&&(t=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),rr=t}return rr}function t0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function n0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $T(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=t0((h[Zt]||null).action),p=l.submitter;p&&(n=(n=p[Zt]||null)?t0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Oi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var R=p?n0(h,p):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?n0(h,p):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],JT=cd.toLowerCase(),ZT=cd[0].toUpperCase()+cd.slice(1);mi(JT,"on"+ZT)}mi(Mp,"onAnimationEnd"),mi(Vp,"onAnimationIteration"),mi(kp,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(mT,"onTransitionRun"),mi(pT,"onTransitionStart"),mi(gT,"onTransitionCancel"),mi(Lp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function i0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=R}}}}function ke(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(s0(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),s0(r,t,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[vc]){t[vc]=!0,Ol.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,hd("selectionchange",!1,n))}}function s0(t,n,r,l){switch(M0(n)){case 2:var h=Rb;break;case 8:h=Ib;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=wi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}E=E.parentNode}}l=l.return}zs(function(){var P=f,F=Kn(r),$=[];e:{var z=Up.get(t);if(z!==void 0){var q=Oi,le=t;switch(t){case"keypress":if(Hr(r)===0)break e;case"keydown":case"keyup":q=Nu;break;case"focusin":le="focus",q=Gr;break;case"focusout":le="blur",q=Gr;break;case"beforeblur":case"afterblur":q=Gr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case Vp:case kp:q=Au;break;case Lp:q=b;break;case"scroll":case"scrollend":q=Gl;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=rs;break;case"toggle":case"beforetoggle":q=Ce}var ye=(n&4)!==0,ft=!ye&&(t==="scroll"||t==="scrollend"),k=ye?z!==null?z+"Capture":null:z;ye=[];for(var O=P,j;O!==null;){var Y=O;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=ci(O,k),Y!=null&&ye.push(bo(O,Y,j))),ft)break;O=O.return}0<ye.length&&(z=new q(z,le,null,r,F),$.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Bl&&(le=r.relatedTarget||r.fromElement)&&(wi(le)||le[Ai]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=r.relatedTarget||r.toElement,q=P,le=le?wi(le):null,le!==null&&(ft=c(le),ye=le.tag,le!==ft||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(q=null,le=P),q!==le)){if(ye=Fl,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=rs,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ft=q==null?z:Mn(q),j=le==null?z:Mn(le),z=new ye(Y,O+"leave",q,r,F),z.target=ft,z.relatedTarget=j,Y=null,wi(F)===P&&(ye=new ye(k,O+"enter",le,r,F),ye.target=j,ye.relatedTarget=ft,Y=ye),ft=Y,q&&le)t:{for(ye=eb,k=q,O=le,j=0,Y=k;Y;Y=ye(Y))j++;Y=0;for(var de=O;de;de=ye(de))Y++;for(;0<j-Y;)k=ye(k),j--;for(;0<Y-j;)O=ye(O),Y--;for(;j--;){if(k===O||O!==null&&k===O.alternate){ye=k;break t}k=ye(k),O=ye(O)}ye=null}else ye=null;q!==null&&r0($,z,q,ye,!1),le!==null&&ft!==null&&r0($,ft,le,ye,!0)}}e:{if(z=P?Mn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var $e=bp;else if(Ep(z))if(Ap)$e=hT;else{$e=uT;var oe=oT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Aa(P.elementType)&&($e=bp):$e=cT;if($e&&($e=$e(t,P))){Tp($,$e,r,F);break e}oe&&oe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&jl(z,"number",z.value)}switch(oe=P?Mn(P):window,t){case"focusin":(Ep(oe)||oe.contentEditable==="true")&&(Da=oe,Bh=P,$l=null);break;case"focusout":$l=Bh=Da=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Dp($,r,F);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Dp($,r,F)}var Oe;if(Ze)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Na?Fr(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(ki&&r.locale!=="ko"&&(Na||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Na&&(Oe=ql()):(Di=F,Hl="value"in Di?Di.value:Di.textContent,Na=!0)),oe=Ec(P,ze),0<oe.length&&(ze=new Vi(ze,t,null,r,F),$.push({event:ze,listeners:oe}),Oe?ze.data=Oe:(Oe=Ca(r),Oe!==null&&(ze.data=Oe)))),(Oe=Qn?sT(t,r):rT(t,r))&&(ze=Ec(P,"onBeforeInput"),0<ze.length&&(oe=new Vi("onBeforeInput","beforeinput",null,r,F),$.push({event:oe,listeners:ze}),oe.data=Oe)),$T($,t,P,r,F)}i0($,n)})}function bo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,r),h!=null&&l.unshift(bo(t,h,f)),h=ci(t,n),h!=null&&l.push(bo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=ci(r,f),P!=null&&p.unshift(bo(r,P,R))):h||(P=ci(r,f),P!=null&&p.push(bo(r,P,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function a0(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function l0(t,n){return n=a0(n),a0(t)===n}function ht(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,r,l);break;case"style":zl(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,Ta(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":zl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ta(t,r,l)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,r,null)}}h&&ht(t,n,"srcSet",r.srcSet,r,null),l&&ht(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=f=p=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ht(t,n,l,F,r,null)}}yu(t,f,E,R,P,p,h,!1);return;case"select":ke("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ht(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Ls(t,!!l,n,!1):r!=null&&Ls(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,r,null)}Us(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,R,l,r,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<To.length;l++)ke(To[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,P,l,r,null)}return;default:if(Aa(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&md(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ht(t,n,E,l,r,null))}function ib(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,F=null;for(q in r){var $=r[q];if(r.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(q)||ht(t,n,q,null,l,$)}}for(var z in l){var q=l[z];if($=r[z],l.hasOwnProperty(z)&&(q!=null||$!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&ht(t,n,z,q,l,$)}}ba(t,p,E,R,P,F,f,h);return;case"select":q=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&ht(t,n,h,f,l,R)}n=E,r=p,l=q,z!=null?Ls(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ls(t,!!r,n,!0):Ls(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,l,f)}_u(t,z,q);return;case"option":for(var le in r)z=r[le],r.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:ht(t,n,le,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ht(t,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)z=r[ye],r.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&ht(t,n,ye,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,P,z,l,q)}return;default:if(Aa(n)){for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!==void 0&&!l.hasOwnProperty(ft)&&md(t,n,ft,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||md(t,n,F,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ht(t,n,k,null,l,z);for($ in l)z=l[$],q=r[$],!l.hasOwnProperty($)||z===q||z==null&&q==null||ht(t,n,$,z,l,q)}function o0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&o0(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>E)break;var F=R.transferSize,$=R.initiatorType;F&&o0($)&&(R=R.responseEnd,p+=F*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function u0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(t){return f0.resolve(null).then(t).catch(ob)}:h0;function ob(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function d0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ao(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ao(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Ao(t.ownerDocument.body);r=h}while(r);sl(n)}function m0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ub(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function cb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ti(t.nextSibling),t===null))return null;return t}function p0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function g0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ti(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function y0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function _0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ao(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ni=new Map,v0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=ne.d;ne.d={f:fb,r:db,D:mb,C:pb,L:gb,m:yb,X:vb,S:_b,M:Eb};function fb(){var t=Es.f(),n=dc();return t||n}function db(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):Es.r(t)}var tl=typeof document>"u"?null:document;function E0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v0.has(h)||(v0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function mb(t){Es.D(t),E0("dns-prefetch",t,null)}function pb(t,n){Es.C(t,n),E0("preconnect",t,n)}function gb(t,n,r){Es.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+bn(r.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(wo(f))||(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function yb(t,n){Es.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wo(f)))return}l=r.createElement("link"),on(l,"link",t),Pt(l),r.head.appendChild(l)}}}function _b(t,n,r){Es.S(t,n,r);var l=tl;if(l&&t){var h=xi(l).hoistableStyles,f=nl(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(So(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ni.get(f))&&Ad(t,r);var R=p=l.createElement("link");Pt(R),on(R,"link",t),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function vb(t,n){Es.X(t,n);var r=tl;if(r&&t){var l=xi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(wo(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&Sd(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Eb(t,n){Es.M(t,n);var r=tl;if(r&&t){var l=xi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(wo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&Sd(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T0(t,n,r,l){var h=(h=Ie.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=xi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=xi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(So(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(t,r),f||Tb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=xi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+bn(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function b0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",r),Pt(n),t.head.appendChild(n))}function il(t){return'[src="'+bn(t)+'"]'}function wo(t){return"script[async]"+t}function A0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(r.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),on(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=b0(r),(h=ni.get(h))&&Ad(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),on(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(wo(f)))?(n.instance=h,Pt(h),h):(l=r,(h=ni.get(f))&&(l=S({},r),Sd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function S0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function w0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ab(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Pt(f);return}f=n.ownerDocument||n,l=b0(l),(h=ni.get(h))&&Ad(l,h),f=f.createElement("link"),Pt(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),on(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function Sb(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(wb,t),xc=null,wc.call(t))}function wb(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var l=r.get(null);else{r=new Map,xc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:be,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function xb(t,n,r,l,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.hiddenUpdates=yt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function R0(t,n,r,l,h,f,p,E,R,P,F,$){return t=new xb(t,n,r,p,R,P,F,$,E),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function I0(t){return t?(t=Va,t):Va}function C0(t,n,r,l,h,f){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$s(t,l,n),r!==null&&(In(r,t,n),io(r,t,n))}function N0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){N0(t,n),(t=t.alternate)&&N0(t,n)}function D0(t){if(t.tag===13||t.tag===31){var n=Qr(t,67108864);n!==null&&In(n,t,67108864),xd(t,67108864)}}function O0(t){if(t.tag===13||t.tag===31){var n=Bn();n=Ae(n);var r=Qr(t,n);r!==null&&In(r,t,n),xd(t,n)}}var Ic=!0;function Rb(t,n,r,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Rd(t,n,r,l)}finally{ne.p=f,G.T=h}}function Ib(t,n,r,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Rd(t,n,r,l)}finally{ne.p=f,G.T=h}}function Rd(t,n,r,l){if(Ic){var h=Id(l);if(h===null)dd(t,n,l,Cc,r),V0(t,l);else if(Nb(h,t,n,r,l))l.stopPropagation();else if(V0(t,l),n&4&&-1<Cb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ke(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-X(p);E.entanglements[1]|=R,p&=~R}Pi(f),(We&6)===0&&(hc=Ot()+500,Eo(0))}}break;case 31:case 13:E=Qr(f,2),E!==null&&In(E,f,2),dc(),xd(f,2)}if(f=Id(l),f===null&&dd(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Id(t){return t=Kn(t),Cd(t)}var Cc=null;function Cd(t){if(Cc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function M0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Vr:return 2;case kr:return 8;case bi:case _a:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var Nd=!1,lr=null,or=null,ur=null,Ro=new Map,Io=new Map,cr=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Co(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&D0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nb(t,n,r,l,h){switch(n){case"focusin":return lr=Co(lr,t,n,r,l,h),!0;case"dragenter":return or=Co(or,t,n,r,l,h),!0;case"mouseover":return ur=Co(ur,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Co(Ro.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Io.set(f,Co(Io.get(f)||null,t,n,r,l,h)),!0}return!1}function k0(t){var n=wi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,li(t.priority,function(){O0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,li(t.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Bl=l,r.target.dispatchEvent(l),Bl=null}else return n=Fn(r),n!==null&&D0(n),t.blockedOn=r,!1;n.shift()}return!0}function L0(t,n,r){Nc(t)&&r.delete(n)}function Db(){Nd=!1,lr!==null&&Nc(lr)&&(lr=null),or!==null&&Nc(or)&&(or=null),ur!==null&&Nc(ur)&&(ur=null),Ro.forEach(L0),Io.forEach(L0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Oc=null;function U0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Cd(l||r)===null)continue;break}var f=Fn(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(R){return Dc(R,t)}lr!==null&&Dc(lr,t),or!==null&&Dc(or,t),ur!==null&&Dc(ur,t),Ro.forEach(n),Io.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)k0(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Zt]||null;if(typeof f=="function")p||U0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Zt]||null)E=p.formAction;else if(Cd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),U0(r)}}}function j0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Mc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Bn();C0(r,l,t,n,null,null)},Mc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;C0(t.current,2,null,t,null,null),dc(),n[Ai]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ns();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&k0(t)}};var P0=e.version;if(P0!=="19.2.3")throw Error(a(527,P0,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{On=Vc.inject(Ob),Qt=Vc}catch{}}return Do.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Kg,f=Yg,p=Qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R0(t,1,!1,null,null,r,l,null,h,f,p,j0),t[Ai]=n.current,fd(t),new Dd(n)},Do.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Kg,p=Yg,E=Qg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=R0(t,1,!0,n,r??null,l,h,R,f,p,E,j0),n.context=I0(null),r=n.current,l=Bn(),l=Ae(l),h=Xs(l),h.callback=null,$s(r,h,l),r=l,n.current.lanes=r,yn(n,r),Pi(n),t[Ai]=n.current,fd(t),new Mc(n)},Do.version="19.2.3",Do}var X0;function Hb(){if(X0)return Vd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=Bb(),Vd.exports}var qb=Hb();const Gb=()=>{};var $0={};const Cv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Fb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(D=64)),a.push(i[A],i[S],i[D],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Cv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new Kb;const D=c<<2|g>>4;if(a.push(D),y!==64){const K=g<<4&240|y>>2;if(a.push(K),S!==64){const te=y<<6&192|S;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(s){const e=Cv(s);return Nv.encodeByteArray(e,!0)},Jc=function(s){return Yb(s).replace(/\./g,"")},Dv=function(s){try{return Nv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Qb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof $0>"u")return;const s=$0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Jb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return Gb()||Xb()||$b()||Jb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>yh()?.emulatorHosts?.[s],Zb=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Mv=()=>yh()?.config,Vv=s=>yh()?.[`_${s}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Sl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function eA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const zo={};function tA(){const s={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?s.emulator.push(e):s.prod.push(e);return s}function nA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||zo[s]===e||zo[s]||J0)return;zo[s]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=tA().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,K){D.setAttribute("width","24"),D.setAttribute("id",K),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{J0=!0,d()},D}function A(D,K){D.setAttribute("id",K),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=nA(a),K=i("text"),te=document.getElementById(K)||document.createElement("span"),se=i("learnmore"),W=document.getElementById(se)||document.createElement("a"),ce=i("preprendIcon"),Re=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const be=D.element;g(be),A(W,se);const it=y();v(Re,ce),be.append(Re,te,W,it),document.body.appendChild(be)}c?(te.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function sA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const fA="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=fA,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?dA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,g,a)}}function dA(s,e){return s.replace(mA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const mA=/\{\$([^}]+)}/g;function pA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Sr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Z0(c)&&Z0(d)){if(!Sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Z0(s){return s!==null&&typeof s=="object"}function nu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gA(s,e){const i=new yA(s,e);return i.subscribe.bind(i)}class yA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_A(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}function En(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class vA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(s){return s===la?void 0:s}function TA(s){return s.instantiationMode==="EAGER"}class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const AA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},SA=Be.INFO,wA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=wA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=SA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const RA=(s,e)=>e.some(i=>s instanceof i);let W0,e_;function IA(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,tm=new WeakMap,jv=new WeakMap,Pd=new WeakMap,Dm=new WeakMap;function NA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(vr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function DA(s){if(tm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,e)}let nm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||jv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OA(s){nm=s(nm)}function MA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zd(this),e,...i);return jv.set(a,e.sort?e.sort():[e]),vr(a)}:CA().includes(s)?function(...e){return s.apply(zd(this),e),vr(Uv.get(this))}:function(...e){return vr(s.apply(zd(this),e))}}function VA(s){return typeof s=="function"?MA(s):(s instanceof IDBTransaction&&DA(s),RA(s,IA())?new Proxy(s,nm):s)}function vr(s){if(s instanceof IDBRequest)return NA(s);if(Pd.has(s))return Pd.get(s);const e=VA(s);return e!==s&&(Pd.set(s,e),Dm.set(e,s)),e}const zd=s=>Dm.get(s);function kA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(vr(d.result),v.oldVersion,v.newVersion,vr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const LA=["get","getKey","getAll","getAllKeys","count"],UA=["put","add","delete","clear"],Bd=new Map;function t_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=UA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Bd.set(e,c),c}OA(s=>({...s,get:(e,i,a)=>t_(e,i)||s.get(e,i,a),has:(e,i)=>!!t_(e,i)||s.has(e,i)}));class jA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PA(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",n_="0.14.7";const ws=new Nm("@firebase/app"),zA="@firebase/app-compat",BA="@firebase/analytics-compat",HA="@firebase/analytics",qA="@firebase/app-check-compat",GA="@firebase/app-check",FA="@firebase/auth",KA="@firebase/auth-compat",YA="@firebase/database",QA="@firebase/data-connect",XA="@firebase/database-compat",$A="@firebase/functions",JA="@firebase/functions-compat",ZA="@firebase/installations",WA="@firebase/installations-compat",eS="@firebase/messaging",tS="@firebase/messaging-compat",nS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",rS="@firebase/remote-config-compat",aS="@firebase/storage",lS="@firebase/storage-compat",oS="@firebase/firestore",uS="@firebase/ai",cS="@firebase/firestore-compat",hS="firebase",fS="12.8.0";const sm="[DEFAULT]",dS={[im]:"fire-core",[zA]:"fire-core-compat",[HA]:"fire-analytics",[BA]:"fire-analytics-compat",[GA]:"fire-app-check",[qA]:"fire-app-check-compat",[FA]:"fire-auth",[KA]:"fire-auth-compat",[YA]:"fire-rtdb",[QA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[$A]:"fire-fn",[JA]:"fire-fn-compat",[ZA]:"fire-iid",[WA]:"fire-iid-compat",[eS]:"fire-fcm",[tS]:"fire-fcm-compat",[nS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[rS]:"fire-rc-compat",[aS]:"fire-gcs",[lS]:"fire-gcs-compat",[oS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};const Zc=new Map,mS=new Map,rm=new Map;function i_(s,e){try{s.container.addComponent(e)}catch(i){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function gl(s){const e=s.name;if(rm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,s);for(const i of Zc.values())i_(i,s);for(const i of mS.values())i_(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function si(s){return s==null?!1:s.settings!==void 0}const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new tu("app","Firebase",pS);class gS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const wl=fS;function Pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:sm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(i||(i=Mv()),!i)throw Er.create("no-options");const c=Zc.get(o);if(c){if(Sr(i,c.options)&&Sr(a,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const d=new bA(o);for(const v of rm.values())d.addComponent(v);const g=new gS(i,a,d);return Zc.set(o,g),g}function zv(s=sm){const e=Zc.get(s);if(!e&&s===sm&&Mv())return Pv();if(!e)throw Er.create("no-app",{appName:s});return e}function Tr(s,e,i){let a=dS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}gl(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const yS="firebase-heartbeat-database",_S=1,Ko="firebase-heartbeat-store";let Hd=null;function Bv(){return Hd||(Hd=kA(yS,_S,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ko)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function vS(s){try{const i=(await Bv()).transaction(Ko),a=await i.objectStore(Ko).get(Hv(s));return await i.done,a}catch(e){if(e instanceof Ds)ws.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e?.message});ws.warn(i.message)}}}async function s_(s,e){try{const a=(await Bv()).transaction(Ko,"readwrite");await a.objectStore(Ko).put(e,Hv(s)),await a.done}catch(i){if(i instanceof Ds)ws.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i?.message});ws.warn(a.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}const ES=1024,TS=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TS){const o=wS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:i,unsentEntries:a}=AS(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ws.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function AS(s,e=ES){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),a_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),a_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function a_(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function wS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function xS(s){gl(new ca("platform-logger",e=>new jA(e),"PRIVATE")),gl(new ca("heartbeat",e=>new bS(e),"PRIVATE")),Tr(im,n_,s),Tr(im,n_,"esm2020"),Tr("fire-js","")}xS("");var RS="firebase",IS="12.8.0";Tr(RS,IS,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CS=qv,Gv=new tu("auth","Firebase",qv());const Wc=new Nm("@firebase/auth");function NS(s,...e){Wc.logLevel<=Be.WARN&&Wc.warn(`Auth (${wl}): ${s}`,...e)}function Bc(s,...e){Wc.logLevel<=Be.ERROR&&Wc.error(`Auth (${wl}): ${s}`,...e)}function xs(s,...e){throw Mm(s,...e)}function Bi(s,...e){return Mm(s,...e)}function Fv(s,e,i){const a={...CS(),[e]:i};return new tu("auth","Firebase",a).create(e,{appName:s.name})}function Ss(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...e)}function Te(s,e,...i){if(!s)throw Mm(e,...i)}function bs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function Rs(s,e){s||bs(e)}function am(){return typeof self<"u"&&self.location?.href||""}function DS(){return l_()==="http:"||l_()==="https:"}function l_(){return typeof self<"u"&&self.location?.protocol||null}function OS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DS()||aA()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=iA()||lA()}get(){return OS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new iu(3e4,6e4);function su(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,a,o={}){return Yv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=nu({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:v,...c};return rA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Sl(s.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(await Qv(s,s.config.apiHost,i,g),y)})}async function Yv(s,e,i){s._canInitEmulator=!1;const a={...VS,...e};try{const o=new US(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw kc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Fv(s,A,y);xs(s,A)}}catch(o){if(o instanceof Ds)throw o;xs(s,"network-request-failed",{message:String(o)})}}async function km(s,e,i,a,o={}){const c=await xl(s,e,i,a,o);return"mfaPendingCredential"in c&&xs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Vm(s.config,o):`${s.config.apiScheme}://${o}`;return kS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class US{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),LS.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(s,e,a);return o.customData._tokenResponse=i,o}async function jS(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function eh(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function Bo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PS(s,e=!1){const i=En(s),a=await i.getIdToken(e),o=Lm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Bo(qd(o.auth_time)),issuedAtTime:Bo(qd(o.iat)),expirationTime:Bo(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Lm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function o_(s){const e=Lm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&zS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function zS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const e=s.auth,i=await s.getIdToken(),a=await Yo(s,eh(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Xv(o.providerUserInfo):[],d=qS(s.providerData,c),g=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,y=g?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function HS(s){const e=En(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Xv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(s,e){const i=await Yv(s,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Qv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&Sl(s.emulatorConfig.host)&&(v.credentials="include"),Kv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FS(s,e){return xl(s,"POST","/v2/accounts:revokeToken",su(s,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=o_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await GS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return bs("not implemented")}}function fr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Yo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return PS(this,e)}reload(){return HS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Yo(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:K,providerData:te,stsTokenManager:se}=i;Te(S&&se,e,"internal-error");const W=cl.fromJSON(this.name,se);Te(typeof S=="string",e,"internal-error"),fr(a,e.name),fr(o,e.name),Te(typeof D=="boolean",e,"internal-error"),Te(typeof K=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(g,e.name),fr(v,e.name),fr(y,e.name),fr(A,e.name);const ce=new yi({uid:S,auth:e,email:o,emailVerified:D,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:A});return te&&Array.isArray(te)&&(ce.providerData=te.map(Re=>({...Re}))),v&&(ce._redirectEventId=v),ce}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Xv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new cl;g.updateFromIdToken(a);const v=new yi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const u_=new Map;function As(s){Rs(s instanceof Function,"Expected a class definition");let e=u_.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,u_.set(s,e),e)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$v.type="NONE";const c_=$v;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(As(c_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||As(c_);const d=Hc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const D=await eh(e,{idToken:A}).catch(()=>{});if(!D)break;S=await yi._fromGetAccountInfoResponse(e,D,A)}else S=yi._fromJSON(e,A);y!==c&&(g=S),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new hl(c,e,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new hl(c,e,a))}}function h_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(i1(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Wv(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(s=gn()){return/firefox\//i.test(s)}function Zv(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wv(s=gn()){return/crios\//i.test(s)}function e1(s=gn()){return/iemobile/i.test(s)}function t1(s=gn()){return/android/i.test(s)}function n1(s=gn()){return/blackberry/i.test(s)}function i1(s=gn()){return/webos/i.test(s)}function Um(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KS(s=gn()){return Um(s)&&!!window.navigator?.standalone}function YS(){return oA()&&document.documentMode===10}function s1(s=gn()){return Um(s)||t1(s)||i1(s)||n1(s)||/windows phone/i.test(s)||e1(s)}function r1(s,e=[]){let i;switch(s){case"Browser":i=h_(gn());break;case"Worker":i=`${h_(gn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${wl}/${a}`}class QS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XS(s,e={}){return xl(s,"GET","/v2/passwordPolicy",su(s,e))}const $S=6;class JS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$S,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ZS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new QS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ss(this));const i=e?En(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),i=new JS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ru(s){return En(s)}class f_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WS(s){jm=s}function e2(s){return jm.loadJS(s)}function t2(){return jm.gapiScript}function n2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function i2(s,e){const i=Om(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Sr(c,e??{}))return o;xs(o,"already-initialized")}return i.initialize({options:e})}function s2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function r2(s,e,i){const a=ru(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=a1(e),{host:d,port:g}=a2(e),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(Sr(y,a.config.emulator)&&Sr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Sl(d)?(kv(`${c}//${d}${v}`),Lv("Auth",!0)):l2()}function a1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function a2(s){const e=a1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:d_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:d_(d)}}}function d_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function l2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class l1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,i){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function fl(s,e){return km(s,"POST","/v1/accounts:signInWithIdp",su(s,e))}const o2="http://localhost";class ha extends l1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=nu(i)}return e}}class o1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends o1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mr extends au{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class pr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return pr.credential(i,a)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";class gr extends au{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class yr extends au{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function u2(s,e){return km(s,"POST","/v1/accounts:signUp",su(s,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await yi._fromIdTokenResponse(e,a,o),d=m_(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=m_(a);return new Is({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function m_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function c2(s){if(si(s.app))return Promise.reject(Ss(s));const e=ru(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await u2(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class nh extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new nh(e,i,a,o)}}function u1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,a):c})}async function h2(s,e,i=!1){const a=await Yo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Is._forOperation(s,"link",a)}async function f2(s,e,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject(Ss(a));const o="reauthenticate";try{const c=await Yo(s,u1(a,o,e,s),i);Te(c.idToken,a,"internal-error");const d=Lm(c.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(s.uid===g,a,"user-mismatch"),Is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&xs(a,"user-mismatch"),c}}async function d2(s,e,i=!1){if(si(s.app))return Promise.reject(Ss(s));const a="signIn",o=await u1(s,a,e),c=await Is._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function m2(s,e){return km(s,"POST","/v1/accounts:signInWithCustomToken",su(s,e))}async function p2(s,e){if(si(s.app))return Promise.reject(Ss(s));const i=ru(s),a=await m2(i,{token:e,returnSecureToken:!0}),o=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function g2(s,e,i,a){return En(s).onIdTokenChanged(e,i,a)}function y2(s,e,i){return En(s).beforeAuthStateChanged(e,i)}function _2(s,e,i,a){return En(s).onAuthStateChanged(e,i,a)}const ih="__sak";class c1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const T2=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}f1.type="SESSION";const d1=f1;function b2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await b2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Pm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Pm("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function S2(s){Hi().location.href=s}function m1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x2(){return navigator?.serviceWorker?.controller||null}function R2(){return m1()?self:null}const p1="firebaseLocalStorageDb",I2=1,sh="firebaseLocalStorage",g1="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function C2(){const s=indexedDB.deleteDatabase(p1);return new lu(s).toPromise()}function om(){const s=indexedDB.open(p1,I2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:g1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await C2(),e(await om()))})})}async function p_(s,e,i){const a=vh(s,!0).put({[g1]:e,value:i});return new lu(a).toPromise()}async function N2(s,e){const i=vh(s,!1).get(e),a=await new lu(i).toPromise();return a===void 0?null:a.value}function g_(s,e){const i=vh(s,!0).delete(e);return new lu(i).toPromise()}const D2=800,O2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>O2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await p_(e,ih,"1"),await g_(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>p_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>N2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>g_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new lu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const M2=y1;new iu(3e4,6e4);function V2(s,e){return e?As(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends l1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function k2(s){return d2(s.auth,new zm(s),s.bypassAuthState)}function L2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),f2(i,new zm(s),s.bypassAuthState)}async function U2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),h2(i,new zm(s),s.bypassAuthState)}class _1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k2;case"linkViaPopup":case"linkViaRedirect":return U2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:xs(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j2=new iu(2e3,1e4);class ul extends _1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}ul.currentPopupAction=null;const P2="pendingRedirect",qc=new Map;class z2 extends _1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(s,e){const i=G2(e),a=q2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function H2(s,e){qc.set(s._key(),e)}function q2(s){return As(s._redirectPersistence)}function G2(s){return Hc(P2,s.config.apiKey,s.name)}async function F2(s,e,i=!1){if(si(s.app))return Promise.reject(Ss(s));const a=ru(s),o=V2(a,e),d=await new z2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const K2=600*1e3;class Y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!v1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function v1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(s);default:return!1}}async function X2(s,e={}){return xl(s,"GET","/v1/projects",e)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J2=/^https?/;async function Z2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await X2(s);for(const i of e)try{if(W2(i))return}catch{}xs(s,"unauthorized-domain")}function W2(s){const e=am(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!J2.test(i))return!1;if($2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ew=new iu(3e4,6e4);function __(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tw(s){return new Promise((e,i)=>{function a(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),i(Bi(s,"network-request-failed"))},timeout:ew.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=n2("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},e2(`${t2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function nw(s){return Gc=Gc||tw(s),Gc}const iw=new iu(5e3,15e3),sw="__/auth/iframe",rw="emulator/auth/iframe",aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vm(e,rw):`https://${s.config.authDomain}/${sw}`,a={apiKey:e.apiKey,appName:s.name,v:wl},o=lw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${nu(a).slice(1)}`}async function uw(s){const e=await nw(s),i=Hi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:ow(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),g=Hi().setTimeout(()=>{c(d)},iw.get());function v(){Hi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hw=500,fw=600,dw="_blank",mw="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pw(s,e,i,a=hw,o=fw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...cw,width:a.toString(),height:o.toString(),top:c,left:d},y=gn().toLowerCase();i&&(g=Wv(y)?dw:i),Jv(y)&&(e=e||mw,v.scrollbars="yes");const A=Object.entries(v).reduce((D,[K,te])=>`${D}${K}=${te},`,"");if(KS(y)&&g!=="_self")return gw(e||"",g),new v_(null);const S=window.open(e||"",g,A);Te(S,s,"popup-blocked");try{S.focus()}catch{}return new v_(S)}function gw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yw="__/auth/handler",_w="emulator/auth/handler",vw=encodeURIComponent("fac");async function E_(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:wl,eventId:o};if(e instanceof o1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",pA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof au){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await s._getAppCheckToken(),y=v?`#${vw}=${encodeURIComponent(v)}`:"";return`${Ew(s)}?${nu(g).slice(1)}${y}`}function Ew({config:s}){return s.emulator?Vm(s,_w):`https://${s.authDomain}/${yw}`}const Gd="webStorageSupport";class Tw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=F2,this._overrideRedirectResult=H2}async _openPopup(e,i,a,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E_(e,i,a,am(),o);return pw(e,c,Pm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await E_(e,i,a,am(),o);return S2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await uw(e),a=new Y2(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Z2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return s1()||Zv()||Um()}}const bw=Tw;var T_="@firebase/auth",b_="1.12.0";class Aw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ww(s){gl(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(s)},y=new ZS(a,o,c,v);return s2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),gl(new ca("auth-internal",e=>{const i=ru(e.getProvider("auth").getImmediate());return(a=>new Aw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(T_,b_,Sw(s)),Tr(T_,b_,"esm2020")}const xw=300,Rw=Vv("authIdTokenMaxAge")||xw;let A_=null;const Iw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Rw)return;const o=i?.token;A_!==o&&(A_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cw(s=zv()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=i2(s,{popupRedirectResolver:bw,persistence:[M2,T2,d1]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Iw(c.toString());y2(i,d,()=>d(i.currentUser)),g2(i,g=>d(g))}}const o=Ov("auth");return o&&r2(i,`http://${o}`),i}function Nw(){return document.getElementsByTagName("head")?.[0]??document}WS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Nw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ww("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var br,E1;(function(){var s;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,L){for(var x=Array(arguments.length-2),st=2;st<arguments.length;st++)x[st-2]=arguments[st];return w.prototype[N].apply(M,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)M[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],x;x=w+(L^I&(N^L))+M[0]+3614090360&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+M[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+M[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+M[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+M[4]+4118548399&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+M[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+M[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+M[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+M[8]+1770035416&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+M[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+M[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+M[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+M[12]+1804603682&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+M[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+M[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+M[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(N^L&(I^N))+M[1]+4129170786&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+M[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+M[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+M[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+M[5]+3593408605&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+M[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+M[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+M[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+M[9]+568446438&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+M[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+M[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+M[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+M[13]+2850285829&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+M[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+M[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+M[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(I^N^L)+M[5]+4294588738&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+M[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+M[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+M[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+M[1]+2763975236&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+M[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+M[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+M[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+M[13]+681279174&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+M[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+M[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+M[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+M[9]+3654602809&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+M[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+M[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+M[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(N^(I|~L))+M[0]+4096336452&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+M[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+M[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+M[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+M[12]+1700485571&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+M[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+M[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+M[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+M[8]+1873313359&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+M[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+M[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+M[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+M[4]+4149444226&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+M[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+M[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<w;){if(N==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){o(this,M),N=0;break}}else for(;L<w;)if(M[N++]=C[L++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[w++]=this.g[I]>>>M&255;return C};function c(C,w){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==w||(I[N]=L,M=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(y(-C));const w=[];let I=1;for(let M=0;C>=I;M++)w[M]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return W(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let M=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+N),w);N<8?(N=y(Math.pow(w,N)),M=M.j(N).add(y(x))):(M=M.j(I),M=M.add(y(x)))}return M}var S=v(0),D=v(1),K=v(16777216);s=d.prototype,s.m=function(){if(se(this))return-W(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(te(this))return"0";if(se(this))return"-"+W(this).toString(C);const w=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=it(I,w).g;I=ce(I,N.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,te(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function te(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}s.l=function(C){return C=ce(this,C),se(C)?-1:te(C)?0:1};function W(C){const w=C.g.length,I=[];for(let M=0;M<w;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}s.abs=function(){return se(this)?W(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=w;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=x>>>16,L&=65535,x&=65535,I[N]=x<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ce(C,w){return C.add(W(w))}s.j=function(C){if(te(this)||te(C))return S;if(se(this))return se(C)?W(this).j(W(C)):W(W(this).j(C));if(se(C))return W(this.j(W(C)));if(this.l(K)<0&&C.l(K)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,x=this.i(M)&65535,st=C.i(N)>>>16,St=C.i(N)&65535;I[2*M+2*N]+=x*St,Re(I,2*M+2*N),I[2*M+2*N+1]+=L*St,Re(I,2*M+2*N+1),I[2*M+2*N+1]+=x*st,Re(I,2*M+2*N+1),I[2*M+2*N+2]+=L*st,Re(I,2*M+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Re(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function be(C,w){this.g=C,this.h=w}function it(C,w){if(te(w))throw Error("division by zero");if(te(C))return new be(S,S);if(se(C))return w=it(W(C),w),new be(W(w.g),W(w.h));if(se(w))return w=it(C,W(w)),new be(W(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=w;M.l(C)<=0;)I=dt(I),M=dt(M);var N=Le(I,1),L=Le(M,1);for(M=Le(M,2),I=Le(I,2);!te(M);){var x=L.add(M);x.l(C)<=0&&(N=N.add(I),L=x),M=Le(M,1),I=Le(I,1)}return w=ce(C,N.j(w)),new be(N,w)}for(N=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),x=L.j(w);se(x)||x.l(C)>0;)I-=M,L=y(I),x=L.j(w);te(L)&&(L=D),N=N.add(L),C=ce(C,x)}return new be(N,C)}s.B=function(C){return it(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function dt(C){const w=C.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Le(C,w){const I=w>>5;w%=32;const M=C.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=w>0?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,br=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T1,Mo,b1,Fc,um,A1,S1,w1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break e;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var ee=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ee[Ce-2]=arguments[Ce];return m.prototype[U].apply(b,ee)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const H=U.length||0;u.length=_+H;for(let ee=0;ee<H;ee++)u[_+ee]=U[ee]}else u.push(U)}}class se{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,_){const b=be.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var be=new se(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Le=!1,C=new Re,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=ce();){try{u.h.call(u.g)}catch(_){W(_)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,N),st.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function Xe(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let H=0;H<Q.length;H++)_=Q[H],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,_,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ee=Ie(u,m,b,U);return ee>-1?(m=u[ee],_||(m.fa=!1)):(m=new ne(m,this.src,H,!!b,U),m.fa=_,u.push(m)),m};function fe(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(he(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ie(u,m,_,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==b)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Nt={};function gt(u,m,_,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)gt(u,m[H],_,b,U);return null}return _=Mr(_),u&&u[St]?u.J(m,_,g(b)?!!b.capture:!1,U):Qi(u,m,_,!1,b,U)}function Qi(u,m,_,b,U,H){if(!m)throw Error("Invalid event type");const ee=g(U)?!!U.capture:!!U;let Ce=Ji(u);if(Ce||(u[Me]=Ce=new re(u)),_=Ce.add(m,_,b,ee,H),_.proxy)return _;if(b=Xi(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)L||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xi(){function u(_){return m.call(u.src,u.listener,_)}const m=$i;return u}function Os(u,m,_,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Os(u,m[H],_,b,U);else b=g(b)?!!b.capture:!!b,_=Mr(_),u&&u[St]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=Ie(m,_,b,U),_>-1&&(he(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,_,b,U)),(_=u>-1?m[u]:null)&&Ms(_))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])fe(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(Dn(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Ji(m))?(fe(_,u),_.h==0&&(_.src=null,m[Me]=null)):he(u)}}}function Dn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function $i(u,m){if(u.da)u=!0;else{m=new st(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&Ms(u),u=_.call(b,m)}return u}function Ji(u){return u=u[Me],u instanceof re?u:null}var Zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(u){return typeof u=="function"?u:(u[Zi]||(u[Zi]=function(m){return u.handleEvent(m)}),u[Zi])}function Rt(){M.call(this),this.i=new re(this),this.M=this,this.G=null}S(Rt,M),Rt.prototype[St]=!0,Rt.prototype.removeEventListener=function(u,m,_,b){Os(this,u,m,_,b)};function Dt(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),ie(m,U)}U=!0;let H,ee;if(_)for(ee=_.length-1;ee>=0;ee--)H=m.g=_[ee],U=Ti(H,b,!0,m)&&U;if(H=m.g=u,U=Ti(H,b,!0,m)&&U,U=Ti(H,b,!1,m)&&U,_)for(ee=0;ee<_.length;ee++)H=m.g=_[ee],U=Ti(H,b,!1,m)&&U}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)he(_[b]);delete u.g[m],u.h--}}this.G=null},Rt.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},Rt.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function Ti(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ee=m[H];if(ee&&!ee.da&&ee.capture==_){const Ce=ee.listener,Mt=ee.ha||ee.src;ee.fa&&fe(u.i,ee),U=Ce.call(Mt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Dl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ya(u){u.g=Dl(()=>{u.g=null,u.i&&(u.i=!1,ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ot extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){M.call(this),this.h=u,this.g={}}S(Wi,M);var Vr=[];function kr(u){Ue(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ms(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),kr(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=d.JSON.stringify,_a=d.JSON.parse,Tn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function es(){}function Lr(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){N.call(this,"d")}S(Qt,N);function B(){N.call(this,"c")}S(B,N);var X={},_e=null;function me(){return _e=_e||new Rt}X.Ia="serverreachability";function mt(u){N.call(this,X.Ia,u)}S(mt,N);function Fe(u){const m=me();Dt(m,new mt(m))}X.STAT_EVENT="statevent";function De(u,m){N.call(this,X.STAT_EVENT,u),this.stat=m}S(De,N);function je(u){const m=me();Dt(m,new De(m,u))}X.Ja="timingevent";function Ke(u,m){N.call(this,X.Ja,u),this.size=m}S(Ke,N);function Ee(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function _t(){this.g=!0}_t.prototype.ua=function(){this.g=!1};function Ut(u,m,_,b,U,H){u.info(function(){if(u.g)if(H){var ee="",Ce=H.split("&");for(let Ze=0;Ze<Ce.length;Ze++){var Mt=Ce[Ze].split("=");if(Mt.length>1){const bt=Mt[0];Mt=Mt[1];const Qn=bt.split("_");ee=Qn.length>=2&&Qn[1]=="type"?ee+(bt+"="+Mt+"&"):ee+(bt+"=redacted&")}}}else ee=null;else ee=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+ee})}function et(u,m,_,b,U,H,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ee})}function yt(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vs(u,_)+(b?" "+b:"")})}function yn(u,m){u.info(function(){return"TIMEOUT: "+m})}_t.prototype.info=function(){};function Vs(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return bi(H)}catch{return m}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ts;function Ae(){}S(Ae,es),Ae.prototype.g=function(){return new XMLHttpRequest},ts=new Ae;function ge(u){return encodeURIComponent(String(u))}function ns(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function li(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var jt={},Zt={};function Ai(u,m,_){u.M=1,u.A=Ur(zt(m)),u.u=_,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Si(u),u.B=zt(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Aa(_.i,"t",b),u.C=0,_=u.j.L,u.h=new oi,u.g=Iu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ot(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Vr[0]=U.toString()),U=Vr);for(let H=0;H<U.length;H++){const ee=gt(_,U[H],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Fe(),Ut(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=hi(this.g),Mt=this.g.ya(),Ze=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ce!=4||Mt==7||(Mt==8||Ze<=0?Fe(3):Fe(2)),wi(this);var m=this.g.ca();this.X=m;var _=Uh(this);if(this.o=m==200,et(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)yt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,je(12),Mn(this),Fn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<_.length;)if(bt=pu(this,_),bt==Zt){Ce==4&&(this.m=4,je(14),u=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==jt){this.m=4,je(15),yt(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else yt(this.i,this.l,bt,null),xi(this,bt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,je(16),u=!1),this.o=this.o&&u,!u)yt(this.i,this.l,_,"[Invalid Chunked Response]"),Mn(this),Fn(this);else if(_.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Kl(ee),ee.P=!0,je(11))}}else yt(this.i,this.l,_,null),xi(this,_);Ce==4&&Mn(this),this.o&&!this.K&&(Ce==4?Su(this.j,this):(this.o=!1,Si(this)))}else ss(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Mn(this),Fn(this)}}}catch{}};function Uh(u){if(!mu(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let _="";const b=m.length,U=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Zt:(_=Number(m.substring(_,b)),isNaN(_)?jt:(b+=1,b+_>m.length?Zt:(m=m.slice(b,b+_),u.C=b+_,m)))}li.prototype.cancel=function(){this.K=!0,Mn(this)};function Si(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ee(y(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yn(this.i,this.B),this.M!=2&&(Fe(),je(17)),Mn(this),this.m=2,Fn(this)):Ea(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Su(u.j,u)}function Mn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,kr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ii(_.h,u))){if(!u.L&&Ii(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ia(_),Hs(_);else break e;Gr(_),je(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ee(y(_.Va,_),6e3));Ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vi(_,11)}else if((u.L||_.g==u)&&Ia(_),!x(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Ze=U[m];const bt=Ze[0];if(!(bt<=_.K))if(_.K=bt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const Qn=Ze[3];Qn!=null&&(_.ka=Qn,_.j.info("VER="+_.ka));const ki=Ze[4];ki!=null&&(_.za=ki,_.j.info("SVER="+_.za));const fi=Ze[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const di=u.g;if(di){const Fr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=b.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Vl(H,H.h),H.h=null))}if(b.G){const Ca=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,rt(b.J,b.G,Ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var ee=u;if(b.na=Ru(b,b.L?b.ba:null,b.W),ee.L){kl(b.h,ee);var Ce=ee,Mt=b.O;Mt&&(Ce.H=Mt),Ce.D&&(wi(Ce),Si(Ce)),b.g=ee}else bu(b);_.i.length>0&&Mi(_)}else Ze[0]!="stop"&&Ze[0]!="close"||Vi(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Vi(_,7):Gl(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}Fe(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vl(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ol.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let U,H=null;b>=0?(U=u[_].substring(0,b),H=u[_].substring(b+1)):U=u[_],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,Ul(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),ks(this,m[4]),this.h=Ci(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,ba,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,ba,!0),"@"),u.push(ge(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(jr(_,_.charAt(0)=="/"?jl:yu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",jr(_,_u)),u.join("")},Vn.prototype.resolve=function(u){const m=zt(this);let _=!!u.j;_?Wt(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)ks(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ee=0;ee<U.length;){const Ce=U[ee++];Ce=="."?b&&ee==U.length&&H.push(""):Ce==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&ee==U.length&&H.push("")):(H.push(Ce),b=!0)}b=H.join("/")}else b=U}return _?m.h=b:_=u.i.toString()!=="",_?Ul(m,Eu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function zt(u){return new Vn(u)}function Wt(u,m,_){u.j=_?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,_){m instanceof Us?(u.i=m,Sa(u.i,u.l)):(_||(m=jr(m,Ls)),u.i=new Us(m,u.l))}function rt(u,m,_){u.i.set(m,_)}function Ur(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,yu=/[#\?:]/g,jl=/[#\?]/g,Ls=/[#\?@]/g,_u=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Us.prototype,s.add=function(u,m){An(this),this.i=null,u=js(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function vu(u,m){An(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pl(u,m){return An(u),m=js(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)};function zl(u,m){An(u);let _=[];if(typeof m=="string")Pl(u,m)&&(_=_.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return An(this),this.i=null,u=js(this,u),Pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zl(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,_){vu(u,m),_.length>0&&(u.i=null,u.g.set(js(u,m),K(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const U=ge(_);_=zl(this,_);for(let H=0;H<_.length;H++){let ee=U;_[H]!==""&&(ee+="="+ge(_[H])),u.push(ee)}}return this.i=u.join("&")};function Eu(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,b){const U=b.toLowerCase();b!=U&&(vu(this,b),Aa(this,U,_))},u)),u.j=m}function ui(u,m){const _=new _t;if(d.Image){const b=new Image;b.onload=A(Kn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Kn,_,"TestLoadImage: error",!1,m,b),b.onabort=A(Kn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Kn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Bl(u,m){const _=new _t,b=new AbortController,U=setTimeout(()=>{b.abort(),Kn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Kn(_,"TestPingServer: ok",!0,m):Kn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Kn(_,"TestPingServer: error",!1,m)})}function Kn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Ps(){this.g=new Tn}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,es),Ni.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){Rt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Pr,Rt),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ci(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return Ue(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function zr(u,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Yn(_),typeof u=="string"?_!=null&&ge(_):rt(u,m,_))}function ut(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,Rt);var Di=/^https?$/i,Hl=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ts.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Br(this,H);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())_.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Hl,m,void 0)>=0)||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of _)this.g.setRequestHeader(H,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Br(this,H)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ql(u),is(u)}function ql(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),is(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=H===0){let ee=String(u.D).match(gu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),b=!Di.test(ee?ee.toLowerCase():"")}_=b}if(_)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=hi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ql(u)}}finally{is(u)}}}}function is(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Dt(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var _=ns(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}Xe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new _t,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){je(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=Ru(this,null,this.W),Mi(this)};function Gl(u){if(xa(u),u.I==3){var m=u.V++,_=zt(u.J);if(rt(_,"SID",u.M),rt(_,"RID",m),rt(_,"TYPE","terminate"),qr(u,_),m=new li(u,u.j,m),m.M=2,m.A=Ur(zt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}xu(u)}function Hs(u){u.g&&(Kl(u),u.g.cancel(),u.g=null)}function xa(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Ml(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),Le||(dt(),Le=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ee(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new li(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),_=zt(this.J),rt(_,"RID",u),rt(_,"CVER",22),this.G&&rt(_,"X-HTTP-Session-Id",this.G),qr(this,_),H&&(this.R?m="headers="+ge(Yn(H))+"&"+m:this.u&&zr(_,this.u,H)),Vl(this.h,U),this.Ra&&rt(_,"TYPE","init"),this.S?(rt(_,"$req",m),rt(_,"SID","null"),U.U=!0,Ai(U,_,null)):Ai(U,_,m),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||Ml(this.h)||Fl(this))};function Fl(u,m){var _;m?_=m.l:_=u.V++;const b=zt(u.J);rt(b,"SID",u.M),rt(b,"RID",_),rt(b,"AID",u.K),qr(u,b),u.u&&u.o&&zr(b,u.u,u.o),_=new li(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vl(u.h,_),Ai(_,b,m)}function qr(u,m){u.H&&Ue(u.H,function(_,b){rt(m,b,_)}),u.l&&Ue({},function(_,b){rt(m,b,_)})}function Tu(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const Mt=["count="+_];Ce==-1?_>0?(Ce=U[0].g,Mt.push("ofs="+Ce)):Ce=0:Mt.push("ofs="+Ce);let Ze=!0;for(let bt=0;bt<_;bt++){var H=U[bt].g;const Qn=U[bt].map;if(H-=Ce,H<0)Ce=Math.max(0,U[bt].g-100),Ze=!1;else try{H="req"+H+"_"||"";try{var ee=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ki,fi]of ee){let di=fi;g(fi)&&(di=bi(fi)),Mt.push(H+ki+"="+encodeURIComponent(di))}}catch(ki){throw Mt.push(H+"type="+encodeURIComponent("_badmap")),ki}}catch{b&&b(Qn)}}if(Ze){ee=Mt.join("&");break e}}ee=void 0}return u=u.i.splice(0,_),m.G=u,ee}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),Le||(dt(),Le=!0),C.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ee(y(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ee(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Hs(this),Au(this))};function Kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ur(zt(m)),_.u=null,_.R=!0,va(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),Gr(this),je(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var _=null;if(u.g==m){Ia(u),Kl(u),u.g=null;var b=2}else if(Ii(u.h,m))_=m.G,kl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=me(),Dt(b,new Ke(b,_)),Mi(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Gr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function wu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const U=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(b,"https"),Ur(b),U?ui(b.toString(),_):Bl(b.toString(),_)}else je(2);u.I=0,u.l&&u.l.pa(m),xu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Ll(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,_){var b=_ instanceof Vn?zt(_):new Vn(_);if(b.g!="")m&&(b.g=m+"."+b.g),ks(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Vn(null);b&&Wt(H,b),m&&(H.g=m),U&&ks(H,U),_&&(H.h=_),b=H}return _=u.G,m=u.wa,_&&m&&rt(b,_,m),rt(b,"VER",u.ka),qr(u,b),b}function Iu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ni({ab:_})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){Rt.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new rs(this)}S(_n,Rt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Gl(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=bi(u),u=_);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Mi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,_n.Z.N.call(this)};function Nu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,Qt);function Du(){B.call(this),this.status=1}S(Du,B);function rs(u){this.g=u}S(rs,Cu),rs.prototype.ra=function(){Dt(this.g,"a")},rs.prototype.qa=function(u){Dt(this.g,new Nu(u))},rs.prototype.pa=function(u){Dt(this.g,new Du)},rs.prototype.oa=function(){Dt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,w1=function(){return new qs},S1=function(){return me()},A1=X,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Fc=ai,nn.COMPLETE="complete",b1=nn,Lr.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Mo=Lr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,T1=ut}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Rl="12.8.0";function Dw(s){Rl=s}const fa=new Nm("@firebase/firestore");function rl(){return fa.logLevel}function ae(s,...e){if(fa.logLevel<=Be.DEBUG){const i=e.map(Bm);fa.debug(`Firestore (${Rl}): ${s}`,...i)}}function Cs(s,...e){if(fa.logLevel<=Be.ERROR){const i=e.map(Bm);fa.error(`Firestore (${Rl}): ${s}`,...i)}}function yl(s,...e){if(fa.logLevel<=Be.WARN){const i=e.map(Bm);fa.warn(`Firestore (${Rl}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,x1(s,a,i)}function x1(s,e,i){let a=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Cs(a),new Error(a)}function tt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||x1(e,o,a)}function xe(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class Mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Vw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class kw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Lw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new kw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=jw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?He(o,c):Fd(o)?1:-1}return He(s.length,e.length)}const Pw=55296,zw=57343;function Fd(s){const e=s.charCodeAt(0);return e>=Pw&&e<=zw}function _l(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const x_="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class wt extends zi{construct(e,i,a){return new wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new wt(i)}static emptyPath(){return new wt([])}}const Bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zi{construct(e,i,a){return new cn(e,i,a)}static isValidIdentifier(e){return Bw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new cn([x_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(wt.fromString(e))}static fromName(e){return new pe(wt.fromString(e).popFirst(5))}static empty(){return new pe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new wt(e.slice()))}}function Hw(s,e,i){if(!i)throw new ue(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qw(s,e,i,a){if(e===!0&&a===!0)throw new ue(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R_(s){if(!pe.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function I1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function _i(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ou(s,e){if(!I1(s))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(Z.INVALID_ARGUMENT,i);return!0}const I_=-62135596800,C_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C_);return new Tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I_)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Kt("string",Tt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Tt(0,0))}static max(){return new Se(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function Gw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new Tt(i+1,0):new Tt(i,a));return new wr(o,pe.empty(),e)}function Fw(s){return new wr(s.readTime,s.key,Qo)}class wr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new wr(Se.min(),pe.empty(),Qo)}static max(){return new wr(Se.max(),pe.empty(),Qo)}}function Kw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const Yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==Yw)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Xw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cl(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Gm=-1;function Th(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function $w(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const C1="";function Jw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=N_(e)),e=Zw(s.get(i),e);return N_(e)}function Zw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case C1:i+="";break;default:i+=c}}return i}function N_(s){return s+C1+""}function D_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Dr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new xt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new un(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new un(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Jt(cn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D1("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=Ww.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const O1="server_timestamp",M1="__type__",V1="__previous_value__",k1="__local_write_time__";function Fm(s){return(s?.mapValue?.fields||{})[M1]?.stringValue===O1}function bh(s){const e=s.mapValue.fields[V1];return Fm(e)?bh(e):e}function Xo(s){const e=xr(s.mapValue.fields[k1].timestampValue);return new Tt(e.seconds,e.nanos)}class ex{constructor(e,i,a,o,c,d,g,v,y,A,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const ah="(default)";class $o{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}function tx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(s.options.projectId,e)}const L1="__type__",nx="__max__",jc={mapValue:{}},U1="__vector__",lh="value";function Ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:sx(s)?9007199254740991:ix(s)?10:11:ve(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const i=Ir(s);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xo(s).isEqual(Xo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=xr(o.timestampValue),g=xr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Lt(o.doubleValue),g=Lt(c.doubleValue);return d===g?rh(d)===rh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return _l(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(D_(d)!==D_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ki(d[v],g[v])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Jo(s,e){return(s.values||[]).find((i=>Ki(i,e)))!==void 0}function vl(s,e){if(s===e)return 0;const i=Ir(s),a=Ir(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Lt(c.integerValue||c.doubleValue),v=Lt(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return M_(s.timestampValue,e.timestampValue);case 4:return M_(Xo(s),Xo(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Rr(c),v=Rr(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const A=He(g[y],v[y]);if(A!==0)return A}return He(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Lt(c.latitude),Lt(d.latitude));return g!==0?g:He(Lt(c.longitude),Lt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return V_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[lh]?.arrayValue,A=v[lh]?.arrayValue,S=He(y?.values?.length||0,A?.values?.length||0);return S!==0?S:V_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const D=cm(v[S],A[S]);if(D!==0)return D;const K=vl(g[v[S]],y[A[S]]);if(K!==0)return K}return He(v.length,A.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function M_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=xr(s),a=xr(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function V_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=vl(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function El(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=hm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${hm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function Kc(s){switch(Ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Kc(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Dr(a.fields,((c,d)=>{o+=c.length+Kc(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function k_(s){return!!s&&"nullValue"in s}function L_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function ix(s){return(s?.mapValue?.fields||{})[L1]?.stringValue===U1}function Ho(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Dr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ho(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ho(s.arrayValue.values[i]);return e}return{...s}}function sx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(i)}setAll(e){let i=cn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ho(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Dr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Nn(Ho(this.value))}}function j1(s){const e=[];return Dr(s.fields,((i,a)=>{const o=new cn([i]);if(Yc(a)){const c=j1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class pn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new pn(e,0,Se.min(),Se.min(),Se.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,o){return new pn(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new pn(e,2,i,Se.min(),Se.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,Se.min(),Se.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function U_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=vl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class P1{}class $t extends P1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new lx(e,i,a):i==="array-contains"?new cx(e,a):i==="in"?new hx(e,a):i==="not-in"?new fx(e,a):i==="array-contains-any"?new dx(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new ox(e,a):new ux(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vl(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(vl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends P1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yi(e,i)}matches(e){return z1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z1(s){return s.op==="and"}function B1(s){return ax(s)&&z1(s)}function ax(s){for(const e of s.filters)if(e instanceof Yi)return!1;return!0}function dm(s){if(s instanceof $t)return s.field.canonicalString()+s.op.toString()+El(s.value);if(B1(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function H1(s,e){return s instanceof $t?(function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(s,e):s instanceof Yi?(function(a,o){return o instanceof Yi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&H1(d,o.filters[g])),!0):!1})(s,e):void ve(19439)}function q1(s){return s instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${El(i.value)}`})(s):s instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(q1).join(" ,")+"}"})(s):"Filter"}class lx extends $t{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class ox extends $t{constructor(e,i){super(e,"in",i),this.keys=G1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ux extends $t{constructor(e,i){super(e,"not-in",i),this.keys=G1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function G1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class cx extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Jo(i.arrayValue,this.value)}}class hx extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jo(this.value.arrayValue,i)}}class fx extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jo(this.value.arrayValue,i)}}class dx extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jo(this.value.arrayValue,a)))}}class mx{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function P_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new mx(s,e,i,a,o,c,d)}function Ym(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>El(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>El(a))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!H1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!j_(s.startAt,e.startAt)&&j_(s.endAt,e.endAt)}function mm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function px(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function Sh(s){return new Ah(s)}function z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gx(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function yx(s){return s.collectionGroup!==null}function qo(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Jt(cn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,a))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new uh(cn.keyField(),a))}return e.Ie}function qi(s){const e=xe(s);return e.Ee||(e.Ee=_x(e,qo(s))),e.Ee}function _x(s,e){if(s.limitType==="F")return P_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new uh(o.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return P_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return Qm(qi(s),qi(e))&&s.limitType===e.limitType}function F1(s){return`${Ym(qi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>q1(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>El(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>El(o))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=U_(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,g,v){const y=U_(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,qo(a),o))})(s,e)}function vx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K1(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=Ex(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Ex(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?vl(v,y):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}const Tx=new xt(pe.comparator);function Ns(){return Tx}const Y1=new xt(pe.comparator);function Vo(...s){let e=Y1;for(const i of s)e=e.insert(i.key,i);return e}function Q1(s){let e=Y1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Go()}function X1(){return Go()}function Go(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const bx=new xt(pe.comparator),Ax=new Jt(pe.comparator);function qe(...s){let e=Ax;for(const i of s)e=e.add(i);return e}const Sx=new Jt(He);function wx(){return Sx}function Xm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function $1(s){return{integerValue:""+s}}function xx(s,e){return $w(e)?$1(e):Xm(s,e)}class Rh{constructor(){this._=void 0}}function Rx(s,e,i){return s instanceof ch?(function(o,c){const d={fields:{[M1]:{stringValue:O1},[k1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fm(c)&&(c=bh(c)),c&&(d.fields[V1]=c),{mapValue:d}})(i,e):s instanceof Tl?Z1(s,e):s instanceof Zo?W1(s,e):(function(o,c){const d=J1(o,c),g=B_(d)+B_(o.Ae);return fm(d)&&fm(o.Ae)?$1(g):Xm(o.serializer,g)})(s,e)}function Ix(s,e,i){return s instanceof Tl?Z1(s,e):s instanceof Zo?W1(s,e):i}function J1(s,e){return s instanceof hh?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ch extends Rh{}class Tl extends Rh{constructor(e){super(),this.elements=e}}function Z1(s,e){const i=eE(e);for(const a of s.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends Rh{constructor(e){super(),this.elements=e}}function W1(s,e){let i=eE(e);for(const a of s.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class hh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B_(s){return Lt(s.integerValue||s.doubleValue)}function eE(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Cx{constructor(e,i){this.field=e,this.transform=i}}function Nx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Tl&&o instanceof Tl||a instanceof Zo&&o instanceof Zo?_l(a.elements,o.elements,Ki):a instanceof hh&&o instanceof hh?Ki(a.Ae,o.Ae):a instanceof ch&&o instanceof ch})(s.transform,e.transform)}class Dx{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function tE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $m(s.key,vi.none()):new uu(s.key,s.data,vi.none());{const i=s.data,a=Nn.empty();let o=new Jt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Or(s.key,a,new Gn(o.toArray()),vi.none())}}function Ox(s,e,i){s instanceof uu?(function(o,c,d){const g=o.value.clone(),v=q_(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Or?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=q_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(nE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fo(s,e,i,a){return s instanceof uu?(function(c,d,g,v){if(!Qc(c.precondition,d))return g;const y=c.value.clone(),A=G_(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Or?(function(c,d,g,v){if(!Qc(c.precondition,d))return g;const y=G_(c.fieldTransforms,v,d),A=d.data;return A.setAll(nE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Mx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=J1(a.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,c))}return i||null}function H_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_l(a,o,((c,d)=>Nx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Ih{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends Ih{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function q_(s,e,i){const a=new Map;tt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Ix(d,g,i[o]))}return a}function G_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Rx(c,d,e))}return a}class $m extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Ox(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=X1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=tE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((i,a)=>H_(i,a)))&&_l(this.baseMutations,e.baseMutations,((i,a)=>H_(i,a)))}}class Jm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return bx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Jm(e,i,a,o)}}class Lx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ux{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ye;function jx(s){switch(s){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function iE(s){if(s===void 0)return Cs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ft.OK:return Z.OK;case Ft.CANCELLED:return Z.CANCELLED;case Ft.UNKNOWN:return Z.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Z.INTERNAL;case Ft.UNAVAILABLE:return Z.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Z.NOT_FOUND;case Ft.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ft.ABORTED:return Z.ABORTED;case Ft.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ft.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:s})}}(Ye=Ft||(Ft={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Px(){return new TextEncoder}const zx=new br([4294967295,4294967295],0);function F_(s){const e=Px().encode(s),i=new E1;return i.update(e),new Uint8Array(i.digest())}function K_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([i,a],0),new br([o,c],0)]}class Zm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ko(`Invalid padding: ${i}`);if(a<0)throw new ko(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new ko(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=br.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(br.fromNumber(a)));return o.compare(zx)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F_(e),[a,o]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Zm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=F_(e),[a,o]=K_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(Se.min(),o,new xt(He),Ns(),qe())}}class cu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new cu(a,i,qe(),qe(),qe())}}class Xc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class sE{constructor(e,i){this.targetId=e,this.Ce=i}}class rE{constructor(e,i,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new cu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Q_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Bx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.He=Pc(),this.Je=Pc(),this.Ze=new xt(He)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(mm(c))if(a===0){const d=new pe(c.path);this.et(i,d,pn.newNoDocument(d,Se.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Rr(a).toUint8Array()}catch(v){if(v instanceof D1)return yl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Zm(d,o,c)}catch(v){return yl(v instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const v=new pe(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,pn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ch(e,i,this.Ze,this.je,a);return this.je=Ns(),this.He=Pc(),this.Je=Pc(),this.Ze=new xt(He),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Y_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Jt(He),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Jt(He),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new xt(pe.comparator)}function Q_(){return new xt(pe.comparator)}const Hx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gx={and:"AND",or:"OR"};class Fx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kx(s,e){return fh(s,e.toTimestamp())}function Gi(s){return tt(!!s,49232),Se.fromTimestamp((function(i){const a=xr(i);return new Tt(a.seconds,a.nanos)})(s))}function Wm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function lE(s){const e=wt.fromString(s);return tt(fE(e),10190,{key:e.toString()}),e}function _m(s,e){return Wm(s.databaseId,e.path)}function Kd(s,e){const i=lE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(uE(i))}function oE(s,e){return Wm(s.databaseId,e)}function Yx(s){const e=lE(s);return e.length===4?wt.emptyPath():uE(e)}function vm(s){return new wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uE(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X_(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function Qx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(tt(A===void 0||typeof A=="string",58123),hn.fromBase64String(A||"")):(tt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),hn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:iE(y.code);return new ue(A,y.message||"")})(d);i=new rE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Kd(s,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Se.min(),g=new Nn({mapValue:{fields:a.document.fields}}),v=pn.newFoundDocument(o,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Xc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Kd(s,a.document),c=a.readTime?Gi(a.readTime):Se.min(),d=pn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Xc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Kd(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Ux(o,c),g=a.targetId;i=new sE(g,d)}}return i}function Xx(s,e){let i;if(e instanceof uu)i={update:X_(s,e.key,e.value)};else if(e instanceof $m)i={delete:_m(s,e.key)};else if(e instanceof Or)i={update:X_(s,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof Vx))return ve(16599,{dt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof hh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Kx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function $x(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Gi(o.updateTime):Gi(c);return d.isEqual(Se.min())&&(d=Gi(c)),new Dx(d,o.transformResults||[])})(i,e)))):[]}function Jx(s,e){return{documents:[oE(s,e.path)]}}function Zx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=oE(s,o);const c=(function(y){if(y.length!==0)return hE(Yi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(D){return{field:ll(D.field),direction:tR(D.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function Wx(s){let e=Yx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){tt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=cE(S);return D instanceof Yi&&B1(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(te){return new uh(ol(te.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,Th(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(S){const D=!!S.before,K=S.values||[];return new oh(K,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,K=S.values||[];return new oh(K,D)})(i.endAt)),px(e,o,d,c,g,"F",v,y)}function eR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return $t.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>cE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function tR(s){return Hx[s]}function nR(s){return qx[s]}function iR(s){return Gx[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return cn.fromServerFormat(s.fieldPath)}function hE(s){return s instanceof $t?(function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(k_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(k_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:nR(i.op),value:i.value}}})(s):s instanceof Yi?(function(i){const a=i.getFilters().map((o=>hE(o)));return a.length===1?a[0]:{compositeFilter:{op:iR(i.op),filters:a}}})(s):ve(54877,{filter:s})}function sR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function fE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function dE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class _r{constructor(e,i,a,o,c=Se.min(),d=Se.min(),g=hn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rR{constructor(e){this.yt=e}}function aR(s){const e=Wx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class lR{constructor(){this.Sn=new oR}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(wr.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class oR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(wt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(wt.comparator)).toArray()}}const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(mE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class bl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bl(0)}static ar(){return new bl(-1)}}const J_="LruGarbageCollector",uR=1048576;function Z_([s,e],[i,a]){const o=He(s,i);return o===0?He(e,a):o}class cR{constructor(e){this.Pr=e,this.buffer=new Jt(Z_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(J_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cl(i)?ae(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Il(i)}await this.Ar(3e5)}))}}class fR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Eh.ce);const a=new cR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),rl()<=Be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function dR(s,e){return new fR(s,e)}class mR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Fo(a.mutation,o,Gn.empty(),Tt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Vo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Ns();const d=Go(),g=(function(){return Go()})();return i.forEach(((v,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof Or)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Fo(A.mutation,y,A.mutation.getFieldMask(),Tt.now())):d.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new pR(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Go();let o=new xt(((d,g)=>d-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Gn.empty();A=g.applyToLocalView(y,A),a.set(v,A);const S=(o.get(g.batchId)||qe()).add(v);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,A=v.value,S=X1();A.forEach((D=>{if(!c.has(D)){const K=tE(i.get(D),a.get(D));K!==null&&S.set(D,K),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return gx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(oa());let g=Qo,v=c;return d.next((y=>J.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{v=v.insert(A,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,qe()))).next((A=>({batchId:g,changes:Q1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Vo();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(v=>{const y=(function(S,D){return new Ah(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let g=Vo();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Fo(A.mutation,y,Gn.empty(),Tt.now()),xh(i,y)&&(g=g.insert(v,y))})),g}))}}class yR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:Gi(o.readTime)}})(i)),J.resolve()}}class _R{constructor(){this.overlays=new xt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new xt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=oa(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=oa(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=o)););return J.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Lx(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class vR{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class ep{constructor(){this.kr=new Jt(tn.Kr),this.qr=new Jt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new tn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new wt([])),a=new tn(i,e),o=new tn(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new wt([])),a=new tn(i,e),o=new tn(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||He(e.Hr,i.Hr)}static Ur(e,i){return He(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class ER{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Jt(tn.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new tn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(He);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new tn(new pe(c),0);let g=new Jt(He);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){tt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new tn(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class TR{constructor(e){this.ti=e,this.docs=(function(){return new xt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let a=Ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ns();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Kw(Fw(A),a)<=0||(o.has(A.key)||xh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ni(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new bR(this)}getSize(e){return J.resolve(this.size)}}class bR extends mR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class AR{constructor(e){this.persistence=e,this.ri=new pa((i=>Ym(i)),Qm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new ep,this.targetCount=0,this.oi=bl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new bl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class pE{constructor(e,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new vR,this.referenceDelegate=e(this),this.li=new AR(this),this.indexManager=new lR,this.remoteDocumentCache=(function(o){return new TR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new rR(i),this.Pi=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _R,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new ER(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new SR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class SR extends Qw{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Ai=null}static Vi(e){return new tp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.fi=new pa((a=>Jw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=dR(this,i)}static Vi(e,i){return new dh(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}wr(e,i,a){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class np{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new np(e,i.fromCache,a,o)}}class wR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uA()?8:Xw(gn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wR;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(rl()<=Be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(rl()<=Be.DEBUG&&ae("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(rl()<=Be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):J.resolve())}gs(e,i){if(z_(i))return J.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,a,o){return z_(i)||o.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(rl()<=Be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.Ds(e,d,i,Gw(o,Qo)).next((g=>g)))}))}bs(e,i){let a=new Jt(K1(e));return i.forEach(((o,c)=>{xh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return rl()<=Be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",al(i)),this.fs.getDocumentsMatchingQuery(e,i,wr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ip="LocalStore",RR=3e8;class IR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new xt(He),this.Fs=new pa((c=>Ym(c)),Qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function CR(s,e,i,a){return new IR(s,e,i,a)}async function gE(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=qe();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function NR(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,A){const S=y.batch,D=S.keys();let K=J.resolve();return D.forEach((te=>{K=K.next((()=>A.getEntry(v,te))).next((se=>{const W=y.docVersions.get(te);tt(W!==null,48541),se.version.compareTo(W)<0&&(S.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),A.addEntry(se)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function yE(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function DR(s,e){const i=xe(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((A,S)=>{const D=o.get(S);if(!D)return;g.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let K=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?K=K.withResumeToken(hn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),o=o.insert(S,K),(function(se,W,ce){return se.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=RR?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(D,K,A)&&g.push(i.li.updateTargetData(c,K))}));let v=Ns(),y=qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(OR(c,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(Se.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function OR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ns();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Se.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ae(ip,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function MR(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Em(s,e,i){const a=xe(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Cl(d))throw d;ae(ip,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function W_(s,e,i){const a=xe(s);let o=Se.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=xe(v),D=S.Fs.get(A);return D!==void 0?J.resolve(S.vs.get(D)):S.li.getTargetData(y,A)})(a,d,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:qe()))).next((g=>(kR(a,vx(e),g),{documents:g,ks:c})))))}function kR(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class ev{constructor(){this.activeTargetIds=wx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.vo=new ev,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ev,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UR{Mo(e){}shutdown(){}}const tv="ConnectivityMonitor";class nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(tv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function Tm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const Yd="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Tm(),g=this.Qo(e,i.toUriEncodedString());ae(Yd,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),A=Sl(y);return this.zo(e,g,v,a,A).then((S=>(ae(Yd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yl(Yd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=jR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class zR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",Oo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class dl extends PR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!dl.c_){const e=S1();Oo(e,A1.STAT_EVENT,(i=>{i.stat===um.PROXY?ae(dn,"STAT_EVENT: detected buffering proxy"):i.stat===um.NOPROXY&&ae(dn,"STAT_EVENT: detected no buffering proxy")})),dl.c_=!0}}zo(e,i,a,o,c){const d=Tm();return new Promise(((g,v)=>{const y=new T1;y.setWithCredentials(!0),y.listenOnce(b1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const S=y.getResponseJson();ae(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Fc.TIMEOUT:ae(dn,`RPC '${e}' ${d} timed out`),v(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const D=y.getStatus();if(ae(dn,`RPC '${e}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const te=K?.error;if(te&&te.status&&te.message){const se=(function(ce){const Re=ce.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Re)>=0?Re:Z.UNKNOWN})(te.status);v(new ue(se,te.message))}else v(new ue(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(dn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ae(dn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const A=d.createWebChannel(y,g);this.I_(A);let S=!1,D=!1;const K=new zR({Ho:te=>{D?ae(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(S||(ae(dn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ae(dn,`RPC '${e}' stream ${o} sending:`,te),A.send(te))},Jo:()=>A.close()});return Oo(A,Mo.EventType.OPEN,(()=>{D||(ae(dn,`RPC '${e}' stream ${o} transport opened.`),K.i_())})),Oo(A,Mo.EventType.CLOSE,(()=>{D||(D=!0,ae(dn,`RPC '${e}' stream ${o} transport closed`),K.o_(),this.E_(A))})),Oo(A,Mo.EventType.ERROR,(te=>{D||(D=!0,yl(dn,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),K.o_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),Oo(A,Mo.EventType.MESSAGE,(te=>{if(!D){const se=te.data[0];tt(!!se,16349);const W=se,ce=W?.error||W[0]?.error;if(ce){ae(dn,`RPC '${e}' stream ${o} received error:`,ce);const Re=ce.status;let be=(function(Le){const C=Ft[Le];if(C!==void 0)return iE(C)})(Re),it=ce.message;be===void 0&&(be=Z.INTERNAL,it="Unknown error status: "+Re+" with message "+ce.message),D=!0,K.o_(new ue(be,it)),A.close()}else ae(dn,`RPC '${e}' stream ${o} received:`,se),K.__(se)}})),dl.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w1()}}function BR(s){return new dl(s)}function Qd(){return typeof document<"u"?document:null}function Nh(s){return new Fx(s,!0)}dl.c_=!1;class _E{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iv="PersistentStream";class vE{constructor(e,i,a,o,c,d,g,v){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Cs(i.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HR extends vE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Qx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Gi(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=mm(v)?{documents:Jx(c,v)}:{query:Zx(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aE(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=eR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.K_(i)}}class qR extends vE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$x(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Xx(this.serializer,a)))};this.K_(i)}}class GR{}class FR extends GR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,ym(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Z.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,ym(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KR(s,e,i,a){return new FR(s,e,i,a)}class YR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class QR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(ae(da,"Restarting streams for network reachability change."),await(async function(v){const y=xe(v);y.Ea.add(4),await hu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Va=new YR(a,o)}}async function Dh(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function hu(s){for(const e of s.Ra)await e(!1)}function EE(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),lp(i)?ap(i):Nl(i).O_()&&rp(i,e))}function sp(s,e){const i=xe(s),a=Nl(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Va.set("Unknown"))}function rp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Nl(s).Z_(e)}function TE(s,e){s.da.$e(e),Nl(s).X_(e)}function ap(s){s.da=new Bx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Nl(s).start(),s.Va.ua()}function lp(s){return ga(s)&&!Nl(s).x_()&&s.Ia.size>0}function ga(s){return xe(s).Ea.size===0}function bE(s){s.da=void 0}async function XR(s){s.Va.set("Online")}async function $R(s){s.Ia.forEach(((e,i)=>{rp(s,e)}))}async function JR(s,e){bE(s),lp(s)?(s.Va.ha(e),ap(s)):s.Va.set("Unknown")}async function ZR(s,e,i){if(s.Va.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){ae(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Xc?s.da.Xe(e):e instanceof sE?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await yE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(hn.EMPTY_BYTE_STRING,A.snapshotVersion)),TE(c,v);const S=new _r(A.target,v,y,A.sequenceNumber);rp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ae(da,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!Cl(e))throw e;s.Ea.add(1),await hu(s),s.Va.set("Offline"),i||(i=()=>yE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function AE(s,e){return e().catch((i=>mh(s,i,e)))}async function Oh(s){const e=xe(s),i=Cr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;WR(e);)try{const o=await MR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,eI(e,o)}catch(o){await mh(e,o)}SE(e)&&wE(e)}function WR(s){return ga(s)&&s.Ta.length<10}function eI(s,e){s.Ta.push(e);const i=Cr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function SE(s){return ga(s)&&!Cr(s).x_()&&s.Ta.length>0}function wE(s){Cr(s).start()}async function tI(s){Cr(s).ra()}async function nI(s){const e=Cr(s);for(const i of s.Ta)e.ea(i.mutations)}async function iI(s,e,i){const a=s.Ta.shift(),o=Jm.from(a,e,i);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Oh(s)}async function sI(s,e){e&&Cr(s).Y_&&await(async function(a,o){if((function(d){return jx(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Cr(a).B_(),await AE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Oh(a)}})(s,e),SE(s)&&wE(s)}async function sv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),ae(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await hu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function rI(s,e){const i=xe(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await hu(i),i.Va.set("Unknown"))}function Nl(s){return s.ma||(s.ma=(function(i,a,o){const c=xe(i);return c.sa(),new HR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:XR.bind(null,s),Yo:$R.bind(null,s),t_:JR.bind(null,s),J_:ZR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),lp(s)?ap(s):s.Va.set("Unknown")):(await s.ma.stop(),bE(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(i,a,o){const c=xe(i);return c.sa(),new qR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tI.bind(null,s),t_:sI.bind(null,s),ta:nI.bind(null,s),na:iI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class op{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new op(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(s,e){if(Cs("AsyncQueue",`${e}: ${s}`),Cl(s))return new ue(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Vo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class rv{constructor(){this.ga=new xt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,g,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Al(e,i,ml.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class aI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lI{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=av(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function av(){return new pa((s=>F1(s)),wh)}async function xE(s,e){const i=xe(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new aI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=up(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function RE(s,e){const i=xe(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oI(s,e){const i=xe(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&cp(i)}function uI(s,e,i){const a=xe(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var bm,lv;(lv=bm||(bm={})).Ma="default",lv.Cache="cache";class IE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class CE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class cI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=K1(e),this.tu=new ml(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const D=o.get(A),K=xh(this.query,S)?S:null,te=!!D&&this.mutatedKeys.has(D.key),se=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;D&&K?D.data.isEqual(K.data)?te!==se&&(a.track({type:3,doc:K}),W=!0):this.su(D,K)||(a.track({type:2,doc:K}),W=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!D&&K?(a.track({type:0,doc:K}),W=!0):D&&!K&&(a.track({type:1,doc:D}),W=!0,(v||y)&&(g=!0)),W&&(K?(d=d.add(K),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(K,te){const se=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:W})}};return se(K)-se(te)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new NE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new CE(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hp="SyncEngine";class hI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fI{constructor(e){this.key=e,this.hu=!1}}class dI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((g=>F1(g)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(pe.comparator),this.Au=new Map,this.Vu=new ep,this.du={},this.mu=new Map,this.fu=bl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mI(s,e,i=!0){const a=LE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await DE(a,e,i,!0),o}async function pI(s,e){const i=LE(s);await DE(i,e,!0,!1)}async function DE(s,e,i,a){const o=await VR(s.localStore,qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await gI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,o),g}async function gI(s,e,i,a,o){s.pu=(S,D,K)=>(async function(se,W,ce,Re){let be=W.view.ru(ce);be.Ss&&(be=await W_(se.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,be))));const it=Re&&Re.targetChanges.get(W.targetId),dt=Re&&Re.targetMismatches.get(W.targetId)!=null,Le=W.view.applyChanges(be,se.isPrimaryClient,it,dt);return uv(se,W.targetId,Le.au),Le.snapshot})(s,S,D,K);const c=await W_(s.localStore,e,!0),d=new cI(e,c.ks),g=d.ru(c.documents),v=cu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,v);uv(s,i,y.au);const A=new hI(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function yI(s,e,i){const a=xe(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&sp(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(Il)):(Am(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function _I(s,e){const i=xe(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sp(i.remoteStore,a.targetId))}async function vI(s,e,i){const a=xI(s);try{const o=await(function(d,g){const v=xe(d),y=Tt.now(),A=g.reduce(((K,te)=>K.add(te.key)),qe());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let te=Ns(),se=qe();return v.xs.getEntries(K,A).next((W=>{te=W,te.forEach(((ce,Re)=>{Re.isValidDocument()||(se=se.add(ce))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,te))).next((W=>{S=W;const ce=[];for(const Re of g){const be=Mx(Re,S.get(Re.key).overlayedDocument);be!=null&&ce.push(new Or(Re.key,be,j1(be.value.mapValue),vi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,ce,g)})).next((W=>{D=W;const ce=W.applyToLocalDocumentSet(S,se);return v.documentOverlayCache.saveOverlays(K,W.batchId,ce)}))})).then((()=>({batchId:D.batchId,changes:Q1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new xt(He)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await fu(a,o.changes),await Oh(a.remoteStore)}catch(o){const c=up(o,"Failed to persist write");i.reject(c)}}async function OE(s,e){const i=xe(s);try{const a=await DR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?tt(d.hu,14607):o.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await fu(i,a,e)}catch(a){await Il(a)}}function ov(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=xe(d);v.onlineState=g;let y=!1;v.queries.forEach(((A,S)=>{for(const D of S.ba)D.va(g)&&(y=!0)})),y&&cp(v)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function EI(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new xt(pe.comparator);d=d.insert(c,pn.newNoDocument(c,Se.min()));const g=qe().add(c),v=new Ch(Se.min(),new Map,new xt(He),d,g);await OE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(e),fp(a)}else await Em(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(Il)}async function TI(s,e){const i=xe(s),a=e.batch.batchId;try{const o=await NR(i.localStore,e);VE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await fu(i,o)}catch(o){await Il(o)}}async function bI(s,e,i){const a=xe(s);try{const o=await(function(d,g){const v=xe(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(tt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);VE(a,e,i),ME(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await fu(a,o)}catch(o){await Il(o)}}function ME(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function VE(s,e,i){const a=xe(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||kE(s,a)}))}function kE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(sp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),fp(s))}function uv(s,e,i){for(const a of i)a instanceof CE?(s.Vu.addReference(a.key,e),AI(s,a)):a instanceof NE?(ae(hp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||kE(s,a.key)):ve(19791,{wu:a})}function AI(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(hp,"New document in limbo: "+i),s.Eu.add(a),fp(s))}function fp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(wt.fromString(e)),a=s.fu.next();s.Au.set(a,new fI(i)),s.Ru=s.Ru.insert(i,a),EE(s.remoteStore,new _r(qi(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function fu(s,e,i){const a=xe(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=np.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const A=xe(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(D=>J.forEach(D.Ts,(K=>A.persistence.referenceDelegate.addReference(S,D.targetId,K))).next((()=>J.forEach(D.Is,(K=>A.persistence.referenceDelegate.removeReference(S,D.targetId,K)))))))))}catch(S){if(!Cl(S))throw S;ae(ip,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const K=A.vs.get(D),te=K.snapshotVersion,se=K.withLastLimboFreeSnapshotVersion(te);A.vs=A.vs.insert(D,se)}}})(a.localStore,c))}async function SI(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){ae(hp,"User change. New user:",e.toKey());const a=await gE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ue(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await fu(i,a.Ns)}}function wI(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function LE(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EI.bind(null,e),e.Pu.J_=oI.bind(null,e.eventManager),e.Pu.yu=uI.bind(null,e.eventManager),e}function xI(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bI.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CR(this.persistence,new xR,e.initialUser,this.serializer)}Cu(e){return new pE(tp.Vi,this.serializer)}Du(e){return new LR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class RI extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new pE((a=>dh.Vi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lI})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=BR(e.databaseInfo);return KR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new QR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new UR})())}createSyncEngine(e,i){return(function(o,c,d,g,v,y,A){const S=new dI(o,c,d,g,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);ae(da,"RemoteStore shutting down."),a.Ea.add(5),await hu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class II{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=up(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await gE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CI(s);ae(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>sv(e.remoteStore,o))),s._onlineComponents=e}async function CI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Nr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yl("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new ph)}}else ae(Nr,"Using default OfflineComponentProvider"),await Xd(s,new RI(void 0));return s._offlineComponents}async function jE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Nr,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(ae(Nr,"Using default OnlineComponentProvider"),await cv(s,new Sm))),s._onlineComponents}function NI(s){return jE(s).then((e=>e.syncEngine))}async function wm(s){const e=await jE(s),i=e.eventManager;return i.onListen=mI.bind(null,e.syncEngine),i.onUnlisten=yI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_I.bind(null,e.syncEngine),i}function DI(s,e,i,a){const o=new UE(a),c=new IE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>xE(await wm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>RE(await wm(s),c)))}}function OI(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const A=new UE({next:D=>{A.Nu(),d.enqueueAndForget((()=>RE(c,S)));const K=D.docs.has(g);!K&&D.fromCache?y.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&D.fromCache&&v&&v.source==="server"?y.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new IE(Sh(g.path),A,{includeMetadataChanges:!0,Ka:!0});return xE(c,S)})(await wm(s),s.asyncQueue,e,i,a))),a.promise}function MI(s,e){const i=new Ar;return s.asyncQueue.enqueueAndForget((async()=>vI(await NI(s),e,i))),i.promise}function PE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const VI="ComponentProvider",hv=new Map;function kI(s,e,i,a,o){return new ex(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,PE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const zE="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uR)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Ow;switch(a.type){case"firstParty":return new Lw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(ae(VI,"Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function LI(s,e,i,a={}){s=_i(s,dp);const o=Sl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(kv(`https://${g}`),Lv("Firestore",!0)),c.host!==zE&&c.host!==g&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Sr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=mn.MOCK_USER;else{y=eA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(S)}s._authCredentials=new Mw(new R1(y,A))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Yt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ou(i,Yt._jsonSchema))return new Yt(e,a||null,new pe(wt.fromString(i.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Kt("string",Yt._jsonSchemaVersion),referencePath:Kt("string")};class Wo extends Mh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new pe(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function Hn(s,e,...i){if(s=En(s),arguments.length===1&&(e=Hm.newId()),Hw("doc","path",e),s instanceof dp){const a=wt.fromString(e,...i);return R_(a),new Yt(s,null,new pe(a))}{if(!(s instanceof Yt||s instanceof Wo))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(wt.fromString(e,...i));return R_(a),new Yt(s.firestore,s instanceof Wo?s.converter:null,new pe(a))}}const mv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ae(mv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=op.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ma extends dp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function UI(s,e){const i=typeof s=="object"?s:zv(),a=typeof s=="string"?s:ah,o=Om(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Zb("firestore");c&&LI(o,...c)}return o}function mp(s){if(s._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jI(s),s._firestoreClient}function jI(s){const e=s._freezeSettings(),i=kI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new II(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(hn.fromBase64String(e))}catch(i){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Kt("string",ri._jsonSchemaVersion),bytes:Kt("string")};class pp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Kt("string",Fi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Kt("string",Ei._jsonSchemaVersion),vectorValues:Kt("object")};const PI=/^__.*__$/;class zI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new uu(e,this.data,i,this.fieldTransforms)}}class BE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class kh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(HE(this.dataSource)&&PI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}createContext(e,i,a,o=!1){return new kh({dataSource:e,methodName:i,targetDoc:a,path:cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qE(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new BI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function HI(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);yp("Data must be an object, but it was:",d,a);const g=GE(a,d);let v,y;if(c.merge)v=new Gn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=eu(e,S,i);if(!d.contains(D))throw new ue(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);YE(A,D)||A.push(D)}v=new Gn(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new zI(new Nn(g),v,y)}class Lh extends Vh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function qI(s,e,i){return new kh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gp extends Vh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=qI(this,e,!0),a=this.Ac.map((c=>du(c,i))),o=new Tl(a);return new Cx(e.path,o)}isEqual(e){return e instanceof gp&&Sr(this.Ac,e.Ac)}}function GI(s,e,i,a){const o=s.createContext(1,e,i);yp("Data must be an object, but it was:",o,a);const c=[],d=Nn.empty();Dr(a,((v,y)=>{const A=KE(e,v,i);y=En(y);const S=o.childContextForFieldPath(A);if(y instanceof Lh)c.push(A);else{const D=du(y,S);D!=null&&(c.push(A),d.set(A,D))}}));const g=new Gn(c);return new BE(d,g,o.fieldTransforms)}function FI(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[eu(e,a,i)],v=[o];if(c.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(eu(e,c[D])),v.push(c[D+1]);const y=[],A=Nn.empty();for(let D=g.length-1;D>=0;--D)if(!YE(y,g[D])){const K=g[D];let te=v[D];te=En(te);const se=d.childContextForFieldPath(K);if(te instanceof Lh)y.push(K);else{const W=du(te,se);W!=null&&(y.push(K),A.set(K,W))}}const S=new Gn(y);return new BE(A,S,d.fieldTransforms)}function du(s,e){if(FE(s=En(s)))return yp("Unsupported field value:",e,s),GE(s,e);if(s instanceof Vh)return(function(a,o){if(!HE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=du(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Tt.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof Tt){const c=new Tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:aE(o.serializer,a._byteString)};if(a instanceof Yt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ei)return(function(d,g){const v=d instanceof Ei?d.toArray():d;return{mapValue:{fields:{[L1]:{stringValue:U1},[lh]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Xm(g.serializer,A)}))}}}}}})(a,o);if(dE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${qm(a)}`)})(s,e)}function GE(s,e){const i={};return N1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(s,((a,o)=>{const c=du(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Tt||s instanceof Fi||s instanceof ri||s instanceof Yt||s instanceof Vh||s instanceof Ei||dE(s))}function yp(s,e,i){if(!FE(i)||!I1(i)){const a=qm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function eu(s,e,i){if((e=En(e))instanceof pp)return e._internalPath;if(typeof e=="string")return KE(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const KI=new RegExp("[~\\*/\\[\\]]");function KE(s,e,i){if(e.search(KI)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new pp(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ue(Z.INVALID_ARGUMENT,g+s+v)}function YE(s,e){return s.some((i=>i.isEqual(e)))}class YI{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Dr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((a=>Lt(a.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new Fi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const i=xr(e);return new Tt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=wt.fromString(e);tt(fE(a),9688,{name:e});const o=new $o(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||Cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class QE extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,i)}}function $d(...s){return new gp("arrayUnion",s)}const yv="@firebase/firestore",_v="4.10.0";function vv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class XE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(eu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QI extends XE{data(){return super.data()}}function XI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function $I(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends XE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(eu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Kt("string",ua._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class $c extends ua{data(e={}){return super.data(e)}}class pl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:JI(g.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Kt("string",pl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};function ZI(s){s=_i(s,Yt);const e=_i(s.firestore,ma),i=mp(e);return OI(i,s._key).then((a=>$E(e,s,a)))}function WI(s,e,i){s=_i(s,Yt);const a=_i(s.firestore,ma),o=$I(s.converter,e),c=qE(a);return _p(a,[HI(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,vi.none())])}function Ts(s,e,i,...a){s=_i(s,Yt);const o=_i(s.firestore,ma),c=qE(o);let d;return d=typeof(e=En(e))=="string"||e instanceof pp?FI(c,"updateDoc",s._key,e,i,a):GI(c,"updateDoc",s._key,e),_p(o,[d.toMutation(s._key,vi.exists(!0))])}function eC(s){return _p(_i(s.firestore,ma),[new $m(s._key,vi.none())])}function Ev(s,...e){s=En(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Yt)d=_i(s.firestore,ma),g=Sh(s._key.path),c={next:y=>{e[a]&&e[a]($E(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=_i(s,Mh);d=_i(y.firestore,ma),g=y._query;const A=new QE(d);c={next:S=>{e[a]&&e[a](new pl(d,A,y,S))},error:e[a+1],complete:e[a+2]},XI(s._query)}const v=mp(d);return DI(v,g,o,c)}function _p(s,e){const i=mp(s);return MI(i,e)}function $E(s,e,i){const a=i.docs.get(e._key),o=new QE(s);return new ua(s,o,e._key,a,new Lo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Dw(wl),gl(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ma(new Vw(a.getProvider("auth-internal")),new Uw(d,a.getProvider("app-check-internal")),tx(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Tr(yv,_v,e),Tr(yv,_v,"esm2020")})();const JE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const tC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Tv=s=>{const e=nC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const rC=Qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Qe.createElement("svg",{ref:v,...iC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:JE("lucide",o),...!c&&!sC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>Qe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const nt=(s,e)=>{const i=Qe.forwardRef(({className:a,...o},c)=>Qe.createElement(rC,{ref:c,iconNode:e,className:JE(`lucide-${tC(Tv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Tv(s),i};const aC=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],lC=nt("arrow-right-left",aC);const oC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xm=nt("book-open",oC);const uC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cC=nt("briefcase",uC);const hC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fC=nt("circle-check-big",hC);const dC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bv=nt("circle-play",dC);const mC=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],dr=nt("coins",mC);const pC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZE=nt("copy",pC);const gC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jd=nt("crown",gC);const yC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],_C=nt("dice-5",yC);const vC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rm=nt("eye",vC);const EC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],TC=nt("gavel",EC);const bC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],vp=nt("ghost",bC);const AC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],SC=nt("hammer",AC);const wC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],xC=nt("hand",wC);const RC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],IC=nt("history",RC);const CC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],NC=nt("hourglass",CC);const DC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Av=nt("loader-circle",DC);const OC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Im=nt("log-out",OC);const MC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],VC=nt("scale",MC);const kC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WE=nt("search",kC);const LC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],UC=nt("shield",LC);const jC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],PC=nt("skull",jC);const zC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sv=nt("sparkles",zC);const BC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uo=nt("trash-2",BC);const HC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eT=nt("triangle-alert",HC);const qC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tT=nt("trophy",qC);const GC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nT=nt("user",GC);const FC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KC=nt("users",FC);const YC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jo=nt("x",YC);const QC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],XC=nt("zap",QC),$C={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},iT=Pv($C),Zd=Cw(iT),qn=UI(iT),ii=typeof __app_id<"u"?__app_id:"guild-shadows",JC="15",wv=3,ot={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:dr,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:xC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:2,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:_C,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:PC,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:TC,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:2,desc:"Copy effect of last Action card.",icon:ZE,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:cC,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:WE,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:4,desc:"Immune to theft & assassination.",icon:UC,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:VC,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:eT,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},ZC=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],xv=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Rv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(vp,{size:12,className:"text-purple-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),WC=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(vp,{size:22,className:"text-purple-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Wd=s=>s<=2?20:s===3?18:15,em=({isShaking:s})=>T.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(ot),o=ot[a[i%a.length]].icon;return T.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(o,{size:32})},i)})}),T.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),eN=({type:s,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:T.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${s==="success"?"bg-green-950/90 border-green-500 text-green-100":s==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&T.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:T.jsx(a,{size:48,className:"animate-bounce"})}),T.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&T.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),tN=({event:s,onClose:e})=>{if(Qe.useEffect(()=>{if(s){const d=setTimeout(e,4e3);return()=>clearTimeout(d)}},[s,e]),!s)return null;const i=s.type==="SCOUT",a=s.type==="DISCARD",o=s.type==="PLAY",c=s.cardId?ot[s.cardId]:null;return T.jsx("div",{className:"fixed inset-0 z-180 flex items-center justify-center pointer-events-none px-4",children:T.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl border-2 border-purple-500/50 shadow-[0_0_50px_rgba(168,85,247,0.4)] rounded-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 pointer-events-auto",children:[T.jsxs("div",{className:"bg-linear-to-r from-gray-900 via-purple-900 to-gray-900 p-3 text-center border-b border-purple-500/30",children:[T.jsxs("h3",{className:"font-bold text-lg text-white tracking-widest uppercase flex items-center justify-center gap-2",children:[T.jsx(nT,{size:18,className:"text-purple-400"}),s.actorName]}),T.jsx("div",{className:"text-[10px] text-purple-200 uppercase tracking-widest opacity-80",children:i?"Scouting Mission":a?"Forced Discard":"Played Action"})]}),T.jsxs("div",{className:"p-6 flex flex-col items-center",children:[T.jsx("div",{className:"mb-6 scale-110",children:o&&c?T.jsx(Po,{cardId:s.cardId,small:!0,disabled:!0,showCost:!1}):T.jsx("div",{className:"w-20 h-28 bg-gray-800 rounded-xl border-2 border-gray-600 flex items-center justify-center shadow-inner",children:i?T.jsx(Rm,{size:32,className:"text-blue-400"}):T.jsx(Uo,{size:32,className:"text-red-400"})})}),T.jsxs("div",{className:"w-full space-y-2",children:[s.outcomes.map((d,g)=>T.jsx("div",{className:"bg-black/40 rounded p-2 text-center text-sm border border-gray-700/50 text-gray-200 shadow-sm font-medium",children:d},g)),s.outcomes.length===0&&T.jsx("div",{className:"text-center text-gray-500 text-xs italic",children:"No visible effect."})]})]})]})})},Po=({cardId:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c,turnsLeft:d,showCost:g=!0})=>{const v=ot[s];if(!v)return T.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return T.jsxs("div",{className:`relative w-6 h-8 rounded flex items-center justify-center ${v.bg} border ${v.border} shadow-sm`,title:v.name,children:[T.jsx(v.icon,{className:`${v.color} w-3.5 h-3.5`}),d!==void 0&&T.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-black text-[9px] text-white w-4 h-4 rounded-full flex items-center justify-center border border-gray-500 z-10",children:d})]});const y=o?"w-20 h-28 p-1.5":"w-24 h-40 md:w-32 md:h-48 p-2",A=o?20:28,S=o?"text-[8px]":"text-[9px] md:text-[10px]",D=o?"text-[10px]":"text-[11px] md:text-xs";return T.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible shrink-0
        ${y} ${v.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":v.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[T.jsxs("div",{className:"w-full flex justify-between items-center font-bold text-gray-300",children:[T.jsx("span",{className:`${o?"text-[8px]":"text-[10px]"} ${v.type==="AGENT"?"text-blue-300":"text-amber-200"}`,children:v.type==="AGENT"?"AGT":"ACT"}),g&&v.cost>0&&T.jsxs("span",{className:"bg-black/50 px-1.5 rounded text-yellow-400 flex items-center gap-0.5 text-[10px]",children:[v.cost," ",T.jsx(dr,{size:8})]})]}),T.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[T.jsx(v.icon,{className:`${v.color}`,size:A}),d!==void 0&&T.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[T.jsx(NC,{size:8,className:"text-gray-400"}),T.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),T.jsxs("div",{className:"w-full text-center",children:[T.jsx("div",{className:`font-bold text-white leading-tight mb-1 line-clamp-1 ${D}`,children:v.name}),T.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1 w-full
            ${S} h-auto p-1 whitespace-normal text-center
          `,children:v.desc})]})]})},Iv=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 p-4 flex items-center justify-center",children:T.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[T.jsx(xm,{size:18})," Guild Archives"]}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full",children:T.jsx(jo,{size:20})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[T.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[T.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[T.jsx(tT,{size:18,className:"text-yellow-400"})," Victory Condition"]}),T.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),T.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"4 Players:"})," 15 Gold"]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[T.jsx(XC,{size:18})," Actions"," ",T.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[ot.URCHIN,ot.THIEF,ot.HEIST,ot.ASSASSIN,ot.BLACKMAIL,ot.DOPPELGANGER].map(e=>T.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[T.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:T.jsx(e.icon,{size:16})}),T.jsxs("div",{children:[T.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),T.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[T.jsx(KC,{size:18})," Agents"," ",T.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[ot.MERCHANT,ot.LOOKOUT,ot.BODYGUARD,ot.POLITICIAN,ot.SABOTEUR].map(e=>T.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[T.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:T.jsx(e.icon,{size:16})}),T.jsxs("div",{children:[T.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),T.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),T.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[T.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),T.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",T.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",T.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),nN=({report:s})=>s?T.jsxs("div",{className:"w-full bg-green-950/40 border-b border-green-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[T.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[T.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-gray-300",children:s.breakdown.map((e,i)=>T.jsxs("span",{className:"flex gap-1 items-center",children:[T.jsxs("span",{className:"text-gray-400",children:[e.source,":"]}),T.jsxs("span",{className:"text-green-300",children:["+",e.amount]})]},i))}),s.expired.length>0&&T.jsxs("div",{className:"text-[9px] text-red-300 mt-0.5 flex gap-1 items-center",children:[T.jsx(Im,{size:8})," Lost:"," ",s.expired.map(e=>ot[e]?.name).join(", ")]})]}),T.jsx("div",{className:"pl-3 border-l border-green-500/20 flex flex-col items-center justify-center text-green-400 shrink-0",children:T.jsxs("span",{className:"text-sm font-black",children:["+",s.income]})})]}):null,iN=({report:s})=>s?T.jsxs("div",{className:"w-full bg-indigo-950/40 border-b border-indigo-500/30 p-2 flex items-center justify-between animate-in slide-in-from-top-2 duration-300",children:[T.jsxs("div",{className:"flex flex-col gap-0.5 w-full",children:[T.jsx("div",{className:"text-[10px] text-indigo-300 font-bold uppercase",children:s.actionName}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-[9px] text-gray-400",children:[T.jsxs("span",{children:["Cost: ",s.cost]}),s.tax>0&&T.jsxs("span",{className:"text-red-400",children:["Tax: ",s.tax]}),s.gains.map((e,i)=>T.jsxs("span",{className:"text-green-300",children:[e.desc,": +",e.amount]},i))]})]}),T.jsx("div",{className:"pl-3 border-l border-indigo-500/20 flex flex-col items-center justify-center shrink-0",children:T.jsxs("span",{className:`text-sm font-black ${s.netChange>=0?"text-green-400":"text-red-400"}`,children:[s.netChange>0?"+":"",s.netChange]})})]}):null;function sN(){const[s,e]=Qe.useState(null),[i,a]=Qe.useState("menu"),[o,c]=Qe.useState(""),[d,g]=Qe.useState(null),[v,y]=Qe.useState(""),[A,S]=Qe.useState(!1),[D,K]=Qe.useState(localStorage.getItem("guild_room_id")||""),[te,se]=Qe.useState(!1),[W,ce]=Qe.useState(null),[Re,be]=Qe.useState(null),[it,dt]=Qe.useState(!1),[Le,C]=Qe.useState(!1),[w,I]=Qe.useState(!1),[M,N]=Qe.useState(null),[L,x]=Qe.useState(null),[st,St]=Qe.useState(null),[G,ne]=Qe.useState(null),[he,Ue]=Qe.useState(null),Xe=Qe.useRef(0),[V,Q]=Qe.useState(null),[ie,re]=Qe.useState(null),[fe,Ie]=Qe.useState(()=>localStorage.getItem("gameHub_playerName")||"");Qe.useEffect(()=>{fe&&localStorage.setItem("gameHub_playerName",fe)},[fe]),Qe.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await p2(Zd,__initial_auth_token):await c2(Zd))(),_2(Zd,e)),[]),Qe.useEffect(()=>{if(!(!D||!s))return Ev(Hn(qn,"artifacts",ii,"public","data","rooms",D),B=>{if(B.exists()){const X=B.data();if(!X.players.some(me=>me.id===s.uid)){K(""),a("menu"),y("You have been removed from the guild.");return}g(X),X.latestPublicEvent&&X.latestPublicEvent.id>Xe.current&&(Xe.current=X.latestPublicEvent.id,Ue(X.latestPublicEvent)),X.status==="playing"&&X.turnReport&&X.turnReport.playerId===s.uid&&!X.turnReport.seen&&(Q(X.turnReport),re(null)),X.status==="playing"&&X.eveningReport&&X.eveningReport.playerId===s.uid&&!X.eveningReport.seen&&(re(X.eveningReport),Q(null)),X.status==="lobby"?a("lobby"):(X.status==="playing"||X.status==="finished")&&a("game")}else K(""),a("menu"),y("The Guild Hall was disbanded by the host.")},B=>console.error(B))},[D,s]),Qe.useEffect(()=>{const B=Ev(Hn(qn,"game_hub_settings","config"),X=>{X.exists()&&X.data()[JC]?.maintenance?se(!0):se(!1)});return()=>B()},[]);const Me=(B,X,_e,me)=>{be({type:B,message:X,subtext:_e,icon:me}),setTimeout(()=>be(null),2500)},Nt=async()=>{if(!fe)return y("Enter Alias");S(!0);try{const B=Math.random().toString(36).substring(2,7).toUpperCase();await WI(Hn(qn,"artifacts",ii,"public","data","rooms",B),{roomId:B,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:fe,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null}),K(B),localStorage.setItem("guild_room_id",B)}catch(B){console.error(B),y("Failed to create room.")}finally{S(!1)}},gt=async()=>{if(!o||!fe)return y("Enter Info");S(!0);try{const B=Hn(qn,"artifacts",ii,"public","data","rooms",o),X=await ZI(B);if(!X.exists())return S(!1),y("Invalid Room");const _e=X.data();if(_e.status!=="lobby")return S(!1),y("Game Started");if(_e.players.length>=4)return S(!1),y("Room Full");await Ts(B,{players:[..._e.players,{id:s.uid,name:fe,gold:0,hand:[],tableau:[],ready:!1}]}),K(o),localStorage.setItem("guild_room_id",o)}catch(B){console.error(B),y("Failed to join room.")}finally{S(!1)}},Qi=async B=>{if(d.hostId!==s.uid)return;const X=d.players.filter(_e=>_e.id!==B);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:X})},Xi=async()=>{if(d){if(d.hostId===s.uid)await eC(Hn(qn,"artifacts",ii,"public","data","rooms",D));else{const B=d.players.filter(X=>X.id!==s.uid);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:B})}K(""),localStorage.removeItem("guild_room_id"),a("menu"),I(!1)}},Os=async()=>{if(d.hostId!==s.uid)return;const B=xv([...ZC]),X=d.players.map(_e=>({..._e,hand:[B.pop(),B.pop()],tableau:[],gold:2,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{status:"playing",deck:B,players:X,turnIndex:0,totalTurns:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null,latestPublicEvent:null})},Ms=async()=>{const B=d.players.map(X=>X.id===s.uid?{...X,ready:!X.ready}:X);await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:B})},Dn=async()=>{if(d.hostId!==s.uid)return;const B=d.players.map(X=>({...X,hand:[],tableau:[],gold:0,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:B,latestPublicEvent:null}),I(!1)},$i=(B,X)=>{let _e=0;return B.forEach(me=>{if(me.id!==X){const mt=me.tableau.filter(Fe=>Fe.cardId==="SABOTEUR").length;_e+=mt}}),_e},Ji=(B,X)=>{B.forEach(_e=>{if(_e.id!==X){const me=_e.tableau.filter(mt=>mt.cardId==="POLITICIAN").length;me>0&&(_e.gold+=me)}})},Zi=async(B,X,_e,me,mt=null,Fe=null,De=null)=>{let je=(d.turnIndex+1)%B.length,Ke=B[je];const _t=(d.totalTurns||0)+1,Ut=[],et=[];Ke.tableau.forEach(nn=>{nn.turnsLeft-=1,nn.turnsLeft<=0?(Ut.push(nn.cardId),_e.push(nn.cardId)):et.push(nn)}),Ke.tableau=et;let yt=0;const yn=[];_t>=B.length&&(yn.push({source:"Guild Stipend",amount:1}),yt+=1),Ke.tableau.forEach(nn=>{nn.cardId==="MERCHANT"&&(yn.push({source:"Silk Trader",amount:1}),yt+=1)}),Ke.gold===0&&(yn.push({source:"Pity Bonus",amount:1}),yt+=1),Ke.gold+=yt,Ut.length>0&&me.push({text:`${Ke.name} lost ${Ut.length} agents to time.`,type:"warning",id:Date.now()}),me.push({text:`${Ke.name} begins turn (+${yt} Gold).`,type:"neutral",id:Date.now()+1});const Vs={playerId:Ke.id,income:yt,breakdown:yn,expired:Ut,seen:!1},ai=Wd(B.length);if(Ke.gold>=ai){const nn=B.map(ts=>({...ts,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:nn,status:"finished",winnerId:Ke.id,logs:$d({text:` ${Ke.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}X.length===0&&(_e.length>0?(X=xv([..._e]),_e=[],me.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):me.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),X.length>0&&Ke.hand.push(X.pop()),await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:B,deck:X,discardPile:_e,turnIndex:je,totalTurns:_t,logs:$d(...me),lastAction:mt!==null?mt:d.lastAction,turnReport:Vs,eveningReport:Fe,latestPublicEvent:De})},Mr=async(B,X,_e,me,mt,Fe,De,je,Ke)=>{const Ee=me[je],_t=ot[B];let Ut=[];const et=[];let yt=-(_t.cost+Ke);Ee.gold-=_t.cost+Ke,_t.type==="ACTION"&&Ji(me,Ee.id);const yn=Ee.hand.indexOf(B);yn>-1&&Ee.hand.splice(yn,1);let Vs=d.lastAction;if(_t.type==="AGENT")Ee.tableau.push({cardId:B,turnsLeft:wv}),De.push({text:` ${Ee.name} recruited ${_t.name}.`,type:"success",id:Date.now()}),Ut.push({desc:"Recruited Agent",amount:0}),et.push(`Recruited ${_t.name}`),et.push(`Active for ${wv} turns`);else if(Fe.push(B),Vs={cardId:B,playerId:Ee.id},B==="URCHIN")Ee.gold+=2,yt+=2,Ut.push({desc:"Street Urchin",amount:2}),De.push({text:` ${Ee.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()}),et.push("Gained +2 Gold from Supply");else if(B==="HEIST")Math.floor(Math.random()*6)+1>=4?(Ee.gold+=5,yt+=5,Ut.push({desc:"Heist Success",amount:5}),De.push({text:` ${Ee.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()}),et.push("Heist Successful: +5 Gold!")):(Ut.push({desc:"Heist Failed",amount:0}),De.push({text:` ${Ee.name}'s Heist failed.`,type:"failure",id:Date.now()}),et.push("Heist Failed: 0 Gold."));else if(B==="THIEF"){const Ae=me.find(ge=>ge.id===X);if(Ae.tableau.some(ge=>ge.cardId==="BODYGUARD"))Ut.push({desc:"Thief Blocked",amount:0}),De.push({text:` ${Ae.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()}),et.push(`Targeted ${Ae.name}`),et.push("Blocked by Bodyguard!");else{const ge=Math.min(Ae.gold,2);Ae.gold-=ge,Ee.gold+=ge,yt+=ge,Ut.push({desc:`Stole from ${Ae.name}`,amount:ge}),De.push({text:` ${Ee.name} stole ${ge} Gold from ${Ae.name}.`,type:"danger",id:Date.now()}),et.push(`Stole ${ge} Gold from ${Ae.name}`)}}else if(B==="ASSASSIN"){const Ae=me.find(ge=>ge.id===X);if(Ae.tableau.some(ge=>ge.cardId==="BODYGUARD"))De.push({text:` ${Ae.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()}),et.push(`Targeted ${Ae.name}`),et.push("Blocked by Bodyguard!");else if(_e!==null&&Ae.tableau[_e]){const ge=Ae.tableau[_e];Ae.tableau.splice(_e,1),Fe.push(ge.cardId),De.push({text:` ${Ee.name} assassinated ${Ae.name}'s ${ot[ge.cardId].name}!`,type:"danger",id:Date.now()}),et.push(`Assassinated ${Ae.name}'s ${ot[ge.cardId].name}`)}}else if(B==="BLACKMAIL"){const Ae=me.find(ge=>ge.id===X);if(Ae.tableau.some(ge=>ge.cardId==="BODYGUARD"))De.push({text:` ${Ae.name} blocked Blackmail.`,type:"warning",id:Date.now()}),et.push(`Targeted ${Ae.name}`),et.push("Blocked by Bodyguard!");else if(_e==="GOLD"){const ge=Math.min(Ae.gold,4);Ae.gold-=ge,Ee.gold+=ge,yt+=ge,Ut.push({desc:"Blackmail Gold",amount:ge}),De.push({text:` ${Ee.name} blackmailed ${Ae.name} for ${ge} Gold.`,type:"danger",id:Date.now()}),et.push(`Blackmailed ${Ae.name} for ${ge} Gold`)}else{const ge=parseInt(_e);if(!isNaN(ge)&&Ae.tableau[ge]){const ns=Ae.tableau[ge];Ae.tableau.splice(ge,1),Ee.tableau.push(ns),De.push({text:` ${Ee.name} blackmailed ${Ae.name}'s ${ot[ns.cardId].name}.`,type:"danger",id:Date.now()}),et.push(`Stole ${Ae.name}'s ${ot[ns.cardId].name}`)}}}else if(B==="DOPPELGANGER"){const Ae=d.lastAction;if(!Ae||Ae.cardId==="DOPPELGANGER")De.push({text:` ${Ee.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()}),et.push("Effect Fizzled");else{De.push({text:` ${Ee.name} copies ${ot[Ae.cardId].name}...`,type:"neutral",id:Date.now()});const ge=Ae.cardId;["URCHIN","HEIST"].includes(ge)?(ge==="URCHIN"&&(Ee.gold+=2,yt+=2,Ut.push({desc:"Copied Urchin",amount:2}),et.push("Mimicked Urchin: +2 Gold")),ge==="HEIST"&&(Math.floor(Math.random()*6)+1>=4?(Ee.gold+=5,yt+=5,Ut.push({desc:"Copied Heist",amount:5}),et.push("Mimicked Heist: +5 Gold!")):et.push("Mimicked Heist: Failed."))):(Ee.gold+=3,yt+=3,Ut.push({desc:"Copied Complex Action",amount:3}),De.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}),et.push(`Mimicked ${ot[ge].name}`),et.push("Bonus: +3 Gold"))}}const ai=Wd(me.length);if(Ee.gold>=ai){const Ae=me.map(ge=>({...ge,ready:!1}));await Ts(Hn(qn,"artifacts",ii,"public","data","rooms",D),{players:Ae,status:"finished",winnerId:Ee.id,logs:$d({text:` ${Ee.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}const nn={playerId:Ee.id,actionName:_t.name,cost:_t.cost,tax:Ke,gains:Ut,netChange:yt,seen:!1},ts={id:Date.now(),type:"PLAY",actorName:Ee.name,cardId:B,outcomes:et};ce(null),N(null),x(null),ne(null),await Zi(me,mt,Fe,De,Vs,nn,ts)},Rt=async B=>{const X=JSON.parse(JSON.stringify(d.players)),_e=d.turnIndex,me=X[_e],mt=[...d.deck],Fe=[...d.discardPile],De=[],je=me.hand.splice(B,1)[0];Fe.push(je),De.push({text:` ${me.name} discarded ${ot[je].name} (Hand Limit).`,type:"neutral",id:Date.now()});const Ke={playerId:me.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1},Ee={id:Date.now(),type:"DISCARD",actorName:me.name,cardId:null,outcomes:[`Discarded ${ot[je].name}`,"Hand limit enforced"]};ce(null),N(null),await Zi(X,mt,Fe,De,null,Ke,Ee)},Dt=B=>{if(M==="DISCARD"){Rt(B);return}if(M==="SCOUT"){Vr(B);return}const X=d.players[d.turnIndex].hand[B],_e=ot[X],me=d.players[d.turnIndex],mt=_e.type==="ACTION"?$i(d.players,me.id):0;if(me.gold<_e.cost+mt){Me("failure","Insufficient Funds",`Cost: ${_e.cost} + ${mt} Tax`,dr);return}if(X==="DOPPELGANGER"){const Fe=d.lastAction;let De=null;Fe&&Fe.cardId!=="DOPPELGANGER"&&(De=ot[Fe.cardId]),ne({handIdx:B,targetCard:De});return}ce(B),X==="THIEF"||X==="ASSASSIN"||X==="BLACKMAIL"?N("PLAYER"):(_e.type==="AGENT"||X==="URCHIN"||X==="HEIST")&&Ot(B,null,null)},Ti=B=>{if(!M)return;const X=d.players[d.turnIndex].hand[W];X==="THIEF"?Ot(W,B,null):X==="ASSASSIN"?(x(B),N("CARD")):X==="BLACKMAIL"&&(x(B),N("OPTION"))},Dl=B=>{M==="CARD"&&L&&Ot(W,L,B)},ya=B=>{M==="OPTION"&&L&&Ot(W,L,B)},Ot=async(B,X,_e)=>{const me=JSON.parse(JSON.stringify(d.players)),mt=[...d.deck],Fe=[...d.discardPile],De=[],je=me.find(_t=>_t.id===s.uid),Ke=je.hand[B],Ee=ot[Ke].type==="ACTION"?$i(me,je.id):0;await Mr(Ke,X,_e,me,mt,Fe,De,d.turnIndex,Ee)},Wi=()=>{N("SCOUT"),Me("success","Scout Mode","Select a card to discard",Rm)},Vr=async B=>{const X=JSON.parse(JSON.stringify(d.players)),_e=d.turnIndex,me=X[_e],mt=[...d.deck],Fe=[...d.discardPile],De=[],je=me.hand.splice(B,1)[0];Fe.push(je),mt.length>0&&me.hand.push(mt.pop()),De.push({text:`zzz ${me.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const Ke={playerId:me.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1},Ee={id:Date.now(),type:"SCOUT",actorName:me.name,cardId:null,outcomes:["Discarded 1 card","Drew 1 replacement"]};ce(null),N(null),await Zi(X,mt,Fe,De,null,Ke,Ee)},kr=()=>{d.deck.length!==0&&(St(d.deck[d.deck.length-1]),setTimeout(()=>St(null),3e3))},bi=B=>B==="URCHIN"?"Effect: Gain +2 Gold":B==="HEIST"?"Effect: 50% chance to gain +5 Gold":"Effect: Gain +3 Gold (Mimic Bonus)";if(te)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(SC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Sv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Sv,{size:16})]})})})})]});if(!i)return T.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(em,{}),T.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[T.jsx(vp,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),T.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),T.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[v&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:v}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:fe,onChange:B=>Ie(B.target.value)}),T.jsxs("button",{onClick:Nt,disabled:A,className:"w-full bg-linear-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[A?T.jsx(Av,{size:18,className:"animate-spin"}):T.jsx(Jd,{size:18}),A?"Establishing...":"Establish Guild"]}),T.jsxs("div",{className:"flex gap-2 mb-3",children:[T.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:o,onChange:B=>c(B.target.value.toUpperCase())}),T.jsx("button",{onClick:gt,disabled:A,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:A?T.jsx(Av,{size:16,className:"animate-spin"}):"Join"})]}),T.jsxs("button",{onClick:()=>dt(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(xm,{size:14})," Guild Archives"]})]}),it&&T.jsx(Iv,{onClose:()=>dt(!1)}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&d){const B=d.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[T.jsx(em,{}),T.jsx(WC,{}),T.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[T.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Shadow Hall:"," ",T.jsx("span",{className:"text-white font-mono",children:d.roomId})]}),T.jsx("button",{onClick:Xi,className:"text-red-400 hover:text-red-300",children:T.jsx(Im,{size:20})})]}),T.jsxs("div",{className:"space-y-2 mb-6",children:[T.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),d.players.map(X=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[T.jsxs("span",{className:"font-bold flex items-center gap-2",children:[T.jsx(nT,{size:14})," ",X.name,X.id===d.hostId&&T.jsx(Jd,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(fC,{size:12})," Ready"]}),B&&X.id!==s.uid&&T.jsx("button",{onClick:()=>Qi(X.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:T.jsx(Uo,{size:14})})]})]},X.id))]}),B?T.jsx("button",{onClick:Os,disabled:d.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${d.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Operation"}):T.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),T.jsx(Rv,{})]})}const _a=d.players.findIndex(B=>B.id===s.uid),Tn=d.players[_a],es=d.turnIndex===_a;W!==null&&ot[Tn.hand[W]];const Lr=$i(d.players,Tn.id),On=Wd(d.players.length),Qt=Tn.tableau.some(B=>B.cardId==="LOOKOUT");return T.jsxs("div",{className:"h-dvh bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[T.jsx(em,{}),Re&&T.jsx(eN,{...Re}),T.jsx(tN,{event:he,onClose:()=>Ue(null)}),st&&T.jsx("div",{className:"fixed inset-0 z-200 flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>St(null),children:T.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[T.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),T.jsx("div",{className:"scale-150 transform transition-all",children:T.jsx(Po,{cardId:st})}),T.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),G&&T.jsx("div",{className:"fixed inset-0 z-190 bg-black/90 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-800 border-2 border-cyan-500 rounded-2xl w-full max-w-sm flex flex-col items-center p-6 shadow-[0_0_30px_rgba(34,211,238,0.2)] animate-in zoom-in-95",children:[T.jsx(ZE,{size:48,className:"text-cyan-400 mb-4"}),T.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Doppelganger"}),T.jsxs("div",{className:"text-center mb-6 w-full",children:[T.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Copying previous action:"}),G.targetCard?T.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-700 flex flex-col items-center w-full",children:[T.jsx("span",{className:`font-bold ${G.targetCard.color} text-lg`,children:G.targetCard.name}),T.jsx("div",{className:"mt-3 bg-cyan-900/30 text-cyan-200 px-3 py-2 rounded text-sm font-bold border border-cyan-500/30 w-full text-center",children:bi(G.targetCard.id)})]}):T.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-200 text-sm italic",children:"No valid action to copy (Effect will fizzle)."})]}),T.jsxs("div",{className:"flex gap-3 w-full",children:[T.jsx("button",{onClick:()=>ne(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded-xl font-bold transition-colors",children:"Cancel"}),T.jsx("button",{onClick:()=>Ot(G.handIdx,null,null),className:"flex-1 bg-cyan-600 hover:bg-cyan-500 py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95",children:"Proceed"})]})]})}),T.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-160 shrink-0 shadow-md",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline text-lg",children:"GUILD OF SHADOWS"}),T.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-xs px-3 py-1 rounded-full border border-purple-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:["Goal: ",On," ",T.jsx(dr,{size:10,className:"inline ml-0.5"})]})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>C(!Le),className:`p-2 rounded-full ${Le?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(IC,{size:20})}),T.jsx("button",{onClick:()=>dt(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full transition-colors",children:T.jsx(xm,{size:20})}),T.jsx("button",{onClick:()=>I(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full transition-colors",children:T.jsx(Im,{size:20})})]})]}),T.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.players.map((B,X)=>{if(B.id===s.uid)return null;const _e=d.turnIndex===X,me=M==="PLAYER",mt=L===B.id;return T.jsxs("div",{onClick:()=>me?Ti(B.id):null,className:`
                        relative bg-gray-900/80 backdrop-blur-sm p-3 rounded-xl border transition-all duration-200
                        ${_e?"border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.25)] bg-purple-900/10 scale-[1.02]":"border-gray-800"}
                        ${me?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${mt?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[_e&&T.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-purple-600 text-purple-100 text-[9px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse z-10 whitespace-nowrap flex items-center gap-1",children:[T.jsx(bv,{size:8})," PLAYING"]}),T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("span",{className:"text-sm font-bold text-gray-200 flex items-center gap-1.5 truncate max-w-[100px]",children:[B.name,B.id===d.hostId&&T.jsx(Jd,{size:12,className:"text-yellow-500"})]}),T.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1 font-mono bg-black/40 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:[B.gold," ",T.jsx(dr,{size:10})]})]}),T.jsx("div",{className:"flex gap-0.5",children:B.hand.map((Fe,De)=>T.jsx("div",{className:"w-2.5 h-4 bg-linear-to-b from-purple-800 to-purple-950 rounded-[2px] border border-purple-600/50 shadow-sm"},De))})]}),T.jsxs("div",{className:"flex flex-wrap gap-1.5 min-h-[32px]",children:[B.tableau.map((Fe,De)=>T.jsx("div",{onClick:je=>{je.stopPropagation(),Dl(De)},className:`${M==="CARD"&&mt?"animate-pulse cursor-pointer ring-1 ring-red-400 rounded":""}`,children:T.jsx(Po,{cardId:Fe.cardId,turnsLeft:Fe.turnsLeft,tiny:!0})},De)),B.tableau.length===0&&T.jsx("div",{className:"w-full h-8 flex items-center justify-center text-[10px] text-gray-600 italic border border-dashed border-gray-800 rounded",children:"Empty Hall"})]})]},B.id)})}),T.jsx("div",{className:"mt-6 flex flex-col items-center space-y-1.5 pointer-events-none opacity-80",children:d.logs.slice(-3).reverse().map(B=>T.jsx("div",{className:`text-[10px] px-3 py-1 rounded-full backdrop-blur-md shadow-lg border ${B.type==="danger"?"bg-red-950/70 border-red-500/30 text-red-200":"bg-gray-900/70 border-gray-700/50 text-gray-300"}`,children:B.text},B.id))})]}),T.jsxs("div",{className:"bg-gray-950 border-t border-purple-900/30 pb-safe z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] flex flex-col shrink-0",children:[T.jsxs("div",{className:"w-full bg-black/20",children:[es&&T.jsx("div",{className:"w-full bg-green-600/20 border-y border-green-500/30 py-1 flex items-center justify-center animate-pulse",children:T.jsxs("span",{className:"text-green-400 font-bold tracking-[0.3em] text-[10px] md:text-xs uppercase flex items-center gap-2",children:[T.jsx(bv,{size:10})," Your Turn"]})}),!st&&V?T.jsx(nN,{report:V}):!st&&ie?T.jsx(iN,{report:ie}):null]}),T.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-900 border-b border-gray-800",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"text-yellow-400 font-black text-2xl flex items-center gap-2 drop-shadow-md",children:[T.jsx(dr,{className:"fill-yellow-400/20",size:24})," ",Tn.gold]}),Lr>0&&T.jsxs("div",{className:"text-xs text-red-400 flex items-center gap-1 bg-red-950/50 px-2 py-1 rounded border border-red-900/50",children:["Tax: +",Lr," ",T.jsx(dr,{size:10})]})]}),T.jsx("div",{className:"flex gap-1.5 overflow-x-auto max-w-[50%] no-scrollbar items-center mask-linear-fade",children:Tn.tableau.map((B,X)=>T.jsx("div",{className:"shrink-0",children:T.jsx(Po,{cardId:B.cardId,turnsLeft:B.turnsLeft,tiny:!0})},X))})]}),T.jsxs("div",{className:"min-h-[50px] flex items-center justify-center py-2 px-4",children:[es&&!M&&W===null&&T.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[Qt&&T.jsxs("button",{onClick:kr,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-5 py-2.5 rounded-xl font-bold shadow-lg flex items-center gap-2 text-sm transition-all active:scale-95",children:[T.jsx(WE,{size:16})," Peek"]}),Tn.hand.length>5?T.jsxs("button",{onClick:()=>{N("DISCARD"),Me("neutral","Discard Mode","Hand limit reached",Uo)},className:"flex-1 max-w-xs bg-red-900/90 hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Discard & Pass ",T.jsx(Uo,{size:16})]}):T.jsxs("button",{onClick:Wi,className:"flex-1 max-w-xs bg-gray-800 hover:bg-gray-700 text-gray-200 border border-gray-600 px-6 py-2.5 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-sm transition-all active:scale-95",children:["Pass & Scout ",T.jsx(lC,{size:16})]})]}),M==="SCOUT"&&T.jsxs("div",{className:"flex items-center gap-3 bg-blue-900/30 border border-blue-500/30 px-4 py-2 rounded-full",children:[T.jsxs("span",{className:"text-blue-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(Rm,{size:16})," Select card to discard"]}),T.jsx("button",{onClick:()=>N(null),className:"bg-gray-800 p-1 rounded-full",children:T.jsx(jo,{size:12})})]}),M==="DISCARD"&&T.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full",children:[T.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(Uo,{size:16})," Hand Full: Discard 1"]}),T.jsx("button",{onClick:()=>N(null),className:"bg-gray-800 p-1 rounded-full",children:T.jsx(jo,{size:12})})]}),M==="PLAYER"&&T.jsxs("div",{className:"flex items-center gap-3 bg-red-900/30 border border-red-500/30 px-4 py-2 rounded-full animate-pulse",children:[T.jsxs("span",{className:"text-red-300 text-sm font-bold flex items-center gap-2",children:[T.jsx(eT,{size:16})," Select Target Player"]}),T.jsx("button",{onClick:()=>{N(null),ce(null)},className:"bg-gray-800 p-1 rounded-full",children:T.jsx(jo,{size:12})})]}),W!==null&&!M&&T.jsx("button",{onClick:()=>ce(null),className:"bg-gray-800 text-gray-400 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-700",children:"Cancel Selection"}),M==="CARD"&&T.jsx("div",{className:"bg-black/60 px-4 py-2 rounded-full text-sm font-bold border border-red-500/50 text-red-200",children:"Select Agent to Destroy"}),M==="OPTION"&&T.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[T.jsx("button",{onClick:()=>ya("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-yellow-500",children:"Steal 4 Gold"}),T.jsx("button",{onClick:()=>N("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg flex items-center gap-2 border border-blue-500",children:"Steal Agent"})]})]}),T.jsxs("div",{className:"flex overflow-x-auto px-4 pb-4 gap-3 no-scrollbar snap-x snap-mandatory min-h-[180px] items-center",children:[Tn.hand.length===0&&T.jsx("div",{className:"text-gray-600 text-sm italic w-full text-center py-8 border-2 border-dashed border-gray-800 rounded-xl",children:"Hand Empty"}),Tn.hand.map((B,X)=>T.jsx("div",{className:`snap-center transition-transform duration-200 ${W===X?"-translate-y-6 scale-105":""}`,children:T.jsx(Po,{cardId:B,onClick:()=>es?Dt(X):null,disabled:!es||M!==null&&M!=="SCOUT"&&M!=="DISCARD"&&W!==X,highlight:W===X})},X)),T.jsx("div",{className:"w-2 shrink-0"})]})]})]}),Le&&T.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),T.jsx("button",{onClick:()=>C(!1),children:T.jsx(jo,{})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...d.logs].reverse().map(B=>T.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${B.type==="danger"?"bg-red-900/20 border-red-500":B.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[T.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(B.id).toLocaleTimeString()}),B.text]},B.id))})]}),w&&T.jsx("div",{className:"fixed inset-0 z-200 bg-black/90 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[T.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>I(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),d.hostId===s.uid&&T.jsx("button",{onClick:Dn,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),T.jsx("button",{onClick:Xi,className:"bg-red-600 py-3 rounded font-bold",children:d.hostId===s.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),d.status==="finished"&&T.jsxs("div",{className:"fixed inset-0 top-14 z-150 bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[T.jsx(tT,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),T.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),T.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[d.players.find(B=>B.id===d.winnerId)?.name," ","is the new Guild Master!"]}),T.jsxs("div",{className:"bg-gray-800/80 p-5 rounded-2xl mb-6 w-full max-w-sm border border-gray-700 shadow-xl",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4 border-b border-gray-700 pb-2",children:"Final Standings"}),T.jsx("div",{className:"space-y-3",children:[...d.players].sort((B,X)=>X.gold-B.gold).map((B,X)=>T.jsxs("div",{className:"flex justify-between items-center bg-black/30 p-2 rounded",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`
                            w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                            ${X===0?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300"}
                         `,children:X+1}),T.jsx("span",{className:`font-bold ${B.id===d.winnerId?"text-yellow-400":"text-white"}`,children:B.name})]}),T.jsxs("div",{className:"font-mono text-yellow-500 font-bold flex items-center gap-1",children:[B.gold," ",T.jsx(dr,{size:12})]})]},B.id))})]}),T.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[T.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),T.jsx("div",{className:"space-y-2",children:d.players.map(B=>T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{children:B.name}),T.jsx("span",{className:B.ready?"text-green-400 font-bold":"text-gray-500",children:B.ready?"READY":"WAITING"})]},B.id))})]}),T.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[Tn.ready?T.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):T.jsx("button",{onClick:Ms,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),d.hostId===s.uid&&T.jsx("button",{onClick:Dn,disabled:!d.players.every(B=>B.ready),className:`py-3 rounded-lg font-bold transition-all ${d.players.every(B=>B.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),T.jsx(Rv,{}),it&&T.jsx(Iv,{onClose:()=>dt(!1)})]})}qb.createRoot(document.getElementById("root")).render(T.jsx(Qe.StrictMode,{children:T.jsx(sN,{})}));
