(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},xl={};var V_;function Cb(){if(V_)return xl;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var k_;function Nb(){return k_||(k_=1,Nd.exports=Cb()),Nd.exports}var b=Nb(),Dd={exports:{}},we={};var U_;function Db(){if(U_)return we;U_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ee={};function ge(O,Y,se){this.props=O,this.context=Y,this.refs=ee,this.updater=se||Z}ge.prototype.isReactComponent={},ge.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ge.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=ge.prototype;function pe(O,Y,se){this.props=O,this.context=Y,this.refs=ee,this.updater=se||Z}var Je=pe.prototype=new me;Je.constructor=pe,ie(Je,ge.prototype),Je.isPureReactComponent=!0;var ot=Array.isArray;function Ue(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,se){var re=se.ref;return{$$typeof:r,type:O,key:Y,ref:re!==void 0?re:null,props:se}}function k(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var R=/\/+/g;function nt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ue,Ue):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Y,se,re,Ee){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Se){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case r:case e:Le=!0;break;case A:return Le=O._init,q(Le(O._payload),Y,se,re,Ee)}}if(Le)return Ee=Ee(O),Le=re===""?"."+nt(O,0):re,ot(Ee)?(se="",Le!=null&&(se=Le.replace(R,"$&/")+"/"),q(Ee,Y,se,"",function(ii){return ii})):Ee!=null&&(N(Ee)&&(Ee=k(Ee,se+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Le)),Y.push(Ee)),1;Le=0;var It=re===""?".":re+":";if(ot(O))for(var dt=0;dt<O.length;dt++)re=O[dt],Se=It+nt(re,dt),Le+=q(re,Y,se,Se,Ee);else if(dt=G(O),typeof dt=="function")for(O=dt.call(O),dt=0;!(re=O.next()).done;)re=re.value,Se=It+nt(re,dt++),Le+=q(re,Y,se,Se,Ee);else if(Se==="object"){if(typeof O.then=="function")return q(vt(O),Y,se,re,Ee);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ne(O,Y,se){if(O==null)return O;var re=[],Ee=0;return q(O,re,"","",function(Se){return Y.call(se,Se,Ee++)}),re}function he(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ye={map:ne,forEach:function(O,Y,se){ne(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=S,we.Children=Ye,we.Component=ge,we.Fragment=i,we.Profiler=l,we.PureComponent=pe,we.StrictMode=a,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ie({},O.props),Ee=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(Ee=""+Y.key),Y)!w.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(re[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)re.children=se;else if(1<Se){for(var Le=Array(Se),It=0;It<Se;It++)Le[It]=arguments[It+2];re.children=Le}return I(O.type,Ee,re)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,Y,se){var re,Ee={},Se=null;if(Y!=null)for(re in Y.key!==void 0&&(Se=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var Le=arguments.length-2;if(Le===1)Ee.children=se;else if(1<Le){for(var It=Array(Le),dt=0;dt<Le;dt++)It[dt]=arguments[dt+2];Ee.children=It}if(O&&O.defaultProps)for(re in Le=O.defaultProps,Le)Ee[re]===void 0&&(Ee[re]=Le[re]);return I(O,Se,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:y,render:O}},we.isValidElement=N,we.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:he}},we.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},we.startTransition=function(O){var Y=C.T,se={};C.T=se;try{var re=O(),Ee=C.S;Ee!==null&&Ee(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ue,Oe)}catch(Se){Oe(Se)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),C.T=Y}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(O){return C.H.use(O)},we.useActionState=function(O,Y,se){return C.H.useActionState(O,Y,se)},we.useCallback=function(O,Y){return C.H.useCallback(O,Y)},we.useContext=function(O){return C.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},we.useEffect=function(O,Y){return C.H.useEffect(O,Y)},we.useEffectEvent=function(O){return C.H.useEffectEvent(O)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(O,Y,se){return C.H.useImperativeHandle(O,Y,se)},we.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},we.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},we.useMemo=function(O,Y){return C.H.useMemo(O,Y)},we.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},we.useReducer=function(O,Y,se){return C.H.useReducer(O,Y,se)},we.useRef=function(O){return C.H.useRef(O)},we.useState=function(O){return C.H.useState(O)},we.useSyncExternalStore=function(O,Y,se){return C.H.useSyncExternalStore(O,Y,se)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.3",we}var L_;function Sm(){return L_||(L_=1,Dd.exports=Db()),Dd.exports}var ft=Sm(),Od={exports:{}},Il={},Md={exports:{}},Vd={};var P_;function Ob(){return P_||(P_=1,(function(r){function e(q,ne){var he=q.length;q.push(ne);e:for(;0<he;){var Oe=he-1>>>1,Ye=q[Oe];if(0<l(Ye,ne))q[Oe]=ne,q[he]=Ye,he=Oe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ne=q[0],he=q.pop();if(he!==ne){q[0]=he;e:for(var Oe=0,Ye=q.length,O=Ye>>>1;Oe<O;){var Y=2*(Oe+1)-1,se=q[Y],re=Y+1,Ee=q[re];if(0>l(se,he))re<Ye&&0>l(Ee,se)?(q[Oe]=Ee,q[re]=he,Oe=re):(q[Oe]=se,q[Y]=he,Oe=Y);else if(re<Ye&&0>l(Ee,he))q[Oe]=Ee,q[re]=he,Oe=re;else break e}}return ne}function l(q,ne){var he=q.sortIndex-ne.sortIndex;return he!==0?he:q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],_=[],A=1,S=null,M=3,G=!1,Z=!1,ie=!1,ee=!1,ge=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Je(q){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=q)a(_),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=i(_)}}function ot(q){if(ie=!1,Je(q),!Z)if(i(p)!==null)Z=!0,Ue||(Ue=!0,V());else{var ne=i(_);ne!==null&&vt(ot,ne.startTime-q)}}var Ue=!1,C=-1,w=5,I=-1;function k(){return ee?!0:!(r.unstable_now()-I<w)}function N(){if(ee=!1,Ue){var q=r.unstable_now();I=q;var ne=!0;try{e:{Z=!1,ie&&(ie=!1,me(C),C=-1),G=!0;var he=M;try{t:{for(Je(q),S=i(p);S!==null&&!(S.expirationTime>q&&k());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,M=S.priorityLevel;var Ye=Oe(S.expirationTime<=q);if(q=r.unstable_now(),typeof Ye=="function"){S.callback=Ye,Je(q),ne=!0;break t}S===i(p)&&a(p),Je(q)}else a(p);S=i(p)}if(S!==null)ne=!0;else{var O=i(_);O!==null&&vt(ot,O.startTime-q),ne=!1}}break e}finally{S=null,M=he,G=!1}ne=void 0}}finally{ne?V():Ue=!1}}}var V;if(typeof pe=="function")V=function(){pe(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=N,V=function(){nt.postMessage(null)}}else V=function(){ge(N,0)};function vt(q,ne){C=ge(function(){q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var he=M;M=ne;try{return q()}finally{M=he}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=M;M=q;try{return ne()}finally{M=he}},r.unstable_scheduleCallback=function(q,ne,he){var Oe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Oe+he:Oe):he=Oe,q){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=he+Ye,q={id:A++,callback:ne,priorityLevel:q,startTime:he,expirationTime:Ye,sortIndex:-1},he>Oe?(q.sortIndex=he,e(_,q),i(p)===null&&q===i(_)&&(ie?(me(C),C=-1):ie=!0,vt(ot,he-Oe))):(q.sortIndex=Ye,e(p,q),Z||G||(Z=!0,Ue||(Ue=!0,V()))),q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(q){var ne=M;return function(){var he=M;M=ne;try{return q.apply(this,arguments)}finally{M=he}}}})(Vd)),Vd}var j_;function Mb(){return j_||(j_=1,Md.exports=Ob()),Md.exports}var kd={exports:{}},cn={};var z_;function Vb(){if(z_)return cn;z_=1;var r=Sm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,A)},cn.flushSync=function(p){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=A,a.d.f()}},cn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},cn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},cn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},cn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(p,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},cn.requestFormReset=function(p){a.d.r(p)},cn.unstable_batchedUpdates=function(p,_){return p(_)},cn.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var B_;function kb(){if(B_)return kd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Vb(),kd.exports}var H_;function Ub(){if(H_)return Il;H_=1;var r=Mb(),e=Sm(),i=kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ge:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case Ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case pe:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var vt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Oe=[],Ye=-1;function O(t){return{current:t}}function Y(t){0>Ye||(t.current=Oe[Ye],Oe[Ye]=null,Ye--)}function se(t,n){Ye++,Oe[Ye]=t.current,t.current=n}var re=O(null),Ee=O(null),Se=O(null),Le=O(null);function It(t,n){switch(se(Se,n),se(Ee,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),se(re,t)}function dt(){Y(re),Y(Ee),Y(Se)}function ii(t){t.memoizedState!==null&&se(Le,t);var n=re.current,s=s_(n,t.type);n!==s&&(se(Ee,t),se(re,s))}function Rs(t){Ee.current===t&&(Y(re),Y(Ee)),Le.current===t&&(Y(Le),Al._currentValue=he)}var vi,xs;function Hn(t){if(vi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);vi=n&&n[1]||"",xs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+t+xs}var wr=!1;function Xi(t,n){if(!t||wr)return"";wr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Q=`
`+x[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{wr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Hn(s):""}function Rr(t,n){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return t.child!==n&&n!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return Xi(t.type,!1);case 11:return Xi(t.type.render,!1);case 1:return Xi(t.type,!0);case 31:return Hn("Activity");default:return""}}function xr(t){try{var n="",s=null;do n+=Rr(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Ro=r.unstable_shouldYield,fa=r.unstable_requestPaint,en=r.unstable_now,Ti=r.unstable_getCurrentPriorityLevel,pn=r.unstable_ImmediatePriority,$i=r.unstable_UserBlockingPriority,si=r.unstable_NormalPriority,xo=r.unstable_LowPriority,da=r.unstable_IdlePriority,F=r.log,W=r.unstable_setDisableYieldValue,fe=null,ue=null;function Ge(t){if(typeof F=="function"&&W(t),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(fe,t)}catch{}}var Ce=Math.clz32?Math.clz32:Ut,Pe=Math.log,Ze=Math.LN2;function Ut(t){return t>>>=0,t===0?32:31-(Pe(t)/Ze|0)|0}var Ne=256,Et=262144,Me=4194304;function Nt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Nt(o):(g&=E,g!==0?h=Nt(g):s||(s=E&~t,s!==0&&(h=Nt(s))))):(E=o&~f,E!==0?h=Nt(E):g!==0?h=Nt(g):s||(s=o&~t,s!==0&&(h=Nt(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Tt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ir(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var t=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),t}function be(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-Ce(s),X=1<<Q;E[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Cr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Cr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ce(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Io(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Ce(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Co(t,n){var s=n&-n;return s=(s&42)!==0?1:Nr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function ai(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var oi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+oi,$t="__reactProps$"+oi,bi="__reactContainer$"+oi,ma="__reactEvents$"+oi,kh="__reactListeners$"+oi,ou="__reactHandles$"+oi,lu="__reactResources$"+oi,Ai="__reactMarker$"+oi;function pa(t){delete t[Lt],delete t[$t],delete t[ma],delete t[kh],delete t[ou]}function Si(t){var n=t[Lt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[bi]||s[Lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=h_(t);t!==null;){if(s=t[Lt])return s;t=h_(t)}return n}t=s,s=t.parentNode}return null}function qn(t){if(t=t[Lt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Ai]=!0}var No=new Set,Do={};function Ri(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Do[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function uu(t){return pt.call(Vo,t)?!0:pt.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function ga(t,n,s){if(uu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function On(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function jt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ko(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=ko(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function En(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,s,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Uo(t,g,Jt(n)):s!=null?Uo(t,g,Jt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function cu(t,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}s=s!=null?""+Jt(s):"",n=n!=null?""+Jt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),st(t)}function Uo(t,n,s){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Cs(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Jt(s):""}function Ns(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(vt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Jt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),st(t)}function Tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Po(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Lo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var jo=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ci=null;function Mr(t){var n=qn(t);if(n&&(t=n.stateNode)){var s=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Dr(o)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cs(t,!!s.multiple,n,!1)}}}var Ea=!1;function Ms(t,n,s){if(Ea)return t(n,s);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(Os!==null||Ci!==null)&&(ac(),Os&&(n=Os,t=Ci,Ci=Os=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function ui(t,n){var s=t.stateNode;if(s===null)return null;var o=s[$t]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Fn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Vr=!1}var Ni=null,zo=null,kr=null;function Bo(){if(kr)return kr;var t,n=zo,s=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return kr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function ci(){return!1}function tn(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ci,this.isPropagationStopped=ci,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=tn(Wi),Vs=S({},Wi,{view:0,detail:0}),Ho=tn(Vs),ks,Ta,Oi,ba=S({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(ks=t.screenX-Oi.screenX,Ta=t.screenY-Oi.screenY):Ta=ks=0,Oi=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),qo=tn(ba),Lr=S({},ba,{dataTransfer:0}),mu=tn(Lr),pu=S({},Vs,{relatedTarget:0}),Pr=tn(pu),Go=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=tn(Go),Aa=S({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=tn(Aa),_u=S({},Wi,{data:0}),Mi=tn(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Us(){return bu}var yn=S({},Vs,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=tn(yn),Su=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=tn(Su),u=S({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),m=tn(u),v=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),L=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(L),te=S({},Wi,{newState:0,oldState:0}),xe=tn(te),Dt=[9,13,27,32],We=Fn&&"CompositionEvent"in window,bt=null;Fn&&"documentMode"in document&&(bt=document.documentMode);var Qn=Fn&&"TextEvent"in window&&!bt,Vi=Fn&&(!We||bt&&8<bt&&11>=bt),hi=" ",fi=!1;function jr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function WE(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function eT(t,n){if(wa)return t==="compositionend"||!We&&jr(t,n)?(t=Bo(),kr=zo=Ni=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tT[t.type]:n==="textarea"}function pp(t,n,s,o){Os?Ci?Ci.push(o):Ci=[o]:Os=o,n=dc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Fo=null,Qo=null;function nT(t){Jy(t,0)}function wu(t){var n=Dn(t);if(Dr(n))return t}function gp(t,n){if(t==="change")return n}var yp=!1;if(Fn){var Uh;if(Fn){var Lh="oninput"in document;if(!Lh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Lh=typeof _p.oninput=="function"}Uh=Lh}else Uh=!1;yp=Uh&&(!document.documentMode||9<document.documentMode)}function vp(){Fo&&(Fo.detachEvent("onpropertychange",Ep),Qo=Fo=null)}function Ep(t){if(t.propertyName==="value"&&wu(Qo)){var n=[];pp(n,Qo,t,Gn(t)),Ms(nT,n)}}function iT(t,n,s){t==="focusin"?(vp(),Fo=n,Qo=s,Fo.attachEvent("onpropertychange",Ep)):t==="focusout"&&vp()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Qo)}function rT(t,n){if(t==="click")return wu(n)}function aT(t,n){if(t==="input"||t==="change")return wu(n)}function oT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:oT;function Ko(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pt.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function Tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,n){var s=Tp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tp(s)}}function Ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lT=Fn&&"documentMode"in document&&11>=document.documentMode,Ra=null,jh=null,Yo=null,zh=!1;function wp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Ra==null||Ra!==Ii(o)||(o=Ra,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Ko(Yo,o)||(Yo=o,o=dc(jh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ra)))}function zr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Bh={},Rp={};Fn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Br(t){if(Bh[t])return Bh[t];if(!xa[t])return t;var n=xa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rp)return Bh[t]=n[s];return t}var xp=Br("animationend"),Ip=Br("animationiteration"),Cp=Br("animationstart"),uT=Br("transitionrun"),cT=Br("transitionstart"),hT=Br("transitioncancel"),Np=Br("transitionend"),Dp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function di(t,n){Dp.set(t,n),Ri(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Ia=0,qh=0;function xu(){for(var t=Ia,n=qh=Ia=0;n<t;){var s=Kn[n];Kn[n++]=null;var o=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Op(s,h,f)}}function Iu(t,n,s,o){Kn[Ia++]=t,Kn[Ia++]=n,Kn[Ia++]=s,Kn[Ia++]=o,qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,s,o){return Iu(t,n,s,o),Cu(t)}function Hr(t,n){return Iu(t,null,null,n),Cu(t)}function Op(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ce(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(t){if(50<gl)throw gl=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function fT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,s,o){return new fT(t,n,s,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var s=t.alternate;return s===null?(s=Vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=yb(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Vn(31,s,n,h),t.elementType=I,t.lanes=f,t;case ie:return qr(s.children,h,f,n);case ee:g=8,h|=24;break;case ge:return t=Vn(12,s,n,h|2),t.elementType=ge,t.lanes=f,t;case ot:return t=Vn(13,s,n,h),t.elementType=ot,t.lanes=f,t;case Ue:return t=Vn(19,s,n,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case me:g=9;break e;case Je:g=11;break e;case C:g=14;break e;case w:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Vn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,s,o){return t=Vn(7,t,o,n),t.lanes=s,t}function Qh(t,n,s){return t=Vn(6,t,null,n),t.lanes=s,t}function Vp(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kp=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var s=kp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:xr(n)},kp.set(t,n),n)}return{value:t,source:n,stack:xr(n)}}var Na=[],Da=0,Du=null,Xo=0,Xn=[],$n=0,Ls=null,ki=1,Ui="";function ns(t,n){Na[Da++]=Xo,Na[Da++]=Du,Du=t,Xo=n}function Up(t,n,s){Xn[$n++]=ki,Xn[$n++]=Ui,Xn[$n++]=Ls,Ls=t;var o=ki;t=Ui;var h=32-Ce(o)-1;o&=~(1<<h),s+=1;var f=32-Ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ki=1<<32-Ce(n)+h|s<<h|o,Ui=f+t}else ki=1<<f|s<<h|o,Ui=t}function Yh(t){t.return!==null&&(ns(t,1),Up(t,1,0))}function Xh(t){for(;t===Du;)Du=Na[--Da],Na[Da]=null,Xo=Na[--Da],Na[Da]=null;for(;t===Ls;)Ls=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null,ki=Xn[--$n],Xn[$n]=null}function Lp(t,n){Xn[$n++]=ki,Xn[$n++]=Ui,Xn[$n++]=Ls,ki=n.id,Ui=n.overflow,Ls=t}var nn=null,gt=null,Fe=!1,Ps=null,Jn=!1,$h=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Yn(n,t)),$h}function Pp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Lt]=t,n[$t]=o,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<_l.length;s++)ke(_l[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||js(t,!0)}function jp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:nn=nn.return}}function Oa(t){if(t!==nn)return!1;if(!Fe)return jp(t),Fe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pd(t.type,t.memoizedProps)),s=!s),s&&gt&&js(t),jp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=c_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=c_(t)}else n===27?(n=gt,Ws(t.type)?(t=Ed,Ed=null,gt=t):gt=n):gt=nn?Wn(t.stateNode.nextSibling):null;return!0}function Gr(){gt=nn=null,Fe=!1}function Jh(){var t=Ps;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Ps=null),t}function $o(t){Ps===null?Ps=[t]:Ps.push(t)}var Zh=O(null),Fr=null,is=null;function zs(t,n,s){se(Zh,n._currentValue),n._currentValue=s}function ss(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&ef(n,t,s,o),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Fr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return zp(Fr,t)}function Mu(t,n){return Fr===null&&Qr(t),zp(t,n)}function zp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return s}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mT=r.unstable_scheduleCallback,pT=r.unstable_NormalPriority,zt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new dT,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&mT(pT,function(){t.controller.abort()})}var Zo=null,nf=0,Va=0,ka=null;function gT(t,n){if(Zo===null){var s=Zo=[];nf=0,Va=ad(),ka={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Bp,Bp),n}function Bp(){if(--nf===0&&Zo!==null){ka!==null&&(ka.status="fulfilled");var t=Zo;Zo=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hp=q.S;q.S=function(t,n){wy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gT(t,n),Hp!==null&&Hp(t,n)};var Kr=O(null);function sf(){var t=Kr.current;return t!==null?t:mt.pooledCache}function Vu(t,n){n===null?se(Kr,Kr.current):se(Kr,n.pool)}function qp(){var t=sf();return t===null?null:{parent:zt._currentValue,pool:t}}var Ua=Error(a(460)),rf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(li,li),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Xr=n,Ua}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xr=s,Ua):s}}var Xr=null;function Qp(){if(Xr===null)throw Error(a(459));var t=Xr;return Xr=null,t}function Kp(t){if(t===Ua||t===ku)throw Error(a(483))}var La=null,Wo=0;function Lu(t){var n=Wo;return Wo+=1,La===null&&(La=[]),Fp(La,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yp(t){function n(U,D){if(t){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=ts(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,K){return D===null||D.tag!==6?(D=Qh(P,U.mode,K),D.return=U,D):(D=h(D,P),D.return=U,D)}function x(U,D,P,K){var de=P.type;return de===ie?Q(U,D,P.props.children,K,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===D.type)?(D=h(D,P.props),el(D,P),D.return=U,D):(D=Nu(P.type,P.key,P.props,null,U.mode,K),el(D,P),D.return=U,D)}function j(U,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Kh(P,U.mode,K),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function Q(U,D,P,K,de){return D===null||D.tag!==7?(D=qr(P,U.mode,K,de),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Nu(D.type,D.key,D.props,null,U.mode,P),el(P,D),P.return=U,P;case Z:return D=Kh(D,U.mode,P),D.return=U,D;case w:return D=Yr(D),X(U,D,P)}if(vt(D)||V(D))return D=qr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,Lu(D),P);if(D.$$typeof===pe)return X(U,Mu(U,D),P);Pu(U,D)}return null}function z(U,D,P,K){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(U,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===de?x(U,D,P,K):null;case Z:return P.key===de?j(U,D,P,K):null;case w:return P=Yr(P),z(U,D,P,K)}if(vt(P)||V(P))return de!==null?null:Q(U,D,P,K,null);if(typeof P.then=="function")return z(U,D,Lu(P),K);if(P.$$typeof===pe)return z(U,D,Mu(U,P),K);Pu(U,P)}return null}function H(U,D,P,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(D,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return U=U.get(K.key===null?P:K.key)||null,x(D,U,K,de);case Z:return U=U.get(K.key===null?P:K.key)||null,j(D,U,K,de);case w:return K=Yr(K),H(U,D,P,K,de)}if(vt(K)||V(K))return U=U.get(P)||null,Q(D,U,K,de,null);if(typeof K.then=="function")return H(U,D,P,Lu(K),de);if(K.$$typeof===pe)return H(U,D,P,Mu(D,K),de);Pu(D,K)}return null}function oe(U,D,P,K){for(var de=null,Xe=null,le=D,De=D=0,ze=null;le!==null&&De<P.length;De++){le.index>De?(ze=le,le=null):ze=le.sibling;var $e=z(U,le,P[De],K);if($e===null){le===null&&(le=ze);break}t&&le&&$e.alternate===null&&n(U,le),D=f($e,D,De),Xe===null?de=$e:Xe.sibling=$e,Xe=$e,le=ze}if(De===P.length)return s(U,le),Fe&&ns(U,De),de;if(le===null){for(;De<P.length;De++)le=X(U,P[De],K),le!==null&&(D=f(le,D,De),Xe===null?de=le:Xe.sibling=le,Xe=le);return Fe&&ns(U,De),de}for(le=o(le);De<P.length;De++)ze=H(le,U,De,P[De],K),ze!==null&&(t&&ze.alternate!==null&&le.delete(ze.key===null?De:ze.key),D=f(ze,D,De),Xe===null?de=ze:Xe.sibling=ze,Xe=ze);return t&&le.forEach(function(sr){return n(U,sr)}),Fe&&ns(U,De),de}function _e(U,D,P,K){if(P==null)throw Error(a(151));for(var de=null,Xe=null,le=D,De=D=0,ze=null,$e=P.next();le!==null&&!$e.done;De++,$e=P.next()){le.index>De?(ze=le,le=null):ze=le.sibling;var sr=z(U,le,$e.value,K);if(sr===null){le===null&&(le=ze);break}t&&le&&sr.alternate===null&&n(U,le),D=f(sr,D,De),Xe===null?de=sr:Xe.sibling=sr,Xe=sr,le=ze}if($e.done)return s(U,le),Fe&&ns(U,De),de;if(le===null){for(;!$e.done;De++,$e=P.next())$e=X(U,$e.value,K),$e!==null&&(D=f($e,D,De),Xe===null?de=$e:Xe.sibling=$e,Xe=$e);return Fe&&ns(U,De),de}for(le=o(le);!$e.done;De++,$e=P.next())$e=H(le,U,De,$e.value,K),$e!==null&&(t&&$e.alternate!==null&&le.delete($e.key===null?De:$e.key),D=f($e,D,De),Xe===null?de=$e:Xe.sibling=$e,Xe=$e);return t&&le.forEach(function(Ib){return n(U,Ib)}),Fe&&ns(U,De),de}function ht(U,D,P,K){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===ie){if(D.tag===7){s(U,D.sibling),K=h(D,P.props.children),K.return=U,U=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===D.type){s(U,D.sibling),K=h(D,P.props),el(K,P),K.return=U,U=K;break e}s(U,D);break}else n(U,D);D=D.sibling}P.type===ie?(K=qr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Nu(P.type,P.key,P.props,null,U.mode,K),el(K,P),K.return=U,U=K)}return g(U);case Z:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),K=h(D,P.children||[]),K.return=U,U=K;break e}else{s(U,D);break}else n(U,D);D=D.sibling}K=Kh(P,U.mode,K),K.return=U,U=K}return g(U);case w:return P=Yr(P),ht(U,D,P,K)}if(vt(P))return oe(U,D,P,K);if(V(P)){if(de=V(P),typeof de!="function")throw Error(a(150));return P=de.call(P),_e(U,D,P,K)}if(typeof P.then=="function")return ht(U,D,Lu(P),K);if(P.$$typeof===pe)return ht(U,D,Mu(U,P),K);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,P),K.return=U,U=K):(s(U,D),K=Qh(P,U.mode,K),K.return=U,U=K),g(U)):s(U,D)}return function(U,D,P,K){try{Wo=0;var de=ht(U,D,P,K);return La=null,de}catch(le){if(le===Ua||le===ku)throw le;var Xe=Vn(29,le,null,U.mode);return Xe.lanes=K,Xe.return=U,Xe}}}var $r=Yp(!0),Xp=Yp(!1),Bs=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(t),Op(t,null,s),n}return Iu(t,o,n,s),Cu(t)}function tl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Io(t,s)}}function lf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function nl(){if(uf){var t=ka;if(t!==null)throw t}}function il(t,n,s,o){uf=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;g=0,Q=j=x=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(je&z)===z:(o&z)===z){z!==0&&z===Va&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,_e=E;z=n;var ht=s;switch(_e.tag){case 1:if(oe=_e.payload,typeof oe=="function"){X=oe.call(ht,X,z);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=_e.payload,z=typeof oe=="function"?oe.call(ht,X,z):oe,z==null)break e;X=S({},X,z);break e;case 2:Bs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,x=X):Q=Q.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=X}}function $p(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Jp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$p(s[t],n)}var Pa=O(null),ju=O(0);function Zp(t,n){t=ds,se(ju,t),se(Pa,n),ds=t|n.baseLanes}function cf(){se(ju,ds),se(Pa,Pa.current)}function hf(){ds=ju.current,Y(Pa),Y(ju)}var kn=O(null),Zn=null;function Gs(t){var n=t.alternate;se(Ot,Ot.current&1),se(kn,t),Zn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Zn=t)}function ff(t){se(Ot,Ot.current),se(kn,t),Zn===null&&(Zn=t)}function Wp(t){t.tag===22?(se(Ot,Ot.current),se(kn,t),Zn===null&&(Zn=t)):Fs()}function Fs(){se(Ot,Ot.current),se(kn,kn.current)}function Un(t){Y(kn),Zn===t&&(Zn=null),Y(Ot)}var Ot=O(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Ie=null,ut=null,Bt=null,Bu=!1,ja=!1,Jr=!1,Hu=0,sl=0,za=null,_T=0;function Rt(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Mn(t[s],n[s]))return!1;return!0}function mf(t,n,s,o,h,f){return rs=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Ug:Cf,Jr=!1,f=s(o,h),Jr=!1,ja&&(f=tg(n,s,o,h)),eg(t),f}function eg(t){q.H=ol;var n=ut!==null&&ut.next!==null;if(rs=0,Bt=ut=Ie=null,Bu=!1,sl=0,za=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Ou(t)&&(Ht=!0))}function tg(t,n,s,o){Ie=t;var h=0;do{if(ja&&(za=null),sl=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,Bt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Lg,f=n(s,o)}while(ja);return f}function vT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ie.flags|=1024),n}function pf(){var t=Hu!==0;return Hu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}rs=0,Bt=ut=Ie=null,ja=!1,sl=Hu=0,za=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ie.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Mt(){if(ut===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=Bt===null?Ie.memoizedState:Bt.next;if(n!==null)Bt=n,ut=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Bt===null?Ie.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=sl;return sl+=1,za===null&&(za=[]),t=Fp(za,t,n),n=Ie,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ug:Cf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===pe)return sn(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=k;return n.index++,s}function as(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Mt();return vf(n,ut,t)}function vf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(je&X)===X:(rs&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Va&&(Q=!0);else if((rs&z)===z){j=j.next,z===Va&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=X,g=f):x=x.next=X,Ie.lanes|=z,Ys|=z;X=j.action,Jr&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Ie.lanes|=X,Ys|=X;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!Mn(f,t.memoizedState)&&(Ht=!0,Q&&(s=ka,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=Mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Mn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ng(t,n,s){var o=Ie,h=Mt(),f=Fe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Mn((ut||h).memoizedState,s);if(g&&(h.memoizedState=s,Ht=!0),h=h.queue,Af(rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},sg.bind(null,o,h,s,n),null),mt===null)throw Error(a(349));f||(rs&127)!==0||ig(o,n,s)}return s}function ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=qu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function sg(t,n,s,o){n.value=s,n.getSnapshot=o,ag(n)&&og(t)}function rg(t,n,s){return s(function(){ag(n)&&og(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Mn(t,s)}catch{return!0}}function og(t){var n=Hr(t,2);n!==null&&Rn(n,t,2)}function Tf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),Jr){Ge(!0);try{s()}finally{Ge(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function lg(t,n,s,o){return t.baseState=s,vf(t,ut,typeof o=="function"?o:as)}function ET(t,n,s,o,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ug(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ug(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),x=q.S;x!==null&&x(g,E),cg(t,n,E)}catch(j){bf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),cg(t,n,f)}catch(j){bf(t,n,j)}}function cg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hg(t,n,o)},function(o){return bf(t,n,o)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ug(t,s)))}function bf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==o)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Fe){var s=mt.formState;if(s!==null){e:{var o=Ie;if(Fe){if(gt){t:{for(var h=gt,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Wn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},s.queue=o,s=Mg.bind(null,Ie,o),o.dispatch=s,o=Tf(!1),f=If.bind(null,Ie,!1,o.queue),o=_n(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=ET.bind(null,Ie,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function pg(t){var n=Mt();return gg(n,ut,t)}function gg(t,n,s){if(n=vf(t,n,dg)[0],t=Fu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(g){throw g===Ua?ku:g}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,Ba(9,{destroy:void 0},TT.bind(null,h,s),null)),[o,f,t]}function TT(t,n){t.action=n}function yg(t){var n=Mt(),s=ut;if(s!==null)return gg(n,s,t);Mt(),n=n.memoizedState,s=Mt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ba(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=qu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function _g(){return Mt().memoizedState}function Qu(t,n,s,o){var h=_n();Ie.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(t,n,s,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&df(o,ut.memoizedState.deps)?h.memoizedState=Ba(n,f,s,o):(Ie.flags|=t,h.memoizedState=Ba(1|n,f,s,o))}function vg(t,n){Qu(8390656,8,t,n)}function Af(t,n){Ku(2048,8,t,n)}function bT(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=qu(),Ie.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Eg(t){var n=Mt().memoizedState;return bT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return Ku(4,2,t,n)}function bg(t,n){return Ku(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,s){s=s!=null?s.concat([t]):null,Ku(4,4,Ag.bind(null,n,t),s)}function Sf(){}function wg(t,n){var s=Mt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Rg(t,n){var s=Mt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Jr){Ge(!0);try{t()}finally{Ge(!1)}}return s.memoizedState=[o,n],o}function wf(t,n,s){return s===void 0||(rs&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=xy(),Ie.lanes|=t,Ys|=t,s)}function xg(t,n,s,o){return Mn(s,n)?s:Pa.current!==null?(t=wf(t,s,o),Mn(t,n)||(Ht=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(je&261930)===0?(Ht=!0,t.memoizedState=s):(t=xy(),Ie.lanes|=t,Ys|=t,n)}function Ig(t,n,s,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,If(t,!1,n,s);try{var x=h(),j=q.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=yT(x,o);al(t,n,Q,jn(t))}else al(t,n,o,jn(t))}catch(X){al(t,n,{then:function(){},status:"rejected",reason:X},jn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function AT(){}function Rf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Cg(t).queue;Ig(t,h,n,he,s===null?AT:function(){return Ng(t),s(o)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:he},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=Cg(t);n.next===null&&(n=t.alternate.memoizedState),al(t,n.next.queue,{},jn())}function xf(){return sn(Al)}function Dg(){return Mt().memoizedState}function Og(){return Mt().memoizedState}function ST(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=jn();t=Hs(s);var o=qs(n,t,s);o!==null&&(Rn(o,n,s),tl(o,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function wT(t,n,s){var o=jn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Vg(n,s):(s=Gh(t,n,s,o),s!==null&&(Rn(s,t,o),kg(s,n,o)))}function Mg(t,n,s){var o=jn();al(t,n,s,o)}function al(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Vg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,g))return Iu(t,n,h,0),mt===null&&xu(),!1}catch{}if(s=Gh(t,n,h,o),s!==null)return Rn(s,t,o),kg(s,n,o),!0}return!1}function If(t,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,o,2),n!==null&&Rn(n,t,2)}function Yu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Vg(t,n){ja=Bu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function kg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Io(t,s)}}var ol={readContext:sn,use:Gu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};ol.useEffectEvent=Rt;var Ug={readContext:sn,use:Gu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:vg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,Ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var o=t();if(Jr){Ge(!0);try{t()}finally{Ge(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=_n();if(s!==void 0){var h=s(n);if(Jr){Ge(!0);try{s(n)}finally{Ge(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=wT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Mg.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=_n();return wf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=Ig.bind(null,Ie,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ie,h=_n();if(Fe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),mt===null)throw Error(a(349));(je&127)!==0||ig(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vg(rg.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},sg.bind(null,o,f,s,n),null),s},useId:function(){var t=_n(),n=mt.identifierPrefix;if(Fe){var s=Ui,o=ki;s=(o&~(1<<32-Ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_T++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return _n().memoizedState=ST.bind(null,Ie)},useEffectEvent:function(t){var n=_n(),s={impl:t};return n.memoizedState=s,function(){if((et&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:sn,use:Gu,useCallback:wg,useContext:sn,useEffect:Af,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Fu,useRef:_g,useState:function(){return Fu(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Mt();return xg(s,ut.memoizedState,t,n)},useTransition:function(){var t=Fu(as)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var s=Mt();return lg(s,ut,t,n)},useMemoCache:_f,useCacheRefresh:Og};Cf.useEffectEvent=Eg;var Lg={readContext:sn,use:Gu,useCallback:wg,useContext:sn,useEffect:Af,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Ef,useRef:_g,useState:function(){return Ef(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Mt();return ut===null?wf(s,t,n):xg(s,ut.memoizedState,t,n)},useTransition:function(){var t=Ef(as)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=Mt();return ut!==null?lg(s,ut,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Og};Lg.useEffectEvent=Eg;function Nf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=jn(),h=Hs(o);h.payload=n,s!=null&&(h.callback=s),n=qs(t,h,o),n!==null&&(Rn(n,t,o),tl(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=jn(),h=Hs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(t,h,o),n!==null&&(Rn(n,t,o),tl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jn(),o=Hs(s);o.tag=2,n!=null&&(o.callback=n),n=qs(t,o,s),n!==null&&(Rn(n,t,s),tl(n,t,s))}};function Pg(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ko(s,o)||!Ko(h,f):!0}function jg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zg(t){Ru(t)}function Bg(t){console.error(t)}function Hg(t){Ru(t)}function Xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Hs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,n)},s}function Gg(t){return t=Hs(t),t.tag=3,t}function Fg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function RT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ma(n,s,h,!0),s=kn.current,s!==null){switch(s.tag){case 31:case 13:return Zn===null?oc():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(t,o,h)),!1}throw Error(a(435,s.tag))}return id(t,o,h),oc(),!1}if(Fe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(a(422),{cause:o}),$o(Yn(t,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),$o(Yn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Yn(o,s),h=Of(t.stateNode,o,h),lf(t,h),xt!==4&&(xt=2)),!1;var f=Error(a(520),{cause:o});if(f=Yn(f,s),pl===null?pl=[f]:pl.push(f),xt!==4&&(xt=2),n===null)return!0;o=Yn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,o,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Fg(h,t,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ht=!1;function rn(t,n,s,o){n.child=t===null?Xp(n,null,s,o):$r(n,t.child,s,o)}function Qg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Qr(n),o=mf(t,n,s,g,f,h),E=pf(),t!==null&&!Ht?(gf(t,n,h),os(t,n,h)):(Fe&&E&&Yh(n),n.flags|=1,rn(t,n,o,h),n.child)}function Kg(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,o,h)):(t=Nu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ko,s(g,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(f,o),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Ko(f,o)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,os(t,n,h)}return Vf(t,n,s,o,h)}function Xg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $g(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):cf(),Wp(n);else return o=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),Zp(n,f),Fs(),n.memoizedState=null):(t!==null&&Vu(n,null),cf(),Fs());return rn(t,n,h,s),n.child}function ll(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,s,o,h){var f=sf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Vu(n,null),cf(),Wp(n),t!==null&&Ma(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jg(t,n,s){return $r(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,Un(n),n.memoizedState=null,t}function xT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,ll(null,t);if(ff(n),(t=gt)?(t=u_(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,nn=n,gt=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Jg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||Ma(t,n,s,!1),h=(s&t.childLanes)!==0,Ht||h){if(o=mt,o!==null&&(g=Co(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Hr(t,g),Rn(o,t,g),Mf;oc(),n=Jg(t,n,s)}else t=f.treeContext,gt=Wn(g.nextSibling),nn=n,Fe=!0,Ps=null,Jn=!1,t!==null&&Lp(n,t),n=$u(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,o,h){return Qr(n),s=mf(t,n,s,o,void 0,h),o=pf(),t!==null&&!Ht?(gf(t,n,h),os(t,n,h)):(Fe&&o&&Yh(n),n.flags|=1,rn(t,n,s,h),n.child)}function Zg(t,n,s,o,h,f){return Qr(n),n.updateQueue=null,s=tg(n,o,s,h),eg(t),o=pf(),t!==null&&!Ht?(gf(t,n,f),os(t,n,f)):(Fe&&o&&Yh(n),n.flags|=1,rn(t,n,s,f),n.child)}function Wg(t,n,s,o,h){if(Qr(n),n.stateNode===null){var f=Ca,g=s.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Ca,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),il(n,o,f,h),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=Zr(s,E);f.props=x;var j=f.context,Q=s.contextType;g=Ca,typeof Q=="object"&&Q!==null&&(g=sn(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&jg(n,f,o,g),Bs=!1;var z=n.memoizedState;f.state=z,il(n,o,f,h),nl(),j=n.memoizedState,E||z!==j||Bs?(typeof X=="function"&&(Nf(n,s,X,o),j=n.memoizedState),(x=Bs||Pg(n,s,x,o,z,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),g=n.memoizedProps,Q=Zr(s,g),f.props=Q,X=n.pendingProps,z=f.context,j=s.contextType,x=Ca,typeof j=="object"&&j!==null&&(x=sn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==x)&&jg(n,f,o,x),Bs=!1,z=n.memoizedState,f.state=z,il(n,o,f,h),nl();var H=n.memoizedState;g!==X||z!==H||Bs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),H=n.memoizedState),(Q=Bs||Pg(n,s,Q,o,z,H,x)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function ey(t,n,s,o){return Gr(),n.flags|=256,rn(t,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:qp()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Pn),t}function ty(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Gs(n):Fs(),(t=gt)?(t=u_(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,nn=n,gt=null)):t=null,t===null)throw js(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=qr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=kf,ll(null,o)):(Gs(n),Pf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=jf(t,n,s)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=qr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,$r(n,t.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=kf,n=ll(null,o));else if(Gs(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,$o({value:o,source:null,stack:null}),n=jf(t,n,s)}else if(Ht||Ma(t,n,s,!1),g=(s&t.childLanes)!==0,Ht||g){if(g=mt,g!==null&&(o=Co(g,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,Hr(t,o),Rn(g,t,o),Mf;_d(E)||oc(),n=jf(t,n,s)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,gt=Wn(E.nextSibling),nn=n,Fe=!0,Ps=null,Jn=!1,t!==null&&Lp(n,t),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=ts(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=ts(j,E):(E=qr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ll(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(x=zt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=qp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(t,g,s),n.memoizedState=kf,ll(t.child,o)):(Gs(n),s=t.child,t=s.sibling,s=ts(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Pf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function jf(t,n,s){return $r(n,t.child,null,s),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ny(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,s)}function zf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function iy(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,se(Ot,g),rn(t,n,o,s),o=Fe?Xo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,s,n);else if(t.tag===19)ny(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ma(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ts(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ts(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function IT(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),zs(n,zt,t.memoizedState.cache),Gr();break;case 27:case 5:ii(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(t,n,s):(Gs(n),t=os(t,n,s),t!==null?t.sibling:null);Gs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ma(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ot,Ot.current),o)break;return null;case 22:return n.lanes=0,Xg(t,n,s,n.pendingProps);case 24:zs(n,zt,t.memoizedState.cache)}return os(t,n,s)}function sy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Ht=!1,IT(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,Fe&&(n.flags&1048576)!==0&&Up(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Zr(t,o),n.tag=1,n=Wg(null,n,t,o,s)):(n.tag=0,n=Vf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Qg(null,n,t,o,s);break e}else if(h===C){n.tag=14,n=Kg(null,n,t,o,s);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Zr(o,n.pendingProps),Wg(t,n,o,h,s);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),il(n,o,null,s);var g=n.memoizedState;if(o=g.cache,zs(n,zt,o),o!==f.cache&&ef(n,[zt],s,!0),nl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(t,n,o,s);break e}else if(o!==h){h=Yn(Error(a(424)),n),$o(h),n=ey(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,gt=Wn(t.firstChild),nn=n,Fe=!0,Ps=null,Jn=!0,s=Xp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Gr(),o===h){n=os(t,n,s);break e}rn(t,n,o,s)}n=n.child}return n;case 26:return Ju(t,n),t===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Fe||(s=n.type,t=n.pendingProps,o=mc(Se.current).createElement(s),o[Lt]=n,o[$t]=t,an(o,s,t),Pt(o),n.stateNode=o):n.memoizedState=p_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ii(n),t===null&&Fe&&(o=n.stateNode=f_(n.type,n.pendingProps,Se.current),nn=n,Jn=!0,h=gt,Ws(n.type)?(Ed=h,gt=Wn(o.firstChild)):gt=h),rn(t,n,n.pendingProps.children,s),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=gt)&&(o=sb(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,nn=n,gt=Wn(o.firstChild),Jn=!1,h=!0):h=!1),h||js(n)),ii(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,vT,null,null,s),Al._currentValue=h),Ju(t,n),rn(t,n,o,s),n.child;case 6:return t===null&&Fe&&((t=s=gt)&&(s=rb(s,n.pendingProps,Jn),s!==null?(n.stateNode=s,nn=n,gt=null,t=!0):t=!1),t||js(n)),null;case 13:return ty(t,n,s);case 4:return It(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=$r(n,null,o,s):rn(t,n,o,s),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),rn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Qr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,s),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return iy(t,n,s);case 31:return xT(t,n,s);case 22:return Xg(t,n,s,n.pendingProps);case 24:return Qr(n),o=sn(zt),t===null?(h=sf(),h===null&&(h=mt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),zs(n,zt,h)):((t.lanes&s)!==0&&(of(t,n),il(n,null,null,s),nl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,zt,o)):(o=f.cache,zs(n,zt,o),o!==h.cache&&ef(n,[zt],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(t){t.flags|=4}function Hf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Dy())t.flags|=8192;else throw Xr=Uu,rf}else t.flags&=-16777217}function ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(n))if(Dy())t.flags|=8192;else throw Xr=Uu,rf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Qe():536870912,t.lanes|=n,Fa|=n)}function ul(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function CT(t,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ss(zt),dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(yt(n),ry(n,f)):(yt(n),Hf(n,h,null,o,s))):f?f!==t.memoizedState?(ls(n),yt(n),ry(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),yt(n),Hf(n,h,t,o,s)),null;case 27:if(Rs(n),s=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=re.current,Oa(n)?Pp(n):(t=f_(h,o,s),n.stateNode=t,ls(n))}return yt(n),null;case 5:if(Rs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=re.current,Oa(n))Pp(n);else{var g=mc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Lt]=n,f[$t]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return yt(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,Oa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,s)),t||js(n,!0)}else t=mc(t).createTextNode(o),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),yt(n),null);case 4:return dt(),t===null&&cd(n.stateNode.containerInfo),yt(n),null;case 10:return ss(n.type),yt(n),null;case 19:if(Y(Ot),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ul(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,ul(o,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Mp(s,t),s=s.sibling;return se(Ot,Ot.current&1|2),Fe&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>sc&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return yt(n),null}else 2*en()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,s=Ot.current,se(Ot,h?s&1|2:s&1),Fe&&ns(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return Un(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Y(Kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(zt),dt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ot),null;case 4:return dt(),null;case 10:return ss(n.type),null;case 22:case 23:return Un(n),hf(),t!==null&&Y(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(zt),null;case 25:return null;default:return null}}function ay(t,n){switch(Xh(n),n.tag){case 3:ss(zt),dt();break;case 26:case 27:case 5:Rs(n);break;case 4:dt();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:Y(Ot);break;case 10:ss(n.type);break;case 22:case 23:Un(n),hf(),t!==null&&Y(Kr);break;case 24:ss(zt)}}function cl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){at(n,n.return,E)}}function Qs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=s,j=E;try{j()}catch(Q){at(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){at(n,n.return,Q)}}function oy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Jp(n,s)}catch(o){at(t,t.return,o)}}}function ly(t,n,s){s.props=Zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){at(t,n,o)}}function hl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){at(t,n,h)}}function Li(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,n,h)}else s.current=null}function uy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function qf(t,n,s){try{var o=t.stateNode;ZT(o,t.type,s,n),o[$t]=n}catch(h){at(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&Ws(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function ec(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,n,s),t=t.sibling;t!==null;)ec(t,n,s),t=t.sibling}function hy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[Lt]=t,n[$t]=s}catch(f){at(t,t.return,f)}}var us=!1,qt=!1,Qf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function DT(t,n){if(t=t.containerInfo,dd=Tc,t=Sp(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,x=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(x=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===s&&++j===h&&(E=g),z===f&&++Q===o&&(x=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},Tc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var oe=Zr(s.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){at(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),o&4&&cl(5,s);break;case 1:if(hs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){at(s,s.return,g)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(s,s.return,g)}}o&64&&oy(s),o&512&&hl(s,s.return);break;case 3:if(hs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jp(t,n)}catch(g){at(s,s.return,g)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:hs(t,s),n===null&&o&4&&uy(s),o&512&&hl(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),o&4&&gy(t,s);break;case 13:hs(t,s),o&4&&yy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zT.bind(null,s),ab(t,s))));break;case 22:if(o=s.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||qt,h=us;var f=qt;us=o,(qt=n)&&!f?fs(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),us=h,qt=f}break;case 30:break;default:hs(t,s)}}function my(t){var n=t.alternate;n!==null&&(t.alternate=null,my(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,bn=!1;function cs(t,n,s){for(s=s.child;s!==null;)py(t,n,s),s=s.sibling}function py(t,n,s){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(fe,s)}catch{}switch(s.tag){case 26:qt||Li(s,n),cs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||Li(s,n);var o=At,h=bn;Ws(s.type)&&(At=s.stateNode,bn=!1),cs(t,n,s),El(s.stateNode),At=o,bn=h;break;case 5:qt||Li(s,n);case 6:if(o=At,h=bn,At=null,cs(t,n,s),At=o,bn=h,At!==null)if(bn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(f){at(s,n,f)}else try{At.removeChild(s.stateNode)}catch(f){at(s,n,f)}break;case 18:At!==null&&(bn?(t=At,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wa(t)):o_(At,s.stateNode));break;case 4:o=At,h=bn,At=s.stateNode.containerInfo,bn=!0,cs(t,n,s),At=o,bn=h;break;case 0:case 11:case 14:case 15:Qs(2,s,n),qt||Qs(4,s,n),cs(t,n,s);break;case 1:qt||(Li(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),cs(t,n,s);break;case 21:cs(t,n,s);break;case 22:qt=(o=qt)||s.memoizedState!==null,cs(t,n,s),qt=o;break;default:cs(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(s){at(n,n.return,s)}}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(s){at(n,n.return,s)}}function OT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var s=OT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=BT.bind(null,t,o);o.then(h,h)}})}function An(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){At=E.stateNode,bn=!1;break e}break;case 5:At=E.stateNode,bn=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(At===null)throw Error(a(160));py(f,g,h),At=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,t),n=n.sibling}var mi=null;function _y(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),Sn(t),o&4&&(Qs(3,t,t.return),cl(3,t),Qs(5,t,t.return));break;case 1:An(n,t),Sn(t),o&512&&(qt||s===null||Li(s,s.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=mi;if(An(n,t),Sn(t),o&512&&(qt||s===null||Li(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[Lt]=t,Pt(f),o=f;break e;case"link":var g=__("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Lt]=t,Pt(f),o=f}t.stateNode=o}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,t.type,t.stateNode):y_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:An(n,t),Sn(t),o&512&&(qt||s===null||Li(s,s.return)),s!==null&&o&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(An(n,t),Sn(t),o&512&&(qt||s===null||Li(s,s.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(oe){at(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(An(n,t),Sn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(oe){at(t,t.return,oe)}}break;case 3:if(yc=null,h=mi,mi=pc(n.containerInfo),An(n,t),mi=h,Sn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(oe){at(t,t.return,oe)}Qf&&(Qf=!1,vy(t));break;case 4:o=mi,mi=pc(t.stateNode.containerInfo),An(n,t),Sn(t),mi=o;break;case 12:An(n,t),Sn(t);break;case 31:An(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:An(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=us,Q=qt;if(us=j||h,qt=Q||x,An(n,t),qt=Q,us=j,Sn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||us||qt||Wr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){at(x,x.return,oe)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(oe){at(x,x.return,oe)}}}else if(n.tag===18){if(s===null){x=n;try{var H=x.stateNode;h?l_(H,!0):l_(x.stateNode,!1)}catch(oe){at(x,x.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(t,s))));break;case 19:An(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:An(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);ec(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(Tn(g,""),s.flags&=-33);var E=Gf(t);ec(t,E,g);break;case 3:case 4:var x=s.stateNode.containerInfo,j=Gf(t);Ff(t,j,x);break;default:throw Error(a(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Wr(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Wr(n);break;case 27:El(n.stateNode);case 26:case 5:Li(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function fs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),cl(4,f);break;case 1:if(fs(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){at(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)$p(x[h],E)}catch(j){at(o,o.return,j)}}s&&g&64&&oy(f),hl(f,f.return);break;case 27:hy(f);case 26:case 5:fs(h,f,s),s&&o===null&&g&4&&uy(f),hl(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&g&4&&gy(h,f);break;case 13:fs(h,f,s),s&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),hl(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jo(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jo(t))}function pi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(t,n,s,o),n=n.sibling}function Ey(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,s,o),h&2048&&cl(9,n);break;case 1:pi(t,n,s,o);break;case 3:pi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){pi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){at(n,n.return,x)}}else pi(t,n,s,o);break;case 31:pi(t,n,s,o);break;case 13:pi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,s,o):fl(t,n):f._visibility&2?pi(t,n,s,o):(f._visibility|=2,Ha(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:pi(t,n,s,o),h&2048&&Yf(n.alternate,n);break;default:pi(t,n,s,o)}}function Ha(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ha(f,g,E,x,h),cl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ha(f,g,E,x,h):fl(f,g):(Q._visibility|=2,Ha(f,g,E,x,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:Ha(f,g,E,x,h),h&&j&2048&&Yf(g.alternate,g);break;default:Ha(f,g,E,x,h)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:fl(s,o),h&2048&&Kf(o.alternate,o);break;case 24:fl(s,o),h&2048&&Yf(o.alternate,o);break;default:fl(s,o)}n=n.sibling}}var dl=8192;function qa(t,n,s){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ty(t,n,s),t=t.sibling}function Ty(t,n,s){switch(t.tag){case 26:qa(t,n,s),t.flags&dl&&t.memoizedState!==null&&_b(s,mi,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,s);break;case 3:case 4:var o=mi;mi=pc(t.stateNode.containerInfo),qa(t,n,s),mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=dl,dl=16777216,qa(t,n,s),dl=o):qa(t,n,s));break;default:qa(t,n,s)}}function by(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Zt=o,Sy(o,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ml(t);break;default:ml(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Zt=o,Sy(o,t)}by(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Sy(t,n){for(;Zt!==null;){var s=Zt;switch(s.tag){case 0:case 11:case 15:Qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Zt=o;else e:for(s=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(my(o),o===s){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var MT={getCacheForType:function(t){var n=sn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return sn(zt).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Ve=null,je=0,rt=0,Ln=null,Ks=!1,Ga=!1,Xf=!1,ds=0,xt=0,Ys=0,ea=0,$f=0,Pn=0,Fa=0,pl=null,wn=null,Jf=!1,ic=0,wy=0,sc=1/0,rc=null,Xs=null,Kt=0,$s=null,Qa=null,ms=0,Zf=0,Wf=null,Ry=null,gl=0,ed=null;function jn(){return(et&2)!==0&&je!==0?je&-je:q.T!==null?ad():au()}function xy(){if(Pn===0)if((je&536870912)===0||Fe){var t=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),Pn=t}else Pn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Pn}function Rn(t,n,s){(t===mt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Js(t,je,Pn,!1)),ri(t,s),((et&2)===0||t!==mt)&&(t===mt&&((et&2)===0&&(ea|=s),xt===4&&Js(t,je,Pn,!1)),Pi(t))}function Iy(t,n,s){if((et&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Tt(t,n),h=o?LT(t,n):nd(t,n,!0),f=o;do{if(h===0){Ga&&!o&&Js(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!kT(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=pl;var x=E.current.memoizedState.isDehydrated;if(x&&(Ka(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,Pn,!Ks);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(Js(o,n,Pn,!Ks),gn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=r_(Cy.bind(null,o,s,wn,rc,Jf,n,Pn,ea,Fa,Ks,f,"Throttled",-0,0),h);break e}Cy(o,s,wn,rc,Jf,n,Pn,ea,Fa,Ks,f,null,-0,0)}}break}while(!0);Pi(t)}function Cy(t,n,s,o,h,f,g,E,x,j,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Ty(n,f,X);var oe=(f&62914560)===f?ic-en():(f&4194048)===f?wy-en():0;if(oe=vb(X,oe),oe!==null){ms=f,t.cancelPendingCommit=oe(Ly.bind(null,t,n,f,s,o,h,g,E,x,Q,X,null,z,H)),Js(t,f,g,!j);return}}Ly(t,n,f,s,o,h,g,E,x)}function kT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,s,o){n&=~$f,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Cr(t,s,n)}function ac(){return(et&6)===0?(yl(0),!1):!0}function td(){if(Ve!==null){if(rt===0)var t=Ve.return;else t=Ve,is=Fr=null,yf(t),La=null,Wo=0,t=Ve;for(;t!==null;)ay(t.alternate,t),t=t.return;Ve=null}}function Ka(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ms=0,td(),mt=t,Ve=s=ts(t.current,null),je=n,rt=0,Ln=null,Ks=!1,Ga=Tt(t,n),Xf=!1,Fa=Pn=$f=ea=Ys=xt=0,wn=pl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Ce(o),f=1<<h;n|=t[h],o&=~f}return ds=n,xu(),s}function Ny(t,n){Ie=null,q.H=ol,n===Ua||n===ku?(n=Qp(),rt=3):n===rf?(n=Qp(),rt=4):rt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Ve===null&&(xt=1,Xu(t,Yn(n,t.current)))}function Dy(){var t=kn.current;return t===null?!0:(je&4194048)===je?Zn===null:(je&62914560)===je||(je&536870912)!==0?t===Zn:!1}function Oy(){var t=q.H;return q.H=ol,t===null?ol:t}function My(){var t=q.A;return q.A=MT,t}function oc(){xt=4,Ks||(je&4194048)!==je&&kn.current!==null||(Ga=!0),(Ys&134217727)===0&&(ea&134217727)===0||mt===null||Js(mt,je,Pn,!1)}function nd(t,n,s){var o=et;et|=2;var h=Oy(),f=My();(mt!==t||je!==n)&&(rc=null,Ka(t,n)),n=!1;var g=xt;e:do try{if(rt!==0&&Ve!==null){var E=Ve,x=Ln;switch(rt){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var j=rt;if(rt=0,Ln=null,Ya(t,E,x,j),s&&Ga){g=0;break e}break;default:j=rt,rt=0,Ln=null,Ya(t,E,x,j)}}UT(),g=xt;break}catch(Q){Ny(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=Fr=null,et=o,q.H=h,q.A=f,Ve===null&&(mt=null,je=0,xu()),g}function UT(){for(;Ve!==null;)Vy(Ve)}function LT(t,n){var s=et;et|=2;var o=Oy(),h=My();mt!==t||je!==n?(rc=null,sc=en()+500,Ka(t,n)):Ga=Tt(t,n);e:do try{if(rt!==0&&Ve!==null){n=Ve;var f=Ln;t:switch(rt){case 1:rt=0,Ln=null,Ya(t,n,f,1);break;case 2:case 9:if(Gp(f)){rt=0,Ln=null,ky(n);break}n=function(){rt!==2&&rt!==9||mt!==t||(rt=7),Pi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Gp(f)?(rt=0,Ln=null,ky(n)):(rt=0,Ln=null,Ya(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?E_(g):E.stateNode.complete){rt=0,Ln=null;var x=E.sibling;if(x!==null)Ve=x;else{var j=E.return;j!==null?(Ve=j,lc(j)):Ve=null}break t}}rt=0,Ln=null,Ya(t,n,f,5);break;case 6:rt=0,Ln=null,Ya(t,n,f,6);break;case 8:td(),xt=6;break e;default:throw Error(a(462))}}PT();break}catch(Q){Ny(t,Q)}while(!0);return is=Fr=null,q.H=o,q.A=h,et=s,Ve!==null?0:(mt=null,je=0,xu(),xt)}function PT(){for(;Ve!==null&&!Ro();)Vy(Ve)}function Vy(t){var n=sy(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?lc(t):Ve=n}function ky(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:yf(n);default:ay(s,n),n=Ve=Mp(n,ds),n=sy(s,n,ds)}t.memoizedProps=t.pendingProps,n===null?lc(t):Ve=n}function Ya(t,n,s,o){is=Fr=null,yf(n),La=null,Wo=0;var h=n.return;try{if(RT(t,h,n,s,je)){xt=1,Xu(t,Yn(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;xt=1,Xu(t,Yn(s,t.current)),Ve=null;return}n.flags&32768?(Fe||o===1?t=!0:Ga||(je&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){Uy(n,Ks);return}t=n.return;var s=CT(n.alternate,n,ds);if(s!==null){Ve=s;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);xt===0&&(xt=5)}function Uy(t,n){do{var s=NT(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);xt=6,Ve=null}function Ly(t,n,s,o,h,f,g,E,x){t.cancelPendingCommit=null;do uc();while(Kt!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(t,s,f,g,E,x),t===mt&&(Ve=mt=null,je=0),Qa=n,$s=t,ms=s,Zf=f,Wf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HT(si,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=ne.p,ne.p=2,g=et,et|=4;try{DT(t,n,s)}finally{et=g,ne.p=h,q.T=o}}Kt=1,Py(),jy(),zy()}}function Py(){if(Kt===1){Kt=0;var t=$s,n=Qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var h=et;et|=4;try{_y(n,t);var f=md,g=Sp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ap(E.ownerDocument.documentElement,E)){if(x!==null&&Ph(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=E.textContent.length,_e=Math.min(x.start,oe),ht=x.end===void 0?_e:Math.min(x.end,oe);!H.extend&&_e>ht&&(g=ht,ht=_e,_e=g);var U=bp(E,_e),D=bp(E,ht);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),_e>ht?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!dd,md=dd=null}finally{et=h,ne.p=o,q.T=s}}t.current=n,Kt=2}}function jy(){if(Kt===2){Kt=0;var t=$s,n=Qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var h=et;et|=4;try{dy(t,n.alternate,n)}finally{et=h,ne.p=o,q.T=s}}Kt=3}}function zy(){if(Kt===4||Kt===3){Kt=0,fa();var t=$s,n=Qa,s=ms,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Qa=$s=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),Ji(s),n=n.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(fe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=ne.p,ne.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ne.p=h}}(ms&3)!==0&&uc(),Pi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?gl++:(gl=0,ed=t):gl=0,yl(0)}}function By(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jo(n)))}function uc(){return Py(),jy(),zy(),Hy()}function Hy(){if(Kt!==5)return!1;var t=$s,n=Zf;Zf=0;var s=Ji(ms),o=q.T,h=ne.p;try{ne.p=32>s?32:s,q.T=null,s=Wf,Wf=null;var f=$s,g=ms;if(Kt=0,Qa=$s=null,ms=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,Ay(f.current),Ey(f,f.current,g,s),et=E,yl(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(fe,f)}catch{}return!0}finally{ne.p=h,q.T=o,By(t,n)}}function qy(t,n,s){n=Yn(s,n),n=Of(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(ri(t,2),Pi(t))}function at(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Yn(s,t),s=Gg(2),o=qs(n,s,2),o!==null&&(Fg(s,o,n,t),ri(o,2),Pi(o));break}}n=n.return}}function id(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new VT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=jT.bind(null,t,n,s),n.then(t,t))}function jT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(je&s)===s&&(xt===4||xt===3&&(je&62914560)===je&&300>en()-ic?(et&2)===0&&Ka(t,0):$f|=s,Fa===je&&(Fa=0)),Pi(t)}function Gy(t,n){n===0&&(n=Qe()),t=Hr(t,n),t!==null&&(ri(t,n),Pi(t))}function zT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(t,s)}function BT(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(t,s)}function HT(t,n){return Ct(t,n)}var cc=null,Xa=null,sd=!1,hc=!1,rd=!1,Zs=0;function Pi(t){t!==Xa&&t.next===null&&(Xa===null?cc=Xa=t:Xa=Xa.next=t),hc=!0,sd||(sd=!0,GT())}function yl(t,n){if(!rd&&hc){rd=!0;do for(var s=!1,o=cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ce(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=je,f=gn(o,o===mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Tt(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);rd=!1}}function qT(){Fy()}function Fy(){hc=sd=!1;var t=0;Zs!==0&&eb()&&(t=Zs);for(var n=en(),s=null,o=cc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Xa=s)):(s=o,(t!==0||(f&3)!==0)&&(hc=!0)),o=h}Kt!==0&&Kt!==5||yl(t),Zs!==0&&(Zs=0)}function Qy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ce(f),E=1<<g,x=h[g];x===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ir(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,s=je,s=gn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Tt(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Ei(o),Ji(s)){case 2:case 8:s=$i;break;case 32:s=si;break;case 268435456:s=da;break;default:s=si}return o=Ky.bind(null,t),s=Ct(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(uc()&&t.callbackNode!==s)return null;var o=je;return o=gn(t,t===mt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,n),Qy(t,en()),t.callbackNode!=null&&t.callbackNode===s?Ky.bind(null,t):null)}function Yy(t,n){if(uc())return null;Iy(t,n,!0)}function GT(){nb(function(){(et&6)!==0?Ct(pn,qT):Fy()})}function ad(){if(Zs===0){var t=Va;t===0&&(t=Ne,Ne<<=1,(Ne&261888)===0&&(Ne=256)),Zs=t}return Zs}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function $y(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function FT(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[$t]||null).action),g=o.submitter;g&&(n=(n=g[$t]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var x=g?$y(h,g):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?$y(h,g):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ld=Hh[od],QT=ld.toLowerCase(),KT=ld[0].toUpperCase()+ld.slice(1);di(QT,"on"+KT)}di(xp,"onAnimationEnd"),di(Ip,"onAnimationIteration"),di(Cp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(uT,"onTransitionRun"),di(cT,"onTransitionStart"),di(hT,"onTransitionCancel"),di(Np,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Jy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}}}}function ke(t,n){var s=n[ma];s===void 0&&(s=n[ma]=new Set);var o=t+"__bubble";s.has(o)||(Zy(n,t,2,!1),s.add(o))}function ud(t,n,s){var o=0;n&&(o|=4),Zy(s,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[fc]){t[fc]=!0,No.forEach(function(s){s!=="selectionchange"&&(YT.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,ud("selectionchange",!1,n))}}function Zy(t,n,s,o){switch(x_(n)){case 2:var h=bb;break;case 8:h=Ab;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Si(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ms(function(){var j=f,Q=Gn(s),X=[];e:{var z=Dp.get(t);if(z!==void 0){var H=Di,oe=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":H=Au;break;case"focusin":oe="focus",H=Pr;break;case"focusout":oe="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case xp:case Ip:case Cp:H=gu;break;case Np:H=T;break;case"scroll":case"scrollend":H=Ho;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=es;break;case"toggle":case"beforetoggle":H=xe}var _e=(n&4)!==0,ht=!_e&&(t==="scroll"||t==="scrollend"),U=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=ui(D,U),K!=null&&_e.push(vl(D,K,P))),ht)break;D=D.return}0<_e.length&&(z=new H(z,oe,null,s,Q),X.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==jo&&(oe=s.relatedTarget||s.fromElement)&&(Si(oe)||oe[bi]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=s.relatedTarget||s.toElement,H=j,oe=oe?Si(oe):null,oe!==null&&(ht=c(oe),_e=oe.tag,oe!==ht||_e!==5&&_e!==27&&_e!==6)&&(oe=null)):(H=null,oe=j),H!==oe)){if(_e=qo,K="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=es,K="onPointerLeave",U="onPointerEnter",D="pointer"),ht=H==null?z:Dn(H),P=oe==null?z:Dn(oe),z=new _e(K,D+"leave",H,s,Q),z.target=ht,z.relatedTarget=P,K=null,Si(Q)===j&&(_e=new _e(U,D+"enter",oe,s,Q),_e.target=P,_e.relatedTarget=ht,K=_e),ht=K,H&&oe)t:{for(_e=XT,U=H,D=oe,P=0,K=U;K;K=_e(K))P++;K=0;for(var de=D;de;de=_e(de))K++;for(;0<P-K;)U=_e(U),P--;for(;0<K-P;)D=_e(D),K--;for(;P--;){if(U===D||D!==null&&U===D.alternate){_e=U;break t}U=_e(U),D=_e(D)}_e=null}else _e=null;H!==null&&Wy(X,z,H,_e,!1),oe!==null&&ht!==null&&Wy(X,ht,oe,_e,!0)}}e:{if(z=j?Dn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Xe=gp;else if(mp(z))if(yp)Xe=aT;else{Xe=sT;var le=iT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&_a(j.elementType)&&(Xe=gp):Xe=rT;if(Xe&&(Xe=Xe(t,j))){pp(X,Xe,s,Q);break e}le&&le(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Uo(z,"number",z.value)}switch(le=j?Dn(j):window,t){case"focusin":(mp(le)||le.contentEditable==="true")&&(Ra=le,jh=j,Yo=null);break;case"focusout":Yo=jh=Ra=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,wp(X,s,Q);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":wp(X,s,Q)}var De;if(We)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else wa?jr(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(Vi&&s.locale!=="ko"&&(wa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&wa&&(De=Bo()):(Ni=Q,zo="value"in Ni?Ni.value:Ni.textContent,wa=!0)),le=dc(j,ze),0<le.length&&(ze=new Mi(ze,t,null,s,Q),X.push({event:ze,listeners:le}),De?ze.data=De:(De=Sa(s),De!==null&&(ze.data=De)))),(De=Qn?WE(t,s):eT(t,s))&&(ze=dc(j,"onBeforeInput"),0<ze.length&&(le=new Mi("onBeforeInput","beforeinput",null,s,Q),X.push({event:le,listeners:ze}),le.data=De)),FT(X,t,j,s,Q)}Jy(X,n)})}function vl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function dc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,s),h!=null&&o.unshift(vl(t,h,f)),h=ui(t,n),h!=null&&o.push(vl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function XT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=ui(s,f),j!=null&&g.unshift(vl(s,j,x))):h||(j=ui(s,f),j!=null&&g.push(vl(s,j,x)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var $T=/\r\n?/g,JT=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(JT,"")}function t_(t,n){return n=e_(n),e_(t)===n}function ct(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(t,""+o);break;case"className":On(t,"class",o);break;case"tabIndex":On(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,s,o);break;case"style":Po(t,o,f);break;case"data":if(n!=="object"){On(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=va(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=va(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=li);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ga(t,s,o))}}function fd(t,n,s,o,h,f){switch(s){case"style":Po(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[$t]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ga(t,s,o)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,f,g,s,null)}}h&&ct(t,n,"srcSet",s.srcSet,s,null),o&&ct(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var E=f=g=h=null,x=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ct(t,n,o,Q,s,null)}}cu(t,f,E,x,j,g,h,!1);return;case"select":ke("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ct(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!o,n!=null?Cs(t,!!o,n,!1):s!=null&&Cs(t,!!o,s,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ct(t,n,g,E,s,null)}Ns(t,o,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null)&&(x==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ct(t,n,x,o,s,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<_l.length;o++)ke(_l[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,j,o,s,null)}return;default:if(_a(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&fd(t,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ct(t,n,E,o,s,null))}function ZT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(H)||ct(t,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ct(t,n,z,H,o,X)}}ya(t,g,E,x,j,Q,f,h);return;case"select":H=g=E=z=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||ct(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&ct(t,n,h,f,o,x)}n=E,s=g,o=H,z!=null?Cs(t,!!s,z,!1):!!o!=!!s&&(n!=null?Cs(t,!!s,n,!0):Cs(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,n,g,h,o,f)}hu(t,z,H);return;case"option":for(var oe in s)z=s[oe],s.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ct(t,n,oe,null,o,z));for(x in o)z=o[x],H=s[x],o.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ct(t,n,x,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&ct(t,n,_e,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ct(t,n,j,z,o,H)}return;default:if(_a(n)){for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!==void 0&&!o.hasOwnProperty(ht)&&fd(t,n,ht,void 0,o,z);for(Q in o)z=o[Q],H=s[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||fd(t,n,Q,z,o,H);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&ct(t,n,U,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||ct(t,n,X,z,o,H)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],j=x.startTime;if(j>E)break;var Q=x.transferSize,X=x.initiatorType;Q&&n_(X)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function eb(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(ib)}:r_;function ib(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function o_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")El(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,El(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&El(t.ownerDocument.body);s=h}while(s);Wa(n)}function l_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),pa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function rb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function u_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ab(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function c_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Wn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function f_(t,n,s){switch(n=mc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var ei=new Map,d_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ne.d;ne.d={f:ob,r:lb,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:pb};function ob(){var t=ps.f(),n=ac();return t||n}function lb(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):ps.r(t)}var $a=typeof document>"u"?null:document;function m_(t,n,s){var o=$a;if(o&&typeof n=="string"&&n){var h=En(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Pt(n),o.head.appendChild(n)))}}function ub(t){ps.D(t),m_("dns-prefetch",t,null)}function cb(t,n){ps.C(t,n),m_("preconnect",t,n)}function hb(t,n,s){ps.L(t,n,s);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+En(s.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Za(t)}ei.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ei.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Tl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),an(n,"link",t),Pt(n),o.head.appendChild(n)))}}function fb(t,n){ps.m(t,n);var s=$a;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!ei.has(f)&&(t=S({rel:"modulepreload",href:t},n),ei.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bl(f)))return}o=s.createElement("link"),an(o,"link",t),Pt(o),s.head.appendChild(o)}}}function db(t,n,s){ps.S(t,n,s);var o=$a;if(o&&t){var h=wi(o).hoistableStyles,f=Ja(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Tl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ei.get(f))&&Td(t,s);var x=g=o.createElement("link");Pt(x),an(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function mb(t,n){ps.X(t,n);var s=$a;if(s&&t){var o=wi(s).hoistableScripts,h=Za(t),f=o.get(h);f||(f=s.querySelector(bl(h)),f||(t=S({src:t,async:!0},n),(n=ei.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pb(t,n){ps.M(t,n);var s=$a;if(s&&t){var o=wi(s).hoistableScripts,h=Za(t),f=o.get(h);f||(f=s.querySelector(bl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&bd(t,n),f=s.createElement("script"),Pt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(t,n,s,o){var h=(h=Se.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ja(s.href),s=wi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ja(s.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Tl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ei.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ei.set(t,s),f||gb(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(s),s=wi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+En(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function gb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Pt(n),t.head.appendChild(n))}function Za(t){return'[src="'+En(t)+'"]'}function bl(t){return"script[async]"+t}function y_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(o)return n.instance=o,Pt(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),an(o,"style",h),gc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ja(s.href);var f=t.querySelector(Tl(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;o=g_(s),(h=ei.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),an(f,"link",o),n.state.loading|=4,gc(f,s.precedence,t),n.instance=f;case"script":return f=Za(s.src),(h=t.querySelector(bl(f)))?(n.instance=h,Pt(h),h):(o=s,(h=ei.get(f))&&(o=S({},s),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,t));return n.instance}function gc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function __(t,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function v_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ja(o.href),f=n.querySelector(Tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Pt(f);return}f=n.ownerDocument||n,o=g_(o),(h=ei.get(h))&&Td(o,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),an(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_c.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function vb(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*WT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(Eb,t),vc=null,_c.call(t))}function Eb(t,n){if(!(n.state.loading&4)){var s=vc.get(t);if(s)var o=s.get(null);else{s=new Map,vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Al={$$typeof:pe,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Tb(t,n,s,o,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=be(0),this.hiddenUpdates=be(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function T_(t,n,s,o,h,f,g,E,x,j,Q,X){return t=new Tb(t,n,s,g,x,j,Q,X,E),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),t}function b_(t){return t?(t=Ca,t):Ca}function A_(t,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=qs(t,o,n),s!==null&&(Rn(s,t,n),tl(s,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function w_(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&Rn(n,t,67108864),Sd(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var n=jn();n=Nr(n);var s=Hr(t,n);s!==null&&Rn(s,t,n),Sd(t,n)}}var Tc=!0;function bb(t,n,s,o){var h=q.T;q.T=null;var f=ne.p;try{ne.p=2,wd(t,n,s,o)}finally{ne.p=f,q.T=h}}function Ab(t,n,s,o){var h=q.T;q.T=null;var f=ne.p;try{ne.p=8,wd(t,n,s,o)}finally{ne.p=f,q.T=h}}function wd(t,n,s,o){if(Tc){var h=Rd(o);if(h===null)hd(t,n,o,bc,s),I_(t,o);else if(wb(h,t,n,s,o))o.stopPropagation();else if(I_(t,o),n&4&&-1<Sb.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Nt(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-Ce(g);E.entanglements[1]|=x,g&=~x}Pi(f),(et&6)===0&&(sc=en()+500,yl(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&Rn(E,f,2),ac(),Sd(f,2)}if(f=Rd(o),f===null&&hd(t,n,o,bc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,s)}}function Rd(t){return t=Gn(t),xd(t)}var bc=null;function xd(t){if(bc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case pn:return 2;case $i:return 8;case si:case xo:return 32;case da:return 268435456;default:return 32}default:return 32}}var Id=!1,er=null,tr=null,nr=null,Sl=new Map,wl=new Map,ir=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Rl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&w_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function wb(t,n,s,o,h){switch(n){case"focusin":return er=Rl(er,t,n,s,o,h),!0;case"dragenter":return tr=Rl(tr,t,n,s,o,h),!0;case"mouseover":return nr=Rl(nr,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,Rl(Sl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Rl(wl.get(f)||null,t,n,s,o,h)),!0}return!1}function C_(t){var n=Si(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ai(t.priority,function(){R_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,ai(t.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);jo=o,s.target.dispatchEvent(o),jo=null}else return n=qn(s),n!==null&&w_(n),t.blockedOn=s,!1;n.shift()}return!0}function N_(t,n,s){Ac(t)&&s.delete(n)}function Rb(){Id=!1,er!==null&&Ac(er)&&(er=null),tr!==null&&Ac(tr)&&(tr=null),nr!==null&&Ac(nr)&&(nr=null),Sl.forEach(N_),wl.forEach(N_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var wc=null;function D_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=qn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Wa(t){function n(x){return Sc(x,t)}er!==null&&Sc(er,t),tr!==null&&Sc(tr,t),nr!==null&&Sc(nr,t),Sl.forEach(n),wl.forEach(n);for(var s=0;s<ir.length;s++){var o=ir[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&ir.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[$t]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Rc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=jn();A_(s,o,t,n,null,null)},Rc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;A_(t.current,2,null,t,null,null),ac(),n[bi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ir.length&&n!==0&&n<ir[s].priority;s++);ir.splice(s,0,t),s===0&&C_(t)}};var M_=e.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{fe=xc.inject(xb),ue=xc}catch{}}return Il.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=zg,f=Bg,g=Hg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(t,1,!1,null,null,s,o,null,h,f,g,O_),t[bi]=n.current,cd(t),new Cd(n)},Il.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=zg,g=Bg,E=Hg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=T_(t,1,!0,n,s??null,o,h,x,f,g,E,O_),n.context=b_(null),s=n.current,o=jn(),o=Nr(o),h=Hs(o),h.callback=null,qs(s,h,o),s=o,n.current.lanes=s,ri(n,s),Pi(n),t[bi]=n.current,cd(t),new Rc(n)},Il.version="19.2.3",Il}var q_;function Lb(){if(q_)return Od.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Ub(),Od.exports}var Pb=Lb();const jb=()=>{};var G_={};const wv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},zb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,G=_&63;p||(G=64,d||(M=64)),a.push(i[A],i[S],i[M],i[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Bb;const M=c<<2|y>>4;if(a.push(M),_!==64){const G=y<<4&240|_>>2;if(a.push(G),S!==64){const Z=_<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hb=function(r){const e=wv(r);return Rv.encodeByteArray(e,!0)},Qc=function(r){return Hb(r).replace(/\./g,"")},xv=function(r){try{return Rv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gb=()=>qb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xv(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return jb()||Gb()||Fb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iv=r=>dh()?.emulatorHosts?.[r],Kb=r=>{const e=Iv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>dh()?.config,Nv=r=>dh()?.[`_${r}`];class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function Xb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Ml={};function $b(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function Jb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F_=!1;function Ov(r,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Ml[r]===e||Ml[r]||F_)return;Ml[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=$b().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Jb(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),ie=i("learnmore"),ee=document.getElementById(ie)||document.createElement("a"),ge=i("preprendIcon"),me=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;y(pe),A(ee,ie);const Je=_();p(me,ge),pe.append(me,Z,ee,Je),document.body.appendChild(pe)}c?(Z.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Wb(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sA(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const oA="FirebaseError";class ws extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=oA,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?lA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ws(l,y,a)}}function lA(r,e){return r.replace(uA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const uA=/\{\$([^}]+)}/g;function cA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(Q_(c)&&Q_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Yl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function hA(r,e){const i=new fA(r,e);return i.subscribe.bind(i)}class fA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function vn(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class mA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(r){return r===ta?void 0:r}function gA(r){return r.instantiationMode==="EAGER"}class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const _A={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},vA=Be.INFO,EA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},TA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=EA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=vA,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const bA=(r,e)=>e.some(i=>r instanceof i);let K_,Y_;function AA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,$d=new WeakMap,Vv=new WeakMap,Ld=new WeakMap,Rm=new WeakMap;function wA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(hr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),Rm.set(e,r),e}function RA(r){if($d.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Jd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xA(r){Jd=r(Jd)}function IA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return Vv.set(a,e.sort?e.sort():[e]),hr(a)}:SA().includes(r)?function(...e){return r.apply(Pd(this),e),hr(Mv.get(this))}:function(...e){return hr(r.apply(Pd(this),e))}}function CA(r){return typeof r=="function"?IA(r):(r instanceof IDBTransaction&&RA(r),bA(r,AA())?new Proxy(r,Jd):r)}function hr(r){if(r instanceof IDBRequest)return wA(r);if(Ld.has(r))return Ld.get(r);const e=CA(r);return e!==r&&(Ld.set(r,e),Rm.set(e,r)),e}const Pd=r=>Rm.get(r);function NA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),y=hr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(hr(d.result),p.oldVersion,p.newVersion,hr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const DA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],jd=new Map;function X_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=OA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DA.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&p.done]))[0]};return jd.set(e,c),c}xA(r=>({...r,get:(e,i,a)=>X_(e,i)||r.get(e,i,a),has:(e,i)=>!!X_(e,i)||r.has(e,i)}));class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",$_="0.14.6";const vs=new wm("@firebase/app"),kA="@firebase/app-compat",UA="@firebase/analytics-compat",LA="@firebase/analytics",PA="@firebase/app-check-compat",jA="@firebase/app-check",zA="@firebase/auth",BA="@firebase/auth-compat",HA="@firebase/database",qA="@firebase/data-connect",GA="@firebase/database-compat",FA="@firebase/functions",QA="@firebase/functions-compat",KA="@firebase/installations",YA="@firebase/installations-compat",XA="@firebase/messaging",$A="@firebase/messaging-compat",JA="@firebase/performance",ZA="@firebase/performance-compat",WA="@firebase/remote-config",eS="@firebase/remote-config-compat",tS="@firebase/storage",nS="@firebase/storage-compat",iS="@firebase/firestore",sS="@firebase/ai",rS="@firebase/firestore-compat",aS="firebase",oS="12.6.0";const Wd="[DEFAULT]",lS={[Zd]:"fire-core",[kA]:"fire-core-compat",[LA]:"fire-analytics",[UA]:"fire-analytics-compat",[jA]:"fire-app-check",[PA]:"fire-app-check-compat",[zA]:"fire-auth",[BA]:"fire-auth-compat",[HA]:"fire-rtdb",[qA]:"fire-data-connect",[GA]:"fire-rtdb-compat",[FA]:"fire-fn",[QA]:"fire-fn-compat",[KA]:"fire-iid",[YA]:"fire-iid-compat",[XA]:"fire-fcm",[$A]:"fire-fcm-compat",[JA]:"fire-perf",[ZA]:"fire-perf-compat",[WA]:"fire-rc",[eS]:"fire-rc-compat",[tS]:"fire-gcs",[nS]:"fire-gcs-compat",[iS]:"fire-fst",[rS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[aS]:"fire-js-all"};const Kc=new Map,uS=new Map,em=new Map;function J_(r,e){try{r.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function co(r){const e=r.name;if(em.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const i of Kc.values())J_(i,r);for(const i of uS.values())J_(i,r);return!0}function xm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Kl("app","Firebase",cS);class hS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Eo=oS;function kv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw fr.create("no-options");const c=Kc.get(l);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new yA(l);for(const p of em.values())d.addComponent(p);const y=new hS(i,a,d);return Kc.set(l,y),y}function Uv(r=Wd){const e=Kc.get(r);if(!e&&r===Wd&&Cv())return kv();if(!e)throw fr.create("no-app",{appName:r});return e}function dr(r,e,i){let a=lS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}co(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const fS="firebase-heartbeat-database",dS=1,jl="firebase-heartbeat-store";let zd=null;function Lv(){return zd||(zd=NA(fS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(r=>{throw fr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function mS(r){try{const i=(await Lv()).transaction(jl),a=await i.objectStore(jl).get(Pv(r));return await i.done,a}catch(e){if(e instanceof ws)vs.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function Z_(r,e){try{const a=(await Lv()).transaction(jl,"readwrite");await a.objectStore(jl).put(e,Pv(r)),await a.done}catch(i){if(i instanceof ws)vs.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(a.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}const pS=1024,gS=30;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>gS){const l=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:i,unsentEntries:a}=_S(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vs.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function _S(r,e=pS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),e0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),e0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function e0(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function ES(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function TS(r){co(new ra("platform-logger",e=>new MA(e),"PRIVATE")),co(new ra("heartbeat",e=>new yS(e),"PRIVATE")),dr(Zd,$_,r),dr(Zd,$_,"esm2020"),dr("fire-js","")}TS("");var bS="firebase",AS="12.7.0";dr(bS,AS,"app");function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=jv,zv=new Kl("auth","Firebase",jv());const Yc=new wm("@firebase/auth");function wS(r,...e){Yc.logLevel<=Be.WARN&&Yc.warn(`Auth (${Eo}): ${r}`,...e)}function Uc(r,...e){Yc.logLevel<=Be.ERROR&&Yc.error(`Auth (${Eo}): ${r}`,...e)}function Es(r,...e){throw Im(r,...e)}function Bi(r,...e){return Im(r,...e)}function Bv(r,e,i){const a={...SS(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:r.name})}function _s(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return zv.create(r,...e)}function Te(r,e,...i){if(!r)throw Im(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uc(e),new Error(e)}function Ts(r,e){r||gs(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function RS(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function xS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||tA()||"connection"in navigator)?navigator.onLine:!0}function IS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=Zb()||nA()}get(){return xS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,e){Ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Hv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new Xl(3e4,6e4);function $l(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function To(r,e,i,a,l={}){return qv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Yl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...c};return eA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(_.credentials="include"),Hv.fetch()(await Gv(r,r.config.apiHost,i,y),_)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...CS,...e};try{const l=new OS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ic(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(r,A,_);Es(r,A)}}catch(l){if(l instanceof ws)throw l;Es(r,"network-request-failed",{message:String(l)})}}async function Nm(r,e,i,a,l={}){const c=await To(r,e,i,a,l);return"mfaPendingCredential"in c&&Es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Gv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,l):`${r.config.apiScheme}://${l}`;return NS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),DS.get())})}}function Ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Bi(r,e,a);return l.customData._tokenResponse=i,l}async function MS(r,e){return To(r,"POST","/v1/accounts:delete",e)}async function Xc(r,e){return To(r,"POST","/v1/accounts:lookup",e)}function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const i=vn(r),a=await i.getIdToken(e),l=Dm(a);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(Bd(l.auth_time)),issuedAtTime:Vl(Bd(l.iat)),expirationTime:Vl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Dm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const e=Dm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ws&&kS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function kS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(r){const e=r.auth,i=await r.getIdToken(),a=await zl(r,Xc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Fv(l.providerUserInfo):[],d=PS(r.providerData,c),y=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=y?p:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function LS(r){const e=vn(r);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Fv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function jS(r,e){const i=await qv(r,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Gv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),Hv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zS(r,e){return To(r,"POST","/v2/accounts:revokeToken",$l(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await jS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return gs("not implemented")}}function rr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return VS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await zl(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:G,providerData:Z,stsTokenManager:ie}=i;Te(S&&ie,e,"internal-error");const ee=ro.fromJSON(this.name,ie);Te(typeof S=="string",e,"internal-error"),rr(a,e.name),rr(l,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof G=="boolean",e,"internal-error"),rr(c,e.name),rr(d,e.name),rr(y,e.name),rr(p,e.name),rr(_,e.name),rr(A,e.name);const ge=new gi({uid:S,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ge.providerData=Z.map(me=>({...me}))),p&&(ge._redirectEventId=p),ge}static async _fromIdTokenResponse(e,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Fv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ro;y.updateFromIdToken(a);const p=new gi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const i0=new Map;function ys(r){Ts(r instanceof Function,"Expected a class definition");let e=i0.get(r);return e?(Ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,i0.set(r,e),e)}class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Qv.type="NONE";const s0=Qv;function Lc(r,e,i){return`firebase:${r}:${e}:${i}`}class ao{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xc(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ao(ys(s0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ys(s0);const d=Lc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await Xc(e,{idToken:A}).catch(()=>{});if(!M)break;S=await gi._fromGetAccountInfoResponse(e,M,A)}else S=gi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ao(c,e,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,e,a))}}function r0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($v(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Wv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Xv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Kv(r=mn()){return/firefox\//i.test(r)}function Yv(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xv(r=mn()){return/crios\//i.test(r)}function $v(r=mn()){return/iemobile/i.test(r)}function Jv(r=mn()){return/android/i.test(r)}function Zv(r=mn()){return/blackberry/i.test(r)}function Wv(r=mn()){return/webos/i.test(r)}function Om(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BS(r=mn()){return Om(r)&&!!window.navigator?.standalone}function HS(){return iA()&&document.documentMode===10}function e1(r=mn()){return Om(r)||Jv(r)||Wv(r)||Zv(r)||/windows phone/i.test(r)||$v(r)}function t1(r,e=[]){let i;switch(r){case"Browser":i=r0(mn());break;case"Worker":i=`${r0(mn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${a}`}class qS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const p=e(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function GS(r,e={}){return To(r,"GET","/v2/passwordPolicy",$l(r,e))}const FS=6;class QS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class KS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new qS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xc(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(_s(this));const i=e?vn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),i=new QS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jl(r){return vn(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YS(r){Mm=r}function XS(r){return Mm.loadJS(r)}function $S(){return Mm.gapiScript}function JS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZS(r,e){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(gr(c,e??{}))return l;Es(l,"already-initialized")}return i.initialize({options:e})}function WS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function e2(r,e,i){const a=Jl(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=n1(e),{host:d,port:y}=t2(e),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(gr(_,a.config.emulator)&&gr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,vo(d)?(Dv(`${c}//${d}${p}`),Ov("Auth",!0)):n2()}function n1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function t2(r){const e=n1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function n2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class i1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function oo(r,e){return Nm(r,"POST","/v1/accounts:signInWithIdp",$l(r,e))}const i2="http://localhost";class aa extends i1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new aa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,oo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Yl(i)}return e}}class s1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends Zl{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends Zl{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends Zl{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function s2(r,e){return Nm(r,"POST","/v1/accounts:signUp",$l(r,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await gi._fromIdTokenResponse(e,a,l),d=l0(a);return new bs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=l0(a);return new bs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function r2(r){if(ti(r.app))return Promise.reject(_s(r));const e=Jl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await s2(e,{returnSecureToken:!0}),a=await bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Jc extends ws{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Jc(e,i,a,l)}}function r1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,e,a):c})}async function a2(r,e,i=!1){const a=await zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return bs._forOperation(r,"link",a)}async function o2(r,e,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(_s(a));const l="reauthenticate";try{const c=await zl(r,r1(a,l,e,r),i);Te(c.idToken,a,"internal-error");const d=Dm(c.idToken);Te(d,a,"internal-error");const{sub:y}=d;return Te(r.uid===y,a,"user-mismatch"),bs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),c}}async function l2(r,e,i=!1){if(ti(r.app))return Promise.reject(_s(r));const a="signIn",l=await r1(r,a,e),c=await bs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function u2(r,e){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",$l(r,e))}async function c2(r,e){if(ti(r.app))return Promise.reject(_s(r));const i=Jl(r),a=await u2(i,{token:e,returnSecureToken:!0}),l=await bs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function h2(r,e,i,a){return vn(r).onIdTokenChanged(e,i,a)}function f2(r,e,i){return vn(r).beforeAuthStateChanged(e,i)}function d2(r,e,i,a){return vn(r).onAuthStateChanged(e,i,a)}const Zc="__sak";class a1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m2=1e3,p2=10;class o1 extends a1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);HS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,p2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const g2=o1;class l1 extends a1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}l1.type="SESSION";const u1=l1;function y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new mh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await y2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Vm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class _2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Vm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function v2(r){Hi().location.href=r}function c1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function E2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){return navigator?.serviceWorker?.controller||null}function b2(){return c1()?self:null}const h1="firebaseLocalStorageDb",A2=1,Wc="firebaseLocalStorage",f1="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,e){return r.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function S2(){const r=indexedDB.deleteDatabase(h1);return new Wl(r).toPromise()}function im(){const r=indexedDB.open(h1,A2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:f1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?e(a):(a.close(),await S2(),e(await im()))})})}async function u0(r,e,i){const a=ph(r,!0).put({[f1]:e,value:i});return new Wl(a).toPromise()}async function w2(r,e){const i=ph(r,!1).get(e),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function c0(r,e){const i=ph(r,!0).delete(e);return new Wl(i).toPromise()}const R2=800,x2=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>x2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(b2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await u0(e,Zc,"1"),await c0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>w2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Wl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const I2=d1;new Xl(3e4,6e4);function C2(r,e){return e?ys(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends i1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function N2(r){return l2(r.auth,new km(r),r.bypassAuthState)}function D2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),o2(i,new km(r),r.bypassAuthState)}async function O2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),a2(i,new km(r),r.bypassAuthState)}class m1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M2=new Xl(2e3,1e4);class so extends m1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}so.currentPopupAction=null;const V2="pendingRedirect",Pc=new Map;class k2 extends m1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(r,e){const i=j2(e),a=P2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function L2(r,e){Pc.set(r._key(),e)}function P2(r){return ys(r._redirectPersistence)}function j2(r){return Lc(V2,r.config.apiKey,r.name)}async function z2(r,e,i=!1){if(ti(r.app))return Promise.reject(_s(r));const a=Jl(r),l=C2(a,e),d=await new k2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const B2=600*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!p1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function p1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(r);default:return!1}}async function G2(r,e={}){return To(r,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function K2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G2(r);for(const i of e)try{if(Y2(i))return}catch{}Es(r,"unauthorized-domain")}function Y2(r){const e=tm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Q2.test(i))return!1;if(F2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const X2=new Xl(3e4,6e4);function f0(){const r=Hi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $2(r){return new Promise((e,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Bi(r,"network-request-failed"))},timeout:X2.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const l=JS("iframefcb");return Hi()[l]=()=>{gapi.load?a():i(Bi(r,"network-request-failed"))},XS(`${$S()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function J2(r){return jc=jc||$2(r),jc}const Z2=new Xl(5e3,15e3),W2="__/auth/iframe",ew="emulator/auth/iframe",tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Cm(e,ew):`https://${r.config.authDomain}/${W2}`,a={apiKey:e.apiKey,appName:r.name,v:Eo},l=nw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function sw(r){const e=await J2(r),i=Hi().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:iw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(r,"network-request-failed"),y=Hi().setTimeout(()=>{c(d)},Z2.get());function p(){Hi().clearTimeout(y),l(a)}a.ping(p).then(p,()=>{c(d)})}))}const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aw=500,ow=600,lw="_blank",uw="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cw(r,e,i,a=aw,l=ow){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...rw,width:a.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(y=Xv(_)?lw:i),Kv(_)&&(e=e||uw,p.scrollbars="yes");const A=Object.entries(p).reduce((M,[G,Z])=>`${M}${G}=${Z},`,"");if(BS(_)&&y!=="_self")return hw(e||"",y),new d0(null);const S=window.open(e||"",y,A);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new d0(S)}function hw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const fw="__/auth/handler",dw="emulator/auth/handler",mw=encodeURIComponent("fac");async function m0(r,e,i,a,l,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Eo,eventId:l};if(e instanceof s1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",cA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Zl){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const p=await r._getAppCheckToken(),_=p?`#${mw}=${encodeURIComponent(p)}`:"";return`${pw(r)}?${Yl(y).slice(1)}${_}`}function pw({config:r}){return r.emulator?Cm(r,dw):`https://${r.authDomain}/${fw}`}const Hd="webStorageSupport";class gw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=z2,this._overrideRedirectResult=L2}async _openPopup(e,i,a,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(e,i,a,tm(),l);return cw(e,c,Vm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await m0(e,i,a,tm(),l);return v2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await sw(e),a=new H2(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},l=>{const c=l?.[0]?.[Hd];c!==void 0&&i(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=K2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return e1()||Yv()||Om()}}const yw=gw;var p0="@firebase/auth",g0="1.12.0";class _w{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(r){co(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(r)},_=new KS(a,l,c,p);return WS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),co(new ra("auth-internal",e=>{const i=Jl(e.getProvider("auth").getImmediate());return(a=>new _w(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(p0,g0,vw(r)),dr(p0,g0,"esm2020")}const Tw=300,bw=Nv("authIdTokenMaxAge")||Tw;let y0=null;const Aw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bw)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Sw(r=Uv()){const e=xm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ZS(r,{popupRedirectResolver:yw,persistence:[I2,g2,u1]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Aw(c.toString());f2(i,d,()=>d(i.currentUser)),h2(i,y=>d(y))}}const l=Iv("auth");return l&&e2(i,`http://${l}`),i}function ww(){return document.getElementsByTagName("head")?.[0]??document}YS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",ww().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,g1;(function(){var r;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(k,N,V){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)k[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let V=C.g[3],R;R=w+(V^I&(N^V))+k[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[2]+606105819&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[6]+2821735955&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[10]+4294925233&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(V^I&(N^V))+k[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(N^w&(I^N))+k[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=N+(I^V&(w^I))+k[14]+2792965006&4294967295,N=V+(R<<17&4294967295|R>>>15),R=I+(w^N&(V^w))+k[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^V&(I^N))+k[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[11]+643717713&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[15]+3634488961&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[3]+4107603335&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^V&(I^N))+k[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^N&(w^I))+k[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(V^w))+k[7]+1735328473&4294967295,N=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(N^V))+k[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^V)+k[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[11]+1839030562&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[7]+4139469664&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[3]+3572445317&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^V)+k[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^N)+k[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=N+(V^w^I)+k[15]+530742520&4294967295,N=V+(R<<16&4294967295|R>>>16),R=I+(N^V^w)+k[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~V))+k[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[14]+2878612391&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[10]+4293915773&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[6]+2734768916&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~V))+k[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~N))+k[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=N+(w^(V|~I))+k[2]+718787259&4294967295,N=V+(R<<15&4294967295|R>>>17),R=I+(V^(N|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=I;)l(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(k[N++]=C.charCodeAt(V++),N==this.blockSize){l(this,k),N=0;break}}else for(;V<w;)if(k[N++]=C[V++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)C[w++]=this.g[I]>>>k&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let k=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;k&&V==w||(I[N]=V,k=!1)}this.g=I}var y={};function p(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let I=1;for(let k=0;C>=I;k++)w[k]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let k=S;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const R=parseInt(C.substring(V,V+N),w);N<8?(N=_(Math.pow(w,N)),k=k.j(N).add(_(R))):(k=k.j(I),k=k.add(_(R)))}return k}var S=p(0),M=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(ie(this))return-ee(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(ie(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var I=this;let k="";for(;;){const N=Je(I,w).g;I=ge(I,N.j(w));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ie(C){return C.h==-1}r.l=function(C){return C=ge(this,C),ie(C)?-1:Z(C)?0:1};function ee(C){const w=C.g.length,I=[];for(let k=0;k<w;k++)I[k]=~C.g[k];return new d(I,~C.h).add(M)}r.abs=function(){return ie(this)?ee(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let k=0;for(let N=0;N<=w;N++){let V=k+(this.i(N)&65535)+(C.i(N)&65535),R=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=R>>>16,V&=65535,R&=65535,I[N]=R<<16|V}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ge(C,w){return C.add(ee(w))}r.j=function(C){if(Z(this)||Z(C))return S;if(ie(this))return ie(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(ie(C))return ee(this.j(ee(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<C.g.length;N++){const V=this.i(k)>>>16,R=this.i(k)&65535,nt=C.i(N)>>>16,vt=C.i(N)&65535;I[2*k+2*N]+=R*vt,me(I,2*k+2*N),I[2*k+2*N+1]+=V*vt,me(I,2*k+2*N+1),I[2*k+2*N+1]+=R*nt,me(I,2*k+2*N+1),I[2*k+2*N+2]+=V*nt,me(I,2*k+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function me(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function pe(C,w){this.g=C,this.h=w}function Je(C,w){if(Z(w))throw Error("division by zero");if(Z(C))return new pe(S,S);if(ie(C))return w=Je(ee(C),w),new pe(ee(w.g),ee(w.h));if(ie(w))return w=Je(C,ee(w)),new pe(ee(w.g),w.h);if(C.g.length>30){if(ie(C)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,k=w;k.l(C)<=0;)I=ot(I),k=ot(k);var N=Ue(I,1),V=Ue(k,1);for(k=Ue(k,2),I=Ue(I,2);!Z(k);){var R=V.add(k);R.l(C)<=0&&(N=N.add(I),V=R),k=Ue(k,1),I=Ue(I,1)}return w=ge(C,N.j(w)),new pe(N,w)}for(N=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=_(I),R=V.j(w);ie(R)||R.l(C)>0;)I-=k,V=_(I),R=V.j(w);Z(V)&&(V=M),N=N.add(V),C=ge(C,R)}return new pe(N,C)}r.B=function(C){return Je(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&C.i(k);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|C.i(k);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^C.i(k);return new d(I,this.h^C.h)};function ot(C){const w=C.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(I,C.h)}function Ue(C,w){const I=w>>5;w%=32;const k=C.g.length-I,N=[];for(let V=0;V<k;V++)N[V]=w>0?C.i(V+I)>>>w|C.i(V+I+1)<<32-w:C.i(V+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,g1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,mr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y1,Cl,_1,zc,sm,v1,E1,T1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)te[xe-2]=arguments[xe];return m.prototype[L].apply(T,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const T=pe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pe=new ie(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Ue=!1,C=new me,w=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){ee(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(nt,N),nt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),q=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Se(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),It={};function dt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)dt(u,m[B],v,T,L);return null}return v=xr(v),u&&u[vt]?u.J(m,v,y(T)?!!T.capture:!1,L):ii(u,m,v,!1,T,L)}function ii(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const te=y(L)?!!L.capture:!!L;let xe=Xi(u);if(xe||(u[Le]=xe=new re(u)),v=xe.add(m,v,T,te,B),v.proxy)return v;if(T=Rs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Hn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rs(){function u(v){return m.call(u.src,u.listener,v)}const m=wr;return u}function vi(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)vi(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=xr(v),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Se(m,v,T,L),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,T,L)),(v=u>-1?m[u]:null)&&xs(v))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Hn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Xi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Le]=null)):he(u)}}}function Hn(u){return u in It?It[u]:It[u]="on"+u}function wr(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&xs(u),u=v.call(T,m)}return u}function Xi(u){return u=u[Le],u instanceof re?u:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(u){return typeof u=="function"?u:(u[Rr]||(u[Rr]=function(m){return u.handleEvent(m)}),u[Rr])}function pt(){k.call(this),this.i=new re(this),this.M=this,this.G=null}S(pt,k),pt.prototype[vt]=!0,pt.prototype.removeEventListener=function(u,m,v,T){vi(this,u,m,v,T)};function Ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),se(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=Ei(B,T,!0,m)&&L;if(B=m.g=u,L=Ei(B,T,!0,m)&&L,L=Ei(B,T,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=Ei(B,T,!1,m)&&L}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ei(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const xe=te.listener,Dt=te.ha||te.src;te.fa&&Ee(u.i,te),L=xe.call(Dt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ro(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function fa(u){u.g=Ro(()=>{u.g=null,u.i&&(u.i=!1,fa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){k.call(this),this.h=u,this.g={}}S(Ti,k);var pn=[];function $i(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&xs(m)},u),u.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),$i(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=d.JSON.stringify,xo=d.JSON.parse,da=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function F(){}function W(){}var fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ue(){N.call(this,"d")}S(ue,N);function Ge(){N.call(this,"c")}S(Ge,N);var Ce={},Pe=null;function Ze(){return Pe=Pe||new pt}Ce.Ia="serverreachability";function Ut(u){N.call(this,Ce.Ia,u)}S(Ut,N);function Ne(u){const m=Ze();Ct(m,new Ut(m))}Ce.STAT_EVENT="statevent";function Et(u,m){N.call(this,Ce.STAT_EVENT,u),this.stat=m}S(Et,N);function Me(u){const m=Ze();Ct(m,new Et(m,u))}Ce.Ja="timingevent";function Nt(u,m){N.call(this,Ce.Ja,u),this.size=m}S(Nt,N);function gn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Tt(){this.g=!0}Tt.prototype.ua=function(){this.g=!1};function Ir(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var te="",xe=B.split("&");for(let We=0;We<xe.length;We++){var Dt=xe[We].split("=");if(Dt.length>1){const bt=Dt[0];Dt=Dt[1];const Qn=bt.split("_");te=Qn.length>=2&&Qn[1]=="type"?te+(bt+"="+Dt+"&"):te+(bt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function Qe(u,m,v,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function be(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function ri(u,m){u.info(function(){return"TIMEOUT: "+m})}Tt.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return si(B)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Nr(){}S(Nr,F),Nr.prototype.g=function(){return new XMLHttpRequest},Co=new Nr;function Ji(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function bi(u,m,v){u.M=1,u.A=Dr(jt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ai(u),u.B=jt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(v.i,"t",T),u.C=0,v=u.j.L,u.h=new oi,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(pn[0]=L.toString()),L=pn);for(let B=0;B<L.length;B++){const te=dt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ne(),Ir(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ci(this.g),Dt=this.g.ya(),We=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||xe!=4||Dt==7||(Dt==8||We<=0?Ne(3):Ne(2)),Si(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,Qe(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)be(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Me(12),Dn(this),qn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=lu(this,v),bt==$t){xe==4&&(this.m=4,Me(14),u=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Lt){this.m=4,Me(15),be(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else be(this.i,this.l,bt,null),wi(this,bt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Me(16),u=!1),this.o=this.o&&u,!u)be(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(te),te.P=!0,Me(11))}}else be(this.i,this.l,v,null),wi(this,v);xe==4&&Dn(this),this.o&&!this.K&&(xe==4?yu(this.j,this):(this.o=!1,Ai(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),Dn(this),qn(this)}}}catch{}};function kh(u){if(!ou(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?$t:(v=Number(m.substring(v,T)),isNaN(v)?Lt:(T+=1,T+v>m.length?$t:(m=m.slice(T,T+v),u.C=T+v,m)))}ai.prototype.cancel=function(){this.K=!0,Dn(this)};function Ai(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gn(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ri(this.i,this.B),this.M!=2&&(Ne(),Me(17)),Dn(this),this.m=2,qn(this)):pa(this,this.T-u)};function qn(u){u.j.I==0||u.K||yu(u.j,u)}function Dn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$i(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),ks(v);else break e;Pr(v),Me(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gn(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Aa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const bt=We[0];if(!(bt<=v.K))if(v.K=bt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Qn=We[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Vi=We[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const hi=We[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fi=u.g;if(fi){const jr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var B=T.h;B.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Oo(B,B.h),B.h=null))}if(T.G){const Sa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,st(T.J,T.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),te.L){Mo(T.h,te);var xe=te,Dt=T.O;Dt&&(xe.H=Dt),xe.D&&(Si(xe),Ai(xe)),T.g=te}else pu(T);v.i.length>0&&Oi(v)}else We[0]!="stop"&&We[0]!="close"||Mi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Mi(v,7):Ho(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Ne(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function No(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Oo(u,m){u.g?u.g.add(m):u.h=m}function Mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function On(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof On?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,ko(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Is(this,m[4]),this.h=Ii(m[5]||"",!0),ko(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}On.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,ya,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?Uo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,hu)),u.join("")},On.prototype.resolve=function(u){const m=jt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const xe=L[te++];xe=="."?T&&te==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(xe),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?ko(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function jt(u){return new On(u)}function Jt(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ko(u,m,v){m instanceof Ns?(u.i=m,va(u.i,u.l)):(v||(m=Or(m,Cs)),u.i=new Ns(m,u.l))}function st(u,m,v){u.i.set(m,v)}function Dr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,cu=/[#\?:]/g,Uo=/[#\?]/g,Cs=/[#\?@]/g,hu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ns.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){Tn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lo(u,m){return Tn(u),m=Ds(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Po(u,m){Tn(u);let v=[];if(typeof m=="string")Lo(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Tn(this),this.i=null,u=Ds(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ji(v);v=Po(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+Ji(v[B])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),_a(this,L,v))},u)),u.j=m}function li(u,m){const v=new Tt;if(d.Image){const T=new Image;T.onload=A(Gn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Gn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Gn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Gn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jo(u,m){const v=new Tt,T=new AbortController,L=setTimeout(()=>{T.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Os(){this.g=new da}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,F),Ci.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,pt),r=Mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):ui(this),this.readyState==3&&Ea(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},r.Na=function(u){this.g&&(this.response=u,Ms(this))},r.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return Oe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Fn(v),typeof u=="string"?v!=null&&Ji(v):st(u,m,v))}function lt(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(lt,pt);var Ni=/^https?$/i,zo=["POST","PUT"];r=lt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bo(u),Zi(u)}function Bo(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},r.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ni.test(te?te.toLowerCase():"")}v=T}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Bo(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xo(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ye(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new No(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Me(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Oi(this)};function Ho(u){if(Ta(u),u.I==3){var m=u.V++,v=jt(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),Lr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Dr(jt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}vu(u)}function ks(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function Ta(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Do(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||w(),Ue||(ot(),Ue=!0),C.add(m,u),u.D=0}}function ba(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gn(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=jt(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),Lr(this,v),B&&(this.R?m="headers="+Ji(Fn(B))+"&"+m:this.u&&Vr(v,this.u,B)),Oo(this.h,L),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),L.U=!0,bi(L,v,null)):bi(L,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||Do(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const T=jt(u.J);st(T,"SID",u.M),st(T,"RID",v),st(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Vr(T,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Oo(u.h,v),bi(v,T,m)}function Lr(u,m){u.H&&Oe(u.H,function(v,T){st(m,T,v)}),u.l&&Oe({},function(v,T){st(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const Dt=["count="+v];xe==-1?v>0?(xe=L[0].g,Dt.push("ofs="+xe)):xe=0:Dt.push("ofs="+xe);let We=!0;for(let bt=0;bt<v;bt++){var B=L[bt].g;const Qn=L[bt].map;if(B-=xe,B<0)xe=Math.max(0,L[bt].g-100),We=!1;else try{B="req"+B+"_"||"";try{var te=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Vi,hi]of te){let fi=hi;y(hi)&&(fi=si(hi)),Dt.push(B+Vi+"="+encodeURIComponent(fi))}}catch(Vi){throw Dt.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Qn)}}if(We){te=Dt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||w(),Ue||(ot(),Ue=!0),C.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gn(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),ks(this),gu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=jt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(jt(m)),v.u=null,v.R=!0,ma(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ks(this),Pr(this),Me(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Aa(u),Go(u),u.g=null;var T=2}else if(xi(u.h,m))v=m.G,Mo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ze(),Ct(T,new Nt(T,v)),Oi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ba(u,m)||T==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new On(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(T,"https"),Dr(T),L?li(T.toString(),v):jo(T.toString(),v)}else Me(2);u.I=0,u.l&&u.l.pa(m),vu(u),Ta(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Vo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof On?jt(v):new On(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new On(null);T&&Jt(B,T),m&&(B.g=m),L&&Is(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&st(T,v,m),st(T,"VER",u.ka),Lr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Ci({ab:v})):new lt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Us(){}Us.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){pt.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}S(yn,pt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ho(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=si(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Oi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,yn.Z.N.call(this)};function Au(u){ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,ue);function Su(){Ge.call(this),this.status=1}S(Su,Ge);function es(u){this.g=u}S(es,bu),es.prototype.ra=function(){Ct(this.g,"a")},es.prototype.qa=function(u){Ct(this.g,new Au(u))},es.prototype.pa=function(u){Ct(this.g,new Su)},es.prototype.oa=function(){Ct(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,T1=function(){return new Us},E1=function(){return Ze()},v1=Ce,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,zc=Cr,Io.COMPLETE="complete",_1=Io,W.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Cl=W,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,y1=lt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.3";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let bo="12.7.0";const oa=new wm("@firebase/firestore");function eo(){return oa.logLevel}function ae(r,...e){if(oa.logLevel<=Be.DEBUG){const i=e.map(Um);oa.debug(`Firestore (${bo}): ${r}`,...i)}}function As(r,...e){if(oa.logLevel<=Be.ERROR){const i=e.map(Um);oa.error(`Firestore (${bo}): ${r}`,...i)}}function ho(r,...e){if(oa.logLevel<=Be.WARN){const i=e.map(Um);oa.warn(`Firestore (${bo}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,b1(r,a,i)}function b1(r,e,i){let a=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw As(a),new Error(a)}function it(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||b1(e,l,a)}function Re(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class A1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class xw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Iw{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},y=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(it(typeof a.accessToken=="string",31837,{l:a}),new A1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Cw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Cw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ow(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Ow(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function He(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return qd(l)===qd(c)?He(l,c):qd(l)?1:-1}return He(r.length,e.length)}const Mw=55296,Vw=57343;function qd(r){const e=r.charCodeAt(0);return e>=Mw&&e<=Vw}function fo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const b0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(e).compare(zi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class St extends zi{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends zi{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new ln([b0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(St.fromString(e))}static fromName(e){return new ye(St.fromString(e).popFirst(5))}static empty(){return new ye(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new St(e.slice()))}}function Uw(r,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lw(r,e,i,a){if(e===!0&&a===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A0(r){if(!ye.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ft(r,e){const i={typeString:r};return e&&(i.value=e),i}function eu(r,e){if(!S1(r))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const S0=-62135596800,w0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*w0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S0)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ft("string",_t._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new _t(0,0))}static max(){return new Ae(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function Pw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new yr(l,ye.empty(),e)}function jw(r){return new yr(r.readTime,r.key,Bl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Ae.min(),ye.empty(),Bl)}static max(){return new yr(Ae.max(),ye.empty(),Bl)}}function zw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:He(r.largestBatchId,e.largestBatchId))}const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Bw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function qw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const jm=-1;function yh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function Gw(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const w1="";function Fw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=R0(e)),e=Qw(r.get(i),e);return R0(e)}function Qw(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case w1:i+="";break;default:i+=c}}return i}function R0(r){return r+w1+""}function x0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ar(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function R1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new on(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Xt(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new x1("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(r){if(it(!!r,39018),typeof r=="string"){let e=0;const i=Kw.exec(r);if(it(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vr(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const I1="server_timestamp",C1="__type__",N1="__previous_value__",D1="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[C1]?.stringValue===I1}function _h(r){const e=r.mapValue.fields[N1];return zm(e)?_h(e):e}function Hl(r){const e=_r(r.mapValue.fields[D1].timestampValue);return new _t(e.seconds,e.nanos)}class Yw{constructor(e,i,a,l,c,d,y,p,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const th="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||th}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const O1="__type__",Xw="__max__",Dc={mapValue:{}},M1="__vector__",nh="value";function Er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Jw(r)?9007199254740991:$w(r)?10:11:ve(28295,{value:r})}function Ki(r,e){if(r===e)return!0;const i=Er(r);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),y=_r(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),y=kt(c.doubleValue);return d===y?eh(d)===eh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(x0(d)!==x0(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Ki(d[p],y[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Gl(r,e){return(r.values||[]).find((i=>Ki(i,e)))!==void 0}function mo(r,e){if(r===e)return 0;const i=Er(r),a=Er(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),p=kt(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(r,e);case 3:return C0(r.timestampValue,e.timestampValue);case 4:return C0(Hl(r),Hl(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=vr(c),p=vr(d);return y.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const A=He(y[_],p[_]);if(A!==0)return A}return He(y.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=He(kt(c.latitude),kt(d.latitude));return y!==0?y:He(kt(c.longitude),kt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[nh]?.arrayValue,A=p[nh]?.arrayValue,S=He(_?.values?.length||0,A?.values?.length||0);return S!==0?S:N0(_,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let S=0;S<p.length&&S<A.length;++S){const M=rm(p[S],A[S]);if(M!==0)return M;const G=mo(y[p[S]],_[A[S]]);if(G!==0)return G}return He(p.length,A.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function C0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const i=_r(r),a=_r(e),l=He(i.seconds,a.seconds);return l!==0?l:He(i.nanos,a.nanos)}function N0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=mo(i[l],a[l]);if(c)return c}return He(i.length,a.length)}function po(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function Bc(r){switch(Er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+Bc(e):16;case 5:return 2*r.stringValue.length;case 6:return vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Bc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Ar(a.fields,((c,d)=>{l+=c.length+Bc(d)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function $w(r){return(r?.mapValue?.fields||{})[O1]?.stringValue===M1}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=kl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(r.arrayValue.values[i]);return e}return{...r}}function Jw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=kl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Ar(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Nn(kl(this.value))}}function V1(r){const e=[];return Ar(r.fields,((i,a)=>{const l=new ln([i]);if(Hc(a)){const c=V1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Bn(e)}class dn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,Ae.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,Ae.min(),Ae.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Ae.min(),Ae.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(e,i){this.position=e,this.inclusive=i}}function M0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=mo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ki(r.position[i],e.position[i]))return!1;return!0}class sh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class k1{}class Yt extends k1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new eR(e,i,a):i==="array-contains"?new iR(e,a):i==="in"?new sR(e,a):i==="not-in"?new rR(e,a):i==="array-contains-any"?new aR(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tR(e,a):new nR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(mo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends k1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yi(e,i)}matches(e){return U1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U1(r){return r.op==="and"}function L1(r){return Ww(r)&&U1(r)}function Ww(r){for(const e of r.filters)if(e instanceof Yi)return!1;return!0}function lm(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(L1(r))return r.filters.map((e=>lm(e))).join(",");{const e=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${e})`}}function P1(r,e){return r instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Ki(a.value,l.value)})(r,e):r instanceof Yi?(function(a,l){return l instanceof Yi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&P1(d,l.filters[y])),!0):!1})(r,e):void ve(19439)}function j1(r){return r instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(r):r instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(j1).join(" ,")+"}"})(r):"Filter"}class eR extends Yt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class tR extends Yt{constructor(e,i){super(e,"in",i),this.keys=z1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nR extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=z1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z1(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class iR extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bm(i)&&Gl(i.arrayValue,this.value)}}class sR extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class rR extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class aR extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Gl(this.value.arrayValue,a)))}}class oR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function k0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new oR(r,e,i,a,l,c,d)}function Hm(r){const e=Re(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>po(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>po(a))).join(",")),e.Te=i}return e.Te}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!P1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V0(r.startAt,e.startAt)&&V0(r.endAt,e.endAt)}function um(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lR(r,e,i,a,l,c,d,y){return new vh(r,e,i,a,l,c,d,y)}function Eh(r){return new vh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uR(r){return r.collectionGroup!==null}function Ul(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(ln.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sh(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new sh(ln.keyField(),a))}return e.Ie}function qi(r){const e=Re(r);return e.Ee||(e.Ee=cR(e,Ul(r))),e.Ee}function cR(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function cm(r,e,i){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Th(r,e){return qm(qi(r),qi(e))&&r.limitType===e.limitType}function B1(r){return`${Hm(qi(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>j1(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(qi(r))}; limitType=${r.limitType})`}function bh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Ul(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,p){const _=M0(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Ul(a),l)||a.endAt&&!(function(d,y,p){const _=M0(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Ul(a),l))})(r,e)}function hR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H1(r){return(e,i)=>{let a=!1;for(const l of Ul(r)){const c=fR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function fR(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?mo(p,_):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}const dR=new wt(ye.comparator);function Ss(){return dR}const q1=new wt(ye.comparator);function Nl(...r){let e=q1;for(const i of r)e=e.insert(i.key,i);return e}function G1(r){let e=q1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ia(){return Ll()}function F1(){return Ll()}function Ll(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mR=new wt(ye.comparator),pR=new Xt(ye.comparator);function qe(...r){let e=pR;for(const i of r)e=e.add(i);return e}const gR=new Xt(He);function yR(){return gR}function Gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function Q1(r){return{integerValue:""+r}}function _R(r,e){return Gw(e)?Q1(e):Gm(r,e)}class Ah{constructor(){this._=void 0}}function vR(r,e,i){return r instanceof rh?(function(l,c){const d={fields:{[C1]:{stringValue:I1},[D1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=_h(c)),c&&(d.fields[N1]=c),{mapValue:d}})(i,e):r instanceof go?Y1(r,e):r instanceof Fl?X1(r,e):(function(l,c){const d=K1(l,c),y=L0(d)+L0(l.Ae);return om(d)&&om(l.Ae)?Q1(y):Gm(l.serializer,y)})(r,e)}function ER(r,e,i){return r instanceof go?Y1(r,e):r instanceof Fl?X1(r,e):i}function K1(r,e){return r instanceof ah?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class rh extends Ah{}class go extends Ah{constructor(e){super(),this.elements=e}}function Y1(r,e){const i=$1(e);for(const a of r.elements)i.some((l=>Ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Fl extends Ah{constructor(e){super(),this.elements=e}}function X1(r,e){let i=$1(e);for(const a of r.elements)i=i.filter((l=>!Ki(l,a)));return{arrayValue:{values:i}}}class ah extends Ah{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function L0(r){return kt(r.integerValue||r.doubleValue)}function $1(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TR{constructor(e,i){this.field=e,this.transform=i}}function bR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof go&&l instanceof go||a instanceof Fl&&l instanceof Fl?fo(a.elements,l.elements,Ki):a instanceof ah&&l instanceof ah?Ki(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(r.transform,e.transform)}class AR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function J1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fm(r.key,_i.none()):new tu(r.key,r.data,_i.none());{const i=r.data,a=Nn.empty();let l=new Xt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(r.key,a,new Bn(l.toArray()),_i.none())}}function SR(r,e,i){r instanceof tu?(function(l,c,d){const y=l.value.clone(),p=j0(l.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Sr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=j0(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(Z1(l)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(r,e,i,a){return r instanceof tu?(function(c,d,y,p){if(!qc(c.precondition,d))return y;const _=c.value.clone(),A=z0(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Sr?(function(c,d,y,p){if(!qc(c.precondition,d))return y;const _=z0(c.fieldTransforms,p,d),A=d.data;return A.setAll(Z1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,y){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function wR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=K1(a.transform,l||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,c))}return i||null}function P0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&fo(a,l,((c,d)=>bR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Sh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends Sh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function j0(r,e,i){const a=new Map;it(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,ER(d,y,i[l]))}return a}function z0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,vR(c,d,e))}return a}class Fm extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&SR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=F1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const p=J1(d,y);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((i,a)=>P0(i,a)))&&fo(this.baseMutations,e.baseMutations,((i,a)=>P0(i,a)))}}class Qm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){it(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return mR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(e,i,a,l)}}class IR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Ke;function NR(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function W1(r){if(r===void 0)return As("GRPC error has no .code"),J.UNKNOWN;switch(r){case Gt.OK:return J.OK;case Gt.CANCELLED:return J.CANCELLED;case Gt.UNKNOWN:return J.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return J.INTERNAL;case Gt.UNAVAILABLE:return J.UNAVAILABLE;case Gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Gt.NOT_FOUND:return J.NOT_FOUND;case Gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Gt.ABORTED:return J.ABORTED;case Gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Gt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(Ke=Gt||(Gt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function DR(){return new TextEncoder}const OR=new mr([4294967295,4294967295],0);function B0(r){const e=DR().encode(r),i=new g1;return i.update(e),new Uint8Array(i.digest())}function H0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,a],0),new mr([l,c],0)]}class Km{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(mr.fromNumber(a)));return l.compare(OR)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new wh(Ae.min(),l,new wt(He),Ss(),qe())}}class nu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,qe(),qe(),qe())}}class Gc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class eE{constructor(e,i){this.targetId=e,this.Ce=i}}class tE{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=G0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=Oc(),this.He=Oc(),this.Ye=new wt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new ye(c.path);this.et(i,d,dn.newNoDocument(d,Ae.min()))}else it(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=vr(a).toUint8Array()}catch(p){if(p instanceof x1)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Km(d,l,c)}catch(p){return ho(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&um(y.target)){const p=new ye(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,dn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new wh(e,i,this.Ye,this.je,a);return this.je=Ss(),this.Je=Oc(),this.He=Oc(),this.Ye=new wt(He),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new wt(ye.comparator)}function G0(){return new wt(ye.comparator)}const VR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class LR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PR(r,e){return oh(r,e.toTimestamp())}function Gi(r){return it(!!r,49232),Ae.fromTimestamp((function(i){const a=_r(i);return new _t(a.seconds,a.nanos)})(r))}function Ym(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(l){return new St(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function iE(r){const e=St.fromString(r);return it(lE(e),10190,{key:e.toString()}),e}function dm(r,e){return Ym(r.databaseId,e.path)}function Gd(r,e){const i=iE(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(rE(i))}function sE(r,e){return Ym(r.databaseId,e)}function jR(r){const e=iE(r);return e.length===4?St.emptyPath():rE(e)}function mm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rE(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function zR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:W1(_.code);return new ce(A,_.message||"")})(d);i=new tE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Ae.min(),y=new Nn({mapValue:{fields:a.document.fields}}),p=dn.newFoundDocument(l,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Gc(_,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Gi(a.readTime):Ae.min(),d=dn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Gc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new CR(l,c),y=a.targetId;i=new eE(y,d)}}return i}function BR(r,e){let i;if(e instanceof tu)i={update:F0(r,e.key,e.value)};else if(e instanceof Fm)i={delete:dm(r,e.key)};else if(e instanceof Sr)i={update:F0(r,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof RR))return ve(16599,{Vt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ah)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function HR(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Gi(l.updateTime):Gi(c);return d.isEqual(Ae.min())&&(d=Gi(c)),new AR(d,l.transformResults||[])})(i,e)))):[]}function qR(r,e){return{documents:[sE(r,e.path)]}}function GR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sE(r,l);const c=(function(_){if(_.length!==0)return oE(Yi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:no(M.field),direction:KR(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=hm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function FR(r){let e=jR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){it(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=aE(S);return M instanceof Yi&&L1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new sh(io(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,yh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,G=S.values||[];return new ih(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,G=S.values||[];return new ih(G,M)})(i.endAt)),lR(e,l,d,c,y,"F",p,_)}function QR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Yt.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>aE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function KR(r){return VR[r]}function YR(r){return kR[r]}function XR(r){return UR[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return ln.fromServerFormat(r.fieldPath)}function oE(r){return r instanceof Yt?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:YR(i.op),value:i.value}}})(r):r instanceof Yi?(function(i){const a=i.getFilters().map((l=>oE(l)));return a.length===1?a[0]:{compositeFilter:{op:XR(i.op),filters:a}}})(r):ve(54877,{filter:r})}function $R(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class cr{constructor(e,i,a,l,c=Ae.min(),d=Ae.min(),y=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JR{constructor(e){this.yt=e}}function ZR(r){const e=FR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}class WR{constructor(){this.Cn=new ex}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(yr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class ex{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Xt(St.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Xt(St.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(uE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const K0="LruGarbageCollector",tx=1048576;function Y0([r,e],[i,a]){const l=He(r,i);return l===0?He(e,a):l}class nx{constructor(e){this.Ir=e,this.buffer=new Xt(Y0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ix{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(K0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ae(K0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class sx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(gh.ce);const a=new nx(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,p,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),eo()<=Be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function rx(r,e){return new sx(r,e)}class ax{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ox{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class lx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Pl(a.mutation,l,Bn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const l=ia();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Nl();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Ss();const d=Ll(),y=(function(){return Ll()})();return i.forEach(((p,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Sr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Pl(A.mutation,_,A.mutation.getFieldMask(),_t.now())):d.set(_.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new ox(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ll();let l=new wt(((d,y)=>d-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let A=a.get(p)||Bn.empty();A=y.applyToLocalView(_,A),a.set(p,A);const S=(l.get(y.batchId)||qe()).add(p);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,A=p.value,S=F1();A.forEach((M=>{if(!c.has(M)){const G=J1(i.get(M),a.get(M));G!==null&&S.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ia());let y=Bl,p=c;return d.next((_=>$.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{p=p.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,qe()))).next((A=>({batchId:y,changes:G1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let l=Nl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(p=>{const _=(function(S,M){return new vh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,dn.newInvalidDocument(A)))}));let y=Nl();return d.forEach(((p,_)=>{const A=c.get(p);A!==void 0&&Pl(A.mutation,_,Bn.empty(),_t.now()),bh(i,_)&&(y=y.insert(p,_))})),y}))}}class ux{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Gi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ZR(l.bundledQuery),readTime:Gi(l.readTime)}})(i)),$.resolve()}}class cx{constructor(){this.overlays=new wt(ye.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ia(),c=i.length+1,d=new ye(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new wt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=ia(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return $.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IR(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hx{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.Qr=new Xt(Wt.$r),this.Ur=new Xt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new St([])),a=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new St([])),a=new Wt(i,e),l=new Wt(i,e+1);let c=qe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class fx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Wt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(He);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ye(c),0);let y=new Xt(He);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(p.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Wt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dx{constructor(e){this.ri=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=Ss();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Ss();const d=i.path,y=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||zw(jw(A),a)<=0||(l.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mx(this)}getSize(e){return $.resolve(this.size)}}class mx extends ax{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class px{constructor(e){this.persistence=e,this.si=new ca((i=>Hm(i)),qm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class cE{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new hx,this.referenceDelegate=e(this),this.Pi=new px(this),this.indexManager=new WR,this.remoteDocumentCache=(function(l){return new dx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new gx(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class gx extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ye.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new ca((a=>Fw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=rx(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _x{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sA()?8:qw(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yx;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=Be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(eo()<=Be.DEBUG&&ae("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=Be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):$.resolve())}ys(e,i){if(U0(i))return $.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.Ds(i,y);return this.Cs(i,_,d,p.readTime)?this.ys(e,cm(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,a,l){return U0(i)||l.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(eo()<=Be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,Pw(l,Bl)).next((y=>y)))}))}Ds(e,i){let a=new Xt(H1(e));return i.forEach(((l,c)=>{bh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=Be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",vx=3e8;class Ex{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new wt(He),this.xs=new ca((c=>Hm(c)),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Tx(r,e,i,a){return new Ex(r,e,i,a)}async function hE(r,e){const i=Re(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=qe();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function bx(r,e){const i=Re(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,A){const S=_.batch,M=S.keys();let G=$.resolve();return M.forEach((Z=>{G=G.next((()=>A.getEntry(p,Z))).next((ie=>{const ee=_.docVersions.get(Z);it(ee!==null,48541),ie.version.compareTo(ee)<0&&(S.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function fE(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ax(r,e){const i=Re(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(ie,ee,ge){return ie.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=vx?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(M,G,A)&&y.push(i.Pi.updateTargetData(c,G))}));let p=Ss(),_=qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(Sx(c,d,e.documentUpdates).next((A=>{p=A.ks,_=A.qs}))),!a.isEqual(Ae.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function Sx(r,e,i){let a=qe(),l=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Ss();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):ae(Zm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function wx(r,e){const i=Re(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Rx(r,e){const i=Re(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new cr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function pm(r,e,i){const a=Re(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;ae(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function X0(r,e,i){const a=Re(r);let l=Ae.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,A){const S=Re(p),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,qi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:qe()))).next((y=>(xx(a,hR(e),y),{documents:y,Qs:c})))))}function xx(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class $0{constructor(){this.activeTargetIds=yR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cx{Oo(e){}shutdown(){}}const J0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(J0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(J0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function gm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Fd="RestConnection",Nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=gm(),y=this.zo(e,i.toUriEncodedString());ae(Fd,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(y),A=vo(_);return this.Jo(e,y,p,a,A).then((S=>(ae(Fd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ho(Fd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Nx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Ox{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Mx extends Dx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=gm();return new Promise(((y,p)=>{const _=new y1;_.setWithCredentials(!0),_.listenOnce(_1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const S=_.getResponseJson();ae(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case zc.TIMEOUT:ae(hn,`RPC '${e}' ${d} timed out`),p(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=_.getStatus();if(ae(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const ie=(function(ge){const me=ge.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(me)>=0?me:J.UNKNOWN})(Z.status);p(new ce(ie,Z.message))}else p(new ce(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(hn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ae(hn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T1(),y=E1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");ae(hn,`Creating RPC '${e}' stream ${l}: ${A}`,p);const S=d.createWebChannel(A,p);this.I_(S);let M=!1,G=!1;const Z=new Ox({Yo:ee=>{G?ae(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(ae(hn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),ae(hn,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),ie=(ee,ge,me)=>{ee.listen(ge,(pe=>{try{me(pe)}catch(Je){setTimeout((()=>{throw Je}),0)}}))};return ie(S,Cl.EventType.OPEN,(()=>{G||(ae(hn,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ie(S,Cl.EventType.CLOSE,(()=>{G||(G=!0,ae(hn,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),ie(S,Cl.EventType.ERROR,(ee=>{G||(G=!0,ho(hn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Z.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),ie(S,Cl.EventType.MESSAGE,(ee=>{if(!G){const ge=ee.data[0];it(!!ge,16349);const me=ge,pe=me?.error||me[0]?.error;if(pe){ae(hn,`RPC '${e}' stream ${l} received error:`,pe);const Je=pe.status;let ot=(function(w){const I=Gt[w];if(I!==void 0)return W1(I)})(Je),Ue=pe.message;ot===void 0&&(ot=J.INTERNAL,Ue="Unknown error status: "+Je+" with message "+pe.message),G=!0,Z.a_(new ce(ot,Ue)),S.close()}else ae(hn,`RPC '${e}' stream ${l} received:`,ge),Z.u_(ge)}})),ie(y,v1.STAT_EVENT,(ee=>{ee.stat===sm.PROXY?ae(hn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===sm.NOPROXY&&ae(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function Rh(r){return new LR(r,!0)}class dE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class mE{constructor(e,i,a,l,c,d,y,p){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vx extends mE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=zR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Gi(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=um(p)?{documents:qR(c,p)}:{query:GR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=nE(c,d.resumeToken);const _=hm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){y.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=hm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=QR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.q_(i)}}class kx extends mE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HR(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>BR(this.serializer,a)))};this.q_(i)}}class Ux{}class Lx extends Ux{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,fm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Px{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class jx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(ae(la,"Restarting streams for network reachability change."),await(async function(p){const _=Re(p);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new Px(a,l)}}async function xh(r){if(ha(r))for(const e of r.da)await e(!0)}async function iu(r){for(const e of r.da)await e(!1)}function pE(r,e){const i=Re(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):wo(i).O_()&&ep(i,e))}function Wm(r,e){const i=Re(r),a=wo(i);i.Ia.delete(e),a.O_()&&gE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function ep(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(r).Y_(e)}function gE(r,e){r.Va.Ue(e),wo(r).Z_(e)}function tp(r){r.Va=new MR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Ra.ua()}function np(r){return ha(r)&&!wo(r).x_()&&r.Ia.size>0}function ha(r){return Re(r).Ea.size===0}function yE(r){r.Va=void 0}async function zx(r){r.Ra.set("Online")}async function Bx(r){r.Ia.forEach(((e,i)=>{ep(r,e)}))}async function Hx(r,e){yE(r),np(r)?(r.Ra.ha(e),tp(r)):r.Ra.set("Unknown")}async function qx(r,e,i){if(r.Ra.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,e)}catch(a){ae(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(r,a)}else if(e instanceof Gc?r.Va.Ze(e):e instanceof eE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await fE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const A=c.Ia.get(p);if(!A)return;c.Ia.set(p,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),gE(c,p);const S=new cr(A.target,p,_,A.sequenceNumber);ep(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ae(la,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,e,i){if(!So(e))throw e;r.Ea.add(1),await iu(r),r.Ra.set("Offline"),i||(i=()=>fE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(la,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await xh(r)}))}function _E(r,e){return e().catch((i=>uh(r,i,e)))}async function Ih(r){const e=Re(r),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;Gx(e);)try{const l=await wx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,Fx(e,l)}catch(l){await uh(e,l)}vE(e)&&EE(e)}function Gx(r){return ha(r)&&r.Ta.length<10}function Fx(r,e){r.Ta.push(e);const i=Tr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function vE(r){return ha(r)&&!Tr(r).x_()&&r.Ta.length>0}function EE(r){Tr(r).start()}async function Qx(r){Tr(r).ra()}async function Kx(r){const e=Tr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Yx(r,e,i){const a=r.Ta.shift(),l=Qm.from(a,e,i);await _E(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ih(r)}async function Xx(r,e){e&&Tr(r).X_&&await(async function(a,l){if((function(d){return NR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Tr(a).B_(),await _E(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(r,e),vE(r)&&EE(r)}async function ev(r,e){const i=Re(r);i.asyncQueue.verifyOperationInProgress(),ae(la,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await iu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function $x(r,e){const i=Re(r);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(i,a,l){const c=Re(i);return c.sa(),new Vx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:zx.bind(null,r),t_:Bx.bind(null,r),r_:Hx.bind(null,r),H_:qx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),np(r)?tp(r):r.Ra.set("Unknown")):(await r.ma.stop(),yE(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,l){const c=Re(i);return c.sa(),new kx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qx.bind(null,r),r_:Xx.bind(null,r),ta:Kx.bind(null,r),na:Yx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ih(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ip{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new ip(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(r,e){if(As("AsyncQueue",`${e}: ${r}`),So(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new wt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class _o{constructor(e,i,a,l,c,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new _o(e,i,lo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Zx{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Re(i),c=l.queries;l.queries=nv(),c.forEach(((d,y)=>{for(const p of y.Sa)p.onError(a)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function nv(){return new ca((r=>B1(r)),Th)}async function TE(r,e){const i=Re(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new Jx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=sp(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&rp(i)}async function bE(r,e){const i=Re(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Wx(r,e){const i=Re(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&rp(i)}function eI(r,e,i){const a=Re(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function rp(r){r.Ca.forEach((e=>{e.next()}))}var ym,iv;(iv=ym||(ym={})).Ma="default",iv.Cache="cache";class AE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new _o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class SE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class tI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=H1(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const M=l.get(A),G=bh(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;M&&G?M.data.isEqual(G.data)?Z!==ie&&(a.track({type:3,doc:G}),ee=!0):this.su(M,G)||(a.track({type:2,doc:G}),ee=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(y=!0)):!M&&G?(a.track({type:0,doc:G}),ee=!0):M&&!G&&(a.track({type:1,doc:M}),ee=!0,(p||_)&&(y=!0)),ee&&(G?(d=d.add(G),c=ie?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(G,Z){const ie=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:ee})}};return ie(G)-ie(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new _o(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new wE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new SE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ap="SyncEngine";class nI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class iI{constructor(e){this.key=e,this.hu=!1}}class sI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((y=>B1(y)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ye.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rI(r,e,i=!0){const a=DE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await RE(a,e,i,!0),l}async function aI(r,e){const i=DE(r);await RE(i,e,!0,!1)}async function RE(r,e,i,a){const l=await Rx(r.localStore,qi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await oI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&pE(r.remoteStore,l),y}async function oI(r,e,i,a,l){r.pu=(S,M,G)=>(async function(ie,ee,ge,me){let pe=ee.view.ru(ge);pe.Cs&&(pe=await X0(ie.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,pe))));const Je=me&&me.targetChanges.get(ee.targetId),ot=me&&me.targetMismatches.get(ee.targetId)!=null,Ue=ee.view.applyChanges(pe,ie.isPrimaryClient,Je,ot);return rv(ie,ee.targetId,Ue.au),Ue.snapshot})(r,S,M,G);const c=await X0(r.localStore,e,!0),d=new tI(e,c.Qs),y=d.ru(c.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,p);rv(r,i,_.au);const A=new nI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function lI(r,e,i){const a=Re(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Th(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(Ao)):(_m(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function uI(r,e){const i=Re(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function cI(r,e,i){const a=yI(r);try{const l=await(function(d,y){const p=Re(d),_=_t.now(),A=y.reduce(((G,Z)=>G.add(Z.key)),qe());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=Ss(),ie=qe();return p.Ns.getEntries(G,A).next((ee=>{Z=ee,Z.forEach(((ge,me)=>{me.isValidDocument()||(ie=ie.add(ge))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,Z))).next((ee=>{S=ee;const ge=[];for(const me of y){const pe=wR(me,S.get(me.key).overlayedDocument);pe!=null&&ge.push(new Sr(me.key,pe,V1(pe.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,ge,y)})).next((ee=>{M=ee;const ge=ee.applyToLocalDocumentSet(S,ie);return p.documentOverlayCache.saveOverlays(G,ee.batchId,ge)}))})).then((()=>({batchId:M.batchId,changes:G1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new wt(He)),_=_.insert(y,p),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await su(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=sp(l,"Failed to persist write");i.reject(c)}}async function xE(r,e){const i=Re(r);try{const a=await Ax(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?it(d.hu,14607):l.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await su(i,a,e)}catch(a){await Ao(a)}}function sv(r,e,i){const a=Re(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const p=Re(d);p.onlineState=y;let _=!1;p.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&rp(p)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function hI(r,e,i){const a=Re(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new wt(ye.comparator);d=d.insert(c,dn.newNoDocument(c,Ae.min()));const y=qe().add(c),p=new wh(Ae.min(),new Map,new wt(He),d,y);await xE(a,p),a.du=a.du.remove(c),a.Au.delete(e),op(a)}else await pm(a.localStore,e,!1).then((()=>_m(a,e,i))).catch(Ao)}async function fI(r,e){const i=Re(r),a=e.batch.batchId;try{const l=await bx(i.localStore,e);CE(i,a,null),IE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,l)}catch(l){await Ao(l)}}async function dI(r,e,i){const a=Re(r);try{const l=await(function(d,y){const p=Re(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>(it(S!==null,37113),A=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>p.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);CE(a,e,i),IE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,l)}catch(l){await Ao(l)}}function IE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function CE(r,e,i){const a=Re(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||NE(r,a)}))}function NE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),op(r))}function rv(r,e,i){for(const a of i)a instanceof SE?(r.Ru.addReference(a.key,e),mI(r,a)):a instanceof wE?(ae(ap,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||NE(r,a.key)):ve(19791,{wu:a})}function mI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(ap,"New document in limbo: "+i),r.Eu.add(a),op(r))}function op(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(St.fromString(e)),a=r.fu.next();r.Au.set(a,new iI(i)),r.du=r.du.insert(i,a),pE(r.remoteStore,new cr(qi(Eh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function su(r,e,i){const a=Re(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Jm.As(p.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(p,_){const A=Re(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(M=>$.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>$.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!So(S))throw S;ae(Zm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const G=A.Ms.get(M),Z=G.snapshotVersion,ie=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(M,ie)}}})(a.localStore,c))}async function pI(r,e){const i=Re(r);if(!i.currentUser.isEqual(e)){ae(ap,"User change. New user:",e.toKey());const a=await hE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ls)}}function gI(r,e){const i=Re(r),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function DE(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hI.bind(null,e),e.Pu.H_=Wx.bind(null,e.eventManager),e.Pu.yu=eI.bind(null,e.eventManager),e}function yI(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Tx(this.persistence,new _x,e.initialUser,this.serializer)}Cu(e){return new cE($m.mi,this.serializer)}Du(e){return new Ix}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class _I extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ix(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new cE((a=>lh.mi(a,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zx})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),a=(function(c){return new Mx(c)})(e.databaseInfo);return(function(c,d,y,p){return new Lx(c,d,y,p)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new jx(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return Z0.v()?new Z0:new Cx})())}createSyncEngine(e,i){return(function(l,c,d,y,p,_,A){const S=new sI(l,c,d,y,p,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);ae(la,"RemoteStore shutting down."),a.Ea.add(5),await iu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class OE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const br="FirestoreClient";class vI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=sp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(br,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await hE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function av(r,e){r.asyncQueue.verifyOperationInProgress();const i=await EI(r);ae(br,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>ev(e.remoteStore,l))),r._onlineComponents=e}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(br,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ho("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new ch)}}else ae(br,"Using default OfflineComponentProvider"),await Kd(r,new _I(void 0));return r._offlineComponents}async function ME(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(br,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(ae(br,"Using default OnlineComponentProvider"),await av(r,new vm))),r._onlineComponents}function TI(r){return ME(r).then((e=>e.syncEngine))}async function Em(r){const e=await ME(r),i=e.eventManager;return i.onListen=rI.bind(null,e.syncEngine),i.onUnlisten=lI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uI.bind(null,e.syncEngine),i}function bI(r,e,i={}){const a=new pr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const A=new OE({next:M=>{A.Nu(),d.enqueueAndForget((()=>bE(c,S)));const G=M.docs.has(y);!G&&M.fromCache?_.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&p&&p.source==="server"?_.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new AE(Eh(y.path),A,{includeMetadataChanges:!0,qa:!0});return TE(c,S)})(await Em(r),r.asyncQueue,e,i,a))),a.promise}function VE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ov=new Map;const kE="firestore.googleapis.com",lv=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kE,this.ssl=lv}else this.host=e.host,this.ssl=e.ssl??lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tx)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rw;switch(a.type){case"firstParty":return new Nw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(ae("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function AI(r,e,i,a={}){r=yi(r,lp);const l=vo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;l&&(Dv(`https://${y}`),Ov("Firestore",!0)),c.host!==kE&&c.host!==y&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:l,emulatorOptions:a};if(!gr(p,d)&&(r._setSettings(p),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=fn.MOCK_USER;else{_=Xb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fn(S)}r._authCredentials=new xw(new A1(_,A))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Qt._jsonSchema))return new Qt(e,a||null,new ye(St.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Ql extends Ch{constructor(e,i,a){super(e,i,Eh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ye(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function xn(r,e,...i){if(r=vn(r),arguments.length===1&&(e=Lm.newId()),Uw("doc","path",e),r instanceof lp){const a=St.fromString(e,...i);return A0(a),new Qt(r,null,new ye(a))}{if(!(r instanceof Qt||r instanceof Ql))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...i));return A0(a),new Qt(r.firestore,r instanceof Ql?r.converter:null,new ye(a))}}const cv="AsyncQueue";class hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ae(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ae(cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ip.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function fv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ua extends lp{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function SI(r,e){const i=typeof r=="object"?r:Uv(),a=typeof r=="string"?r:th,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Kb("firestore");c&&AI(l,...c)}return l}function up(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wI(r),r._firestoreClient}function wI(r){const e=r._freezeSettings(),i=(function(l,c,d,y){return new Yw(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(un.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Ft("string",ni._jsonSchemaVersion),bytes:Ft("string")};class Nh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ft("string",Fi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qi(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Ft("string",Qi._jsonSchemaVersion),vectorValues:Ft("object")};const RI=/^__.*__$/;class xI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class UE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function LE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Oh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Oh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LE(this.Ac)&&RI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(e)}Cc(e,i,a,l=!1){return new Oh({Ac:e,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PE(r){const e=r._freezeSettings(),i=Rh(r._databaseId);return new II(r._databaseId,!!e.ignoreUndefinedProperties,i)}function CI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);hp("Data must be an object, but it was:",d,a);const y=jE(a,d);let p,_;if(c.merge)p=new Bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Tm(e,S,i);if(!d.contains(M))throw new ce(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);BE(A,M)||A.push(M)}p=new Bn(A),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new xI(new Nn(y),p,_)}class Mh extends Dh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function NI(r,e,i){return new Oh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cp extends Dh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=NI(this,e,!0),a=this.vc.map((c=>ru(c,i))),l=new go(a);return new TR(e.path,l)}isEqual(e){return e instanceof cp&&gr(this.vc,e.vc)}}function DI(r,e,i,a){const l=r.Cc(1,e,i);hp("Data must be an object, but it was:",l,a);const c=[],d=Nn.empty();Ar(a,((p,_)=>{const A=fp(e,p,i);_=vn(_);const S=l.yc(A);if(_ instanceof Mh)c.push(A);else{const M=ru(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const y=new Bn(c);return new UE(d,y,l.fieldTransforms)}function OI(r,e,i,a,l,c){const d=r.Cc(1,e,i),y=[Tm(e,a,i)],p=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Tm(e,c[M])),p.push(c[M+1]);const _=[],A=Nn.empty();for(let M=y.length-1;M>=0;--M)if(!BE(_,y[M])){const G=y[M];let Z=p[M];Z=vn(Z);const ie=d.yc(G);if(Z instanceof Mh)_.push(G);else{const ee=ru(Z,ie);ee!=null&&(_.push(G),A.set(G,ee))}}const S=new Bn(_);return new UE(A,S,d.fieldTransforms)}function ru(r,e){if(zE(r=vn(r)))return hp("Unsupported field value:",e,r),jE(r,e);if(r instanceof Dh)return(function(a,l){if(!LE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let p=ru(y,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _R(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ni)return{bytesValue:nE(l.serializer,a._byteString)};if(a instanceof Qt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qi)return(function(d,y){return{mapValue:{fields:{[O1]:{stringValue:M1},[nh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Gm(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,e)}function jE(r,e){const i={};return R1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(r,((a,l)=>{const c=ru(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Fi||r instanceof ni||r instanceof Qt||r instanceof Dh||r instanceof Qi)}function hp(r,e,i){if(!zE(i)||!S1(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Tm(r,e,i){if((e=vn(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return fp(r,e);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MI=new RegExp("[~\\*/\\[\\]]");function fp(r,e,i){if(e.search(MI)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Nh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ce(J.INVALID_ARGUMENT,y+r+p)}function BE(r,e){return r.some((i=>i.isEqual(e)))}class HE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VI extends HE{data(){return super.data()}}function qE(r,e){return typeof e=="string"?fp(r,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}function kI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UI{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ar(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[nh].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Qi(i)}convertGeoPoint(e){return new Fi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_h(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);it(lE(a),9688,{name:e});const l=new ql(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends HE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ft("string",sa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Fc extends sa{data(e={}){return super.data(e)}}class uo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Ol(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const p=new Fc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ol(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Fc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ol(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:PI(y.type),doc:p,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function jI(r){r=yi(r,Qt);const e=yi(r.firestore,ua);return bI(up(e),r._key).then((i=>FE(e,r,i)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ft("string",uo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class GE extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function zI(r,e,i){r=yi(r,Qt);const a=yi(r.firestore,ua),l=LI(r.converter,e);return dp(a,[CI(PE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,_i.none())])}function ji(r,e,i,...a){r=yi(r,Qt);const l=yi(r.firestore,ua),c=PE(l);let d;return d=typeof(e=vn(e))=="string"||e instanceof Nh?OI(c,"updateDoc",r._key,e,i,a):DI(c,"updateDoc",r._key,e),dp(l,[d.toMutation(r._key,_i.exists(!0))])}function BI(r){return dp(yi(r.firestore,ua),[new Fm(r._key,_i.none())])}function mv(r,...e){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||dv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,d,y;if(r instanceof Qt)d=yi(r.firestore,ua),y=Eh(r._key.path),c={next:p=>{e[a]&&e[a](FE(d,r,p))},error:e[a+1],complete:e[a+2]};else{const p=yi(r,Ch);d=yi(p.firestore,ua),y=p._query;const _=new GE(d);c={next:A=>{e[a]&&e[a](new uo(d,_,p,A))},error:e[a+1],complete:e[a+2]},kI(r._query)}return(function(_,A,S,M){const G=new OE(M),Z=new AE(A,G,S);return _.asyncQueue.enqueueAndForget((async()=>TE(await Em(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>bE(await Em(_),Z)))}})(up(d),y,l,c)}function dp(r,e){return(function(a,l){const c=new pr;return a.asyncQueue.enqueueAndForget((async()=>cI(await TI(a),l,c))),c.promise})(up(r),e)}function FE(r,e,i){const a=i.docs.get(e._key),l=new GE(r);return new sa(r,l,e._key,a,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}function pv(...r){return new cp("arrayUnion",r)}(function(e,i=!0){(function(l){bo=l})(Eo),co(new ra("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ua(new Iw(a.getProvider("auth-internal")),new Dw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),dr(v0,E0,e),dr(v0,E0,"esm2020")})();const HI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const e=qI(r);return e.charAt(0).toUpperCase()+e.slice(1)},QE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QI=ft.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},p)=>ft.createElement("svg",{ref:p,...FI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:QE("lucide",l),...!c&&!GI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>ft.createElement(_,A)),...Array.isArray(c)?c:[c]]));const tt=(r,e)=>{const i=ft.forwardRef(({className:a,...l},c)=>ft.createElement(QI,{ref:c,iconNode:e,className:QE(`lucide-${HI(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const KI=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],YI=tt("arrow-right-left",KI);const XI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bm=tt("book-open",XI);const $I=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JI=tt("briefcase",$I);const ZI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WI=tt("circle-check-big",ZI);const eC=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],na=tt("coins",eC);const tC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nC=tt("copy",tC);const iC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yv=tt("crown",iC);const sC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],rC=tt("dice-5",sC);const aC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_v=tt("eye",aC);const oC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lC=tt("gavel",oC);const uC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],KE=tt("ghost",uC);const cC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hC=tt("hammer",cC);const fC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],dC=tt("hand",fC);const mC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pC=tt("history",mC);const gC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],yC=tt("hourglass",gC);const _C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vv=tt("loader-circle",_C);const vC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Am=tt("log-out",vC);const EC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TC=tt("moon",EC);const bC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],AC=tt("scale",bC);const SC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YE=tt("search",SC);const wC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RC=tt("shield",wC);const xC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],IC=tt("skull",xC);const CC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ev=tt("sparkles",CC);const NC=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],DC=tt("sunrise",NC);const OC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vc=tt("trash-2",OC);const MC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XE=tt("triangle-alert",MC);const VC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$E=tt("trophy",VC);const kC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],UC=tt("user",kC);const LC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PC=tt("users",LC);const jC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fh=tt("x",jC);const zC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BC=tt("zap",zC),HC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:0dfb631ed63cef956aa637"},JE=kv(HC),Yd=Sw(JE),In=SI(JE),zn=typeof __app_id<"u"?__app_id:"guild-shadows",qC="15",GC=3,Vt={URCHIN:{id:"URCHIN",name:"Street Urchin",type:"ACTION",cost:0,desc:"Gain 2 Gold from the supply.",icon:na,color:"text-amber-400",bg:"bg-amber-950",border:"border-amber-700"},THIEF:{id:"THIEF",name:"Master Thief",type:"ACTION",cost:0,desc:"Steal 2 Gold from a player.",icon:dC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700"},HEIST:{id:"HEIST",name:"Grand Heist",type:"ACTION",cost:1,desc:"Risk: 50% get 5 Gold, 50% nothing.",icon:rC,color:"text-orange-400",bg:"bg-orange-950",border:"border-orange-700"},ASSASSIN:{id:"ASSASSIN",name:"Night Blade",type:"ACTION",cost:2,desc:"Destroy a specific Agent.",icon:IC,color:"text-red-500",bg:"bg-red-950",border:"border-red-800"},BLACKMAIL:{id:"BLACKMAIL",name:"Blackmail",type:"ACTION",cost:3,desc:"Steal an Agent OR Steal 4 Gold.",icon:lC,color:"text-pink-400",bg:"bg-pink-950",border:"border-pink-700"},DOPPELGANGER:{id:"DOPPELGANGER",name:"Doppelganger",type:"ACTION",cost:3,desc:"Copy effect of last Action card.",icon:nC,color:"text-cyan-400",bg:"bg-cyan-950",border:"border-cyan-700"},MERCHANT:{id:"MERCHANT",name:"Silk Trader",type:"AGENT",cost:2,desc:"+1 Gold at start of your turn.",icon:JI,color:"text-emerald-400",bg:"bg-emerald-900",border:"border-emerald-600"},LOOKOUT:{id:"LOOKOUT",name:"Lookout",type:"AGENT",cost:2,desc:"Peek at the top card of the deck.",icon:YE,color:"text-indigo-300",bg:"bg-indigo-900",border:"border-indigo-600"},BODYGUARD:{id:"BODYGUARD",name:"Iron Guard",type:"AGENT",cost:3,desc:"Immune to theft & assassination.",icon:RC,color:"text-blue-400",bg:"bg-blue-900",border:"border-blue-600"},POLITICIAN:{id:"POLITICIAN",name:"Corrupt Senator",type:"AGENT",cost:4,desc:"Gain 1 Gold when others play Actions.",icon:AC,color:"text-yellow-200",bg:"bg-yellow-900",border:"border-yellow-600"},SABOTEUR:{id:"SABOTEUR",name:"Saboteur",type:"AGENT",cost:4,desc:"Others pay +1 Gold to play Actions.",icon:XE,color:"text-orange-500",bg:"bg-stone-800",border:"border-orange-800"}},FC=[...Array(6).fill("URCHIN"),...Array(5).fill("THIEF"),...Array(4).fill("HEIST"),...Array(3).fill("ASSASSIN"),...Array(3).fill("BLACKMAIL"),...Array(2).fill("DOPPELGANGER"),...Array(4).fill("MERCHANT"),...Array(3).fill("LOOKOUT"),...Array(3).fill("BODYGUARD"),...Array(2).fill("POLITICIAN"),...Array(2).fill("SABOTEUR")],Tv=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},bv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(KE,{size:12,className:"text-purple-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"GUILD OF SHADOWS"})]}),Av=r=>r<=2?20:r===3?18:15,Xd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),QC=({type:r,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300 px-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-6 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-lg w-full text-center
      ${r==="success"?"bg-green-950/90 border-green-500 text-green-100":r==="failure"?"bg-red-950/90 border-red-500 text-red-100":"bg-blue-950/90 border-blue-500 text-blue-100"}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:e}),i&&b.jsx("p",{className:"text-sm md:text-lg font-bold opacity-90 tracking-wide",children:i})]})}),kc=({cardId:r,onClick:e,disabled:i,highlight:a,small:l,tiny:c,turnsLeft:d,showCost:y=!0})=>{const p=Vt[r];if(!p)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsxs("div",{className:`relative w-5 h-7 md:w-6 md:h-8 rounded flex items-center justify-center ${p.bg} border ${p.border} shadow-sm`,title:p.name,children:[b.jsx(p.icon,{className:`${p.color} w-3 h-3`}),d!==void 0&&b.jsx("div",{className:"absolute -top-1 -right-1 bg-black text-[8px] text-white w-3 h-3 rounded-full flex items-center justify-center border border-gray-500",children:d})]});const _=l?"w-16 h-28 md:w-20 md:h-32 p-1.5":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",A=l?18:32;return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 touch-manipulation overflow-visible
        ${_} ${p.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":p.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 hover:brightness-110"}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-gray-300",children:[b.jsx("span",{className:p.type==="AGENT"?"text-blue-300":"text-amber-200",children:p.type==="AGENT"?"AGT":"ACT"}),y&&p.cost>0&&b.jsxs("span",{className:"bg-black/50 px-1 rounded text-yellow-400 flex items-center gap-0.5",children:[p.cost," ",b.jsx(na,{size:8})]})]}),b.jsxs("div",{className:"flex-1 flex items-center justify-center my-1 relative",children:[b.jsx(p.icon,{className:`${p.color}`,size:A}),d!==void 0&&b.jsxs("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-black/80 px-1.5 py-0.5 rounded-full border border-gray-600 shadow-md",children:[b.jsx(yC,{size:8,className:"text-gray-400"}),b.jsx("span",{className:"text-[10px] text-white font-bold",children:d})]})]}),b.jsxs("div",{className:"w-full text-center",children:[b.jsx("div",{className:"font-bold text-white text-[9px] md:text-xs leading-tight mb-1 line-clamp-1",children:p.name}),b.jsx("div",{className:`
            text-gray-400 leading-tight bg-black/40 rounded flex items-center justify-center px-1
            ${l?"text-[8px] h-8 overflow-hidden":"text-[9px] h-auto p-1"}
          `,children:p.desc})]})]})},Sv=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl max-h-[85vh] flex flex-col rounded-2xl border border-gray-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("h2",{className:"font-serif text-xl font-bold text-purple-400 flex items-center gap-2",children:[b.jsx(bm,{size:18})," Guild Archives"]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full",children:b.jsx(fh,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-sm text-gray-300 space-y-8",children:[b.jsxs("section",{className:"bg-purple-900/10 p-4 rounded-xl border border-purple-500/20",children:[b.jsxs("h3",{className:"font-bold text-xl text-white mb-2 flex items-center gap-2",children:[b.jsx($E,{size:18,className:"text-yellow-400"})," Victory Condition"]}),b.jsx("p",{children:"Amass enough Gold to buy control of the Guild. The amount required changes based on the number of players:"}),b.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"2 Players:"})," 20 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"3 Players:"})," 18 Gold"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"4+ Players:"})," 15 Gold"]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-amber-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(BC,{size:18})," Actions"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Discarded after use)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Vt.URCHIN,Vt.THIEF,Vt.HEIST,Vt.ASSASSIN,Vt.BLACKMAIL,Vt.DOPPELGANGER].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"font-bold text-lg text-blue-400 mb-3 border-b border-gray-700 pb-1 flex items-center gap-2",children:[b.jsx(PC,{size:18})," Agents"," ",b.jsx("span",{className:"text-xs text-gray-500 font-normal ml-auto",children:"(Last for 3 Turns)"})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Vt.MERCHANT,Vt.LOOKOUT,Vt.BODYGUARD,Vt.POLITICIAN,Vt.SABOTEUR].map(e=>b.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700 flex items-start gap-2",children:[b.jsx("div",{className:`p-2 rounded bg-black/30 ${e.color}`,children:b.jsx(e.icon,{size:16})}),b.jsxs("div",{children:[b.jsxs("div",{className:`font-bold ${e.color}`,children:[e.name," (Cost ",e.cost,")"]}),b.jsx("div",{className:"text-xs text-gray-400",children:e.desc})]})]},e.id))})]}),b.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[b.jsx("h3",{className:"font-bold text-white mb-2",children:"Game Mechanics"}),b.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-gray-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Scouting:"})," When you Pass, you enter"," ",b.jsx("strong",{children:"Scout Mode"}),". Select a card from your hand to discard, and you will draw a replacement."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Agent Decay:"})," All Agents (Merchants, Bodyguards, etc.) leave your service after ",b.jsx("strong",{children:"3 turns"}),". Plan accordingly."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Taxes & Corruption:"})," Saboteurs tax opponents. Politicians profit from opponent actions."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pity Bonus:"})," Start your turn with 0 gold? Get +1 extra gold from the guild."]})]})]})]})]})}),ZE=({title:r,children:e,onClose:i,icon:a,colorClass:l,borderColor:c})=>b.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[150] w-72 md:w-80 animate-in zoom-in-95 fade-in duration-300",children:b.jsxs("div",{className:`bg-gray-900/95 backdrop-blur-xl border-2 ${c} rounded-xl shadow-[0_0_50px_rgba(0,0,0,0.7)] overflow-hidden flex flex-col`,children:[b.jsxs("div",{className:`p-3 border-b ${c} bg-black/40 flex justify-between items-center`,children:[b.jsxs("div",{className:`font-bold flex items-center gap-2 ${l}`,children:[b.jsx(a,{size:18})," ",r]}),b.jsx("button",{onClick:i,className:"hover:bg-white/10 rounded p-1 transition-colors text-gray-400 hover:text-white",children:b.jsx(fh,{size:16})})]}),b.jsx("div",{className:"p-4 text-sm text-gray-200 max-h-[60vh] overflow-y-auto",children:e}),b.jsx("div",{className:"p-2 bg-black/20 border-t border-gray-800 flex justify-center",children:b.jsx("button",{onClick:i,className:"text-xs uppercase tracking-widest text-gray-500 hover:text-white transition-colors py-1",children:"Dismiss"})})]})}),KC=({report:r,onClose:e})=>r?b.jsx(ZE,{title:"Morning Report",icon:DC,colorClass:"text-purple-300",borderColor:"border-purple-500/50",onClose:e,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"bg-black/40 p-2 rounded border border-gray-700",children:[b.jsx("div",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1",children:"Income"}),r.breakdown&&r.breakdown.length>0?b.jsxs("div",{className:"space-y-1",children:[r.breakdown.map((i,a)=>b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-gray-300",children:i.source}),b.jsxs("span",{className:"text-green-400 font-mono",children:["+",i.amount]})]},a)),b.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1 flex justify-between font-bold",children:[b.jsx("span",{children:"Total"}),b.jsxs("span",{className:"text-green-400",children:["+",r.income]})]})]}):b.jsx("div",{className:"text-xs text-gray-500 italic",children:"No income generated."})]}),r.expired.length>0&&b.jsxs("div",{className:"bg-red-900/20 p-2 rounded border border-red-900/40",children:[b.jsxs("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1 flex items-center gap-1",children:[b.jsx(Am,{size:10})," Departed Agents"]}),b.jsx("div",{className:"flex flex-wrap gap-1",children:r.expired.map((i,a)=>b.jsx("span",{className:"text-[10px] text-gray-300 bg-black/40 px-1.5 py-0.5 rounded border border-gray-700",children:Vt[i]?.name},a))})]})]})}):null,YC=({report:r,onClose:e})=>r?b.jsx(ZE,{title:"Evening Report",icon:TC,colorClass:"text-indigo-300",borderColor:"border-indigo-500/50",onClose:e,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Action"}),b.jsx("div",{className:"font-bold text-white text-lg",children:r.actionName})]}),b.jsxs("div",{className:"bg-black/40 p-2 rounded border border-gray-700 space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-gray-400",children:"Cost"}),b.jsxs("span",{className:"text-red-400 font-mono",children:["-",r.cost]})]}),r.tax>0&&b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsx("span",{className:"text-red-400",children:"Saboteur Tax"}),b.jsxs("span",{className:"text-red-400 font-mono",children:["-",r.tax]})]}),r.gains.map((i,a)=>b.jsxs("div",{className:"flex justify-between text-xs border-t border-gray-800 pt-1 mt-1",children:[b.jsx("span",{className:"text-gray-300",children:i.desc}),b.jsxs("span",{className:"text-green-400 font-mono",children:["+",i.amount]})]},a)),b.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1 flex justify-between font-bold",children:[b.jsx("span",{children:"Net Change"}),b.jsxs("span",{className:r.netChange>=0?"text-green-400":"text-red-400",children:[r.netChange>0?"+":"",r.netChange]})]})]})]})}):null;function XC(){const[r,e]=ft.useState(null),[i,a]=ft.useState("menu"),[l,c]=ft.useState(""),[d,y]=ft.useState(""),[p,_]=ft.useState(null),[A,S]=ft.useState(""),[M,G]=ft.useState(!1),[Z,ie]=ft.useState(localStorage.getItem("guild_room_id")||""),[ee,ge]=ft.useState(!1),[me,pe]=ft.useState(null),[Je,ot]=ft.useState(null),[Ue,C]=ft.useState(!1),[w,I]=ft.useState(!1),[k,N]=ft.useState(!1),[V,R]=ft.useState(null),[nt,vt]=ft.useState(null),[q,ne]=ft.useState(null),[he,Oe]=ft.useState(null),[Ye,O]=ft.useState(null);ft.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await c2(Yd,__initial_auth_token):await r2(Yd))(),d2(Yd,e)),[]),ft.useEffect(()=>{if(!(!Z||!r))return mv(xn(In,"artifacts",zn,"public","data","rooms",Z),F=>{if(F.exists()){const W=F.data();if(!W.players.some(ue=>ue.id===r.uid)){ie(""),a("menu"),S("You have been removed from the guild.");return}_(W),W.status==="playing"&&W.turnReport&&W.turnReport.playerId===r.uid&&!W.turnReport.seen&&(Oe(W.turnReport),O(null)),W.status==="playing"&&W.eveningReport&&W.eveningReport.playerId===r.uid&&!W.eveningReport.seen&&(O(W.eveningReport),Oe(null)),W.status==="lobby"?a("lobby"):(W.status==="playing"||W.status==="finished")&&a("game")}else ie(""),a("menu"),S("The Guild Hall was disbanded by the host.")},F=>console.error(F))},[Z,r]),ft.useEffect(()=>{const F=mv(xn(In,"game_hub_settings","config"),W=>{W.exists()&&W.data()[qC]?.maintenance?ge(!0):ge(!1)});return()=>F()},[]);const Y=(F,W,fe,ue)=>{ot({type:F,message:W,subtext:fe,icon:ue}),setTimeout(()=>ot(null),2500)},se=async()=>{if(!l)return S("Enter Alias");G(!0);try{const F=Math.random().toString(36).substring(2,7).toUpperCase();await zI(xn(In,"artifacts",zn,"public","data","rooms",F),{roomId:F,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,gold:0,hand:[],tableau:[],ready:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],lastAction:null,turnReport:null,eveningReport:null}),ie(F),localStorage.setItem("guild_room_id",F)}catch(F){console.error(F),S("Failed to create room.")}finally{G(!1)}},re=async()=>{if(!d||!l)return S("Enter Info");G(!0);try{const F=xn(In,"artifacts",zn,"public","data","rooms",d),W=await jI(F);if(!W.exists())return G(!1),S("Invalid Room");const fe=W.data();if(fe.status!=="lobby")return G(!1),S("Game Started");if(fe.players.length>=6)return G(!1),S("Room Full");await ji(F,{players:[...fe.players,{id:r.uid,name:l,gold:0,hand:[],tableau:[],ready:!1}]}),ie(d),localStorage.setItem("guild_room_id",d)}catch(F){console.error(F),S("Failed to join room.")}finally{G(!1)}},Ee=async F=>{if(p.hostId!==r.uid)return;const W=p.players.filter(fe=>fe.id!==F);await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{players:W})},Se=async()=>{if(p){if(p.hostId===r.uid)await BI(xn(In,"artifacts",zn,"public","data","rooms",Z));else{const F=p.players.filter(W=>W.id!==r.uid);await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{players:F})}ie(""),localStorage.removeItem("guild_room_id"),a("menu"),N(!1)}},Le=async()=>{if(p.hostId!==r.uid)return;const F=Tv([...FC]),W=p.players.map(fe=>({...fe,hand:[F.pop(),F.pop()],tableau:[],gold:2,ready:!1}));await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{status:"playing",deck:F,players:W,turnIndex:0,logs:[{text:"The struggle for the Guild begins...",type:"neutral",id:Date.now()}],lastAction:null,turnReport:null,eveningReport:null})},It=async()=>{const F=p.players.map(W=>W.id===r.uid?{...W,ready:!W.ready}:W);await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{players:F})},dt=async()=>{if(p.hostId!==r.uid)return;const F=p.players.map(W=>({...W,hand:[],tableau:[],gold:0,ready:!1}));await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{status:"lobby",deck:[],discardPile:[],winnerId:null,logs:[],players:F}),N(!1)},ii=(F,W)=>{let fe=0;return F.forEach(ue=>{if(ue.id!==W){const Ge=ue.tableau.filter(Ce=>Ce.cardId==="SABOTEUR").length;fe+=Ge}}),fe},Rs=(F,W)=>{F.forEach(fe=>{if(fe.id!==W){const ue=fe.tableau.filter(Ge=>Ge.cardId==="POLITICIAN").length;ue>0&&(fe.gold+=ue)}})},vi=async(F,W,fe,ue,Ge=null,Ce=null)=>{let Pe=(p.turnIndex+1)%F.length,Ze=F[Pe];const Ut=[],Ne=[];Ze.tableau.forEach(Tt=>{Tt.turnsLeft-=1,Tt.turnsLeft<=0?(Ut.push(Tt.cardId),fe.push(Tt.cardId)):Ne.push(Tt)}),Ze.tableau=Ne;let Et=0;const Me=[];Me.push({source:"Guild Stipend",amount:1}),Et+=1,Ze.tableau.forEach(Tt=>{Tt.cardId==="MERCHANT"&&(Me.push({source:"Silk Trader",amount:1}),Et+=1)}),Ze.gold===0&&(Me.push({source:"Pity Bonus",amount:1}),Et+=1),Ze.gold+=Et,Ut.length>0&&ue.push({text:`${Ze.name} lost ${Ut.length} agents to time.`,type:"warning",id:Date.now()}),ue.push({text:`${Ze.name} begins turn (+${Et} Gold).`,type:"neutral",id:Date.now()+1});const Nt={playerId:Ze.id,income:Et,breakdown:Me,expired:Ut,seen:!1},gn=Av(F.length);if(Ze.gold>=gn){const Tt=F.map(Ir=>({...Ir,ready:!1}));await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{players:Tt,status:"finished",winnerId:Ze.id,logs:pv({text:` ${Ze.name} has bought the Guild!`,type:"success",id:Date.now()+2})});return}W.length===0&&(fe.length>0?(W=Tv([...fe]),fe=[],ue.push({text:"Deck reshuffled.",type:"warning",id:Date.now()+3})):ue.push({text:"Deck empty!",type:"danger",id:Date.now()+3})),W.length>0&&Ze.hand.push(W.pop()),await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{players:F,deck:W,discardPile:fe,turnIndex:Pe,logs:pv(...ue),lastAction:Ge!==null?Ge:p.lastAction,turnReport:Nt,eveningReport:Ce})},xs=async(F,W,fe,ue,Ge,Ce,Pe,Ze,Ut)=>{const Ne=ue[Ze],Et=Vt[F];let Me=[],Nt=-(Et.cost+Ut);Ne.gold-=Et.cost+Ut,Et.type==="ACTION"&&Rs(ue,Ne.id);const gn=Ne.hand.indexOf(F);gn>-1&&Ne.hand.splice(gn,1);let Tt=p.lastAction;if(Et.type==="AGENT")Ne.tableau.push({cardId:F,turnsLeft:GC}),Pe.push({text:` ${Ne.name} recruited ${Et.name}.`,type:"success",id:Date.now()}),Me.push({desc:"Recruited Agent",amount:0});else if(Ce.push(F),Tt={cardId:F,playerId:Ne.id},F==="URCHIN")Ne.gold+=2,Nt+=2,Me.push({desc:"Street Urchin",amount:2}),Pe.push({text:` ${Ne.name} used Urchin (+2 Gold).`,type:"neutral",id:Date.now()});else if(F==="HEIST")Math.floor(Math.random()*6)+1>=4?(Ne.gold+=5,Nt+=5,Me.push({desc:"Heist Success",amount:5}),Pe.push({text:` ${Ne.name} pulled off a Heist! (+5 Gold)`,type:"success",id:Date.now()})):(Me.push({desc:"Heist Failed",amount:0}),Pe.push({text:` ${Ne.name}'s Heist failed.`,type:"failure",id:Date.now()}));else if(F==="THIEF"){const Qe=ue.find(be=>be.id===W);if(Qe.tableau.some(be=>be.cardId==="BODYGUARD"))Me.push({desc:"Thief Blocked",amount:0}),Pe.push({text:` ${Qe.name}'s Bodyguard stopped the Thief!`,type:"warning",id:Date.now()});else{const be=Math.min(Qe.gold,2);Qe.gold-=be,Ne.gold+=be,Nt+=be,Me.push({desc:`Stole from ${Qe.name}`,amount:be}),Pe.push({text:` ${Ne.name} stole ${be} Gold from ${Qe.name}.`,type:"danger",id:Date.now()})}}else if(F==="ASSASSIN"){const Qe=ue.find(be=>be.id===W);if(Qe.tableau.some(be=>be.cardId==="BODYGUARD"))Pe.push({text:` ${Qe.name}'s Bodyguard intercepted!`,type:"warning",id:Date.now()});else if(fe!==null&&Qe.tableau[fe]){const be=Qe.tableau[fe];Qe.tableau.splice(fe,1),Ce.push(be.cardId),Pe.push({text:` ${Ne.name} assassinated ${Qe.name}'s ${Vt[be.cardId].name}!`,type:"danger",id:Date.now()})}}else if(F==="BLACKMAIL"){const Qe=ue.find(be=>be.id===W);if(Qe.tableau.some(be=>be.cardId==="BODYGUARD"))Pe.push({text:` ${Qe.name} blocked Blackmail.`,type:"warning",id:Date.now()});else if(fe==="GOLD"){const be=Math.min(Qe.gold,4);Qe.gold-=be,Ne.gold+=be,Nt+=be,Me.push({desc:"Blackmail Gold",amount:be}),Pe.push({text:` ${Ne.name} blackmailed ${Qe.name} for ${be} Gold.`,type:"danger",id:Date.now()})}else{const be=parseInt(fe);if(!isNaN(be)&&Qe.tableau[be]){const ri=Qe.tableau[be];Qe.tableau.splice(be,1),Ne.tableau.push(ri),Pe.push({text:` ${Ne.name} blackmailed ${Qe.name}'s ${Vt[ri.cardId].name}.`,type:"danger",id:Date.now()})}}}else if(F==="DOPPELGANGER"){const Qe=p.lastAction;if(!Qe||Qe.cardId==="DOPPELGANGER")Pe.push({text:` ${Ne.name}'s Doppelganger fizzled.`,type:"failure",id:Date.now()});else{Pe.push({text:` ${Ne.name} copies ${Vt[Qe.cardId].name}...`,type:"neutral",id:Date.now()});const be=Qe.cardId;["URCHIN","HEIST"].includes(be)?(be==="URCHIN"&&(Ne.gold+=2,Nt+=2,Me.push({desc:"Copied Urchin",amount:2})),be==="HEIST"&&Math.floor(Math.random()*6)+1>=4&&(Ne.gold+=5,Nt+=5,Me.push({desc:"Copied Heist",amount:5}))):(Ne.gold+=3,Nt+=3,Me.push({desc:"Copied Complex Action",amount:3}),Pe.push({text:"(Doppelganger mimics complex action as +3 Gold)",type:"neutral",id:Date.now()}))}}const Ir={playerId:Ne.id,actionName:Et.name,cost:Et.cost,tax:Ut,gains:Me,netChange:Nt,seen:!1};pe(null),R(null),vt(null),await vi(ue,Ge,Ce,Pe,Tt,Ir)},Hn=async F=>{const W=JSON.parse(JSON.stringify(p.players)),fe=p.turnIndex,ue=W[fe],Ge=[...p.deck],Ce=[...p.discardPile],Pe=[],Ze=ue.hand.splice(F,1)[0];Ce.push(Ze),Pe.push({text:` ${ue.name} discarded ${Vt[Ze].name} (Hand Limit).`,type:"neutral",id:Date.now()});const Ut={playerId:ue.id,actionName:"Discard",cost:0,tax:0,gains:[],netChange:0,seen:!1};pe(null),R(null),await vi(W,Ge,Ce,Pe,null,Ut)},wr=F=>{if(V==="DISCARD"){Hn(F);return}if(V==="SCOUT"){Ei(F);return}const W=p.players[p.turnIndex].hand[F],fe=Vt[W],ue=p.players[p.turnIndex],Ge=fe.type==="ACTION"?ii(p.players,ue.id):0;if(ue.gold<fe.cost+Ge){Y("failure","Insufficient Funds",`Cost: ${fe.cost} + ${Ge} Tax`,na);return}pe(F),W==="THIEF"||W==="ASSASSIN"||W==="BLACKMAIL"?R("PLAYER"):(W==="DOPPELGANGER"||fe.type==="AGENT"||W==="URCHIN"||W==="HEIST")&&pt(F,null,null)},Xi=F=>{if(!V)return;const W=p.players[p.turnIndex].hand[me];W==="THIEF"?pt(me,F,null):W==="ASSASSIN"?(vt(F),R("CARD")):W==="BLACKMAIL"&&(vt(F),R("OPTION"))},Rr=F=>{V==="CARD"&&nt&&pt(me,nt,F)},xr=F=>{V==="OPTION"&&nt&&pt(me,nt,F)},pt=async(F,W,fe)=>{const ue=JSON.parse(JSON.stringify(p.players)),Ge=[...p.deck],Ce=[...p.discardPile],Pe=[],Ze=ue.find(Et=>Et.id===r.uid),Ut=Ze.hand[F],Ne=Vt[Ut].type==="ACTION"?ii(ue,Ze.id):0;await xs(Ut,W,fe,ue,Ge,Ce,Pe,p.turnIndex,Ne)},Ct=()=>{R("SCOUT"),Y("success","Scout Mode","Select a card to discard",_v)},Ei=async F=>{const W=JSON.parse(JSON.stringify(p.players)),fe=p.turnIndex,ue=W[fe],Ge=[...p.deck],Ce=[...p.discardPile],Pe=[],Ze=ue.hand.splice(F,1)[0];Ce.push(Ze),Ge.length>0&&ue.hand.push(Ge.pop()),Pe.push({text:`zzz ${ue.name} scouted (replaced a card).`,type:"neutral",id:Date.now()});const Ut={playerId:ue.id,actionName:"Scout Mission",cost:0,tax:0,gains:[{desc:"Card Replaced",amount:0}],netChange:0,seen:!1};pe(null),R(null),await vi(W,Ge,Ce,Pe,null,Ut)},Ro=()=>{p.deck.length!==0&&(ne(p.deck[p.deck.length-1]),setTimeout(()=>ne(null),3e3))},fa=async()=>{Oe(null),Z&&p&&await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{"turnReport.seen":!0})},en=async()=>{O(null),Z&&p&&await ji(xn(In,"artifacts",zn,"public","data","rooms",Z),{"eveningReport.seen":!0})};if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(hC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Guild Hall is dark. The masters are deliberating."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Ev,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Ev,{size:16})]})})})})]});if(!i)return b.jsx("div",{className:"bg-black text-white h-screen flex items-center justify-center",children:"Loading Guild..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Xd,{}),b.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700",children:[b.jsx(KE,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-lg"}),b.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-indigo-600 font-serif tracking-widest",children:"GUILD OF SHADOWS"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"In Shadows We Trust"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl z-10",children:[A&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-xs border border-red-800",children:A}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-700 p-3 rounded mb-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"CODENAME",value:l,onChange:F=>c(F.target.value)}),b.jsxs("button",{onClick:se,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 hover:from-purple-600 p-3 rounded font-bold mb-3 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[M?b.jsx(vv,{size:18,className:"animate-spin"}):b.jsx(yv,{size:18}),M?"Establishing...":"Establish Guild"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{className:"flex-1 bg-black/50 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:F=>y(F.target.value.toUpperCase())}),b.jsx("button",{onClick:re,disabled:M,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-4 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed min-w-[80px] flex items-center justify-center",children:M?b.jsx(vv,{size:16,className:"animate-spin"}):"Join"})]}),b.jsxs("button",{onClick:()=>C(!0),className:"w-full text-xs text-gray-500 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(bm,{size:14})," Guild Archives"]})]}),Ue&&b.jsx(Sv,{onClose:()=>C(!1)}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const F=p.hostId===r.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative",children:[b.jsx(Xd,{}),b.jsxs("div",{className:"z-10 w-full max-w-md bg-gray-900/90 backdrop-blur p-6 rounded-2xl border border-purple-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-serif text-purple-400",children:["Room:"," ",b.jsx("span",{className:"text-white font-mono",children:p.roomId})]}),b.jsx("button",{onClick:Se,className:"text-red-400 hover:text-red-300",children:b.jsx(Am,{size:20})})]}),b.jsxs("div",{className:"space-y-2 mb-6",children:[b.jsx("h3",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Operatives"}),p.players.map(W=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(UC,{size:14})," ",W.name,W.id===p.hostId&&b.jsx(yv,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(WI,{size:12})," Ready"]}),F&&W.id!==r.uid&&b.jsx("button",{onClick:()=>Ee(W.id),className:"text-gray-600 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(Vc,{size:14})})]})]},W.id))]}),F?b.jsx("button",{onClick:Le,disabled:p.players.length<2,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 ${p.players.length<2?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,children:"Start Game"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse text-sm",children:"Waiting for Guild Master..."})]}),b.jsx(bv,{})]})}const Ti=p.players.findIndex(F=>F.id===r.uid),pn=p.players[Ti],$i=p.turnIndex===Ti;me!==null&&Vt[pn.hand[me]];const si=ii(p.players,pn.id),xo=Av(p.players.length),da=pn.tableau.some(F=>F.cardId==="LOOKOUT");return b.jsxs("div",{className:"h-[100dvh] bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[b.jsx(Xd,{}),Je&&b.jsx(QC,{...Je}),q&&b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur",onClick:()=>ne(null),children:b.jsxs("div",{className:"animate-in zoom-in duration-200 flex flex-col items-center p-8",children:[b.jsx("div",{className:"text-white font-bold mb-6 text-2xl tracking-widest",children:"Top of Deck"}),b.jsx("div",{className:"scale-150 transform transition-all",children:b.jsx(kc,{cardId:q})}),b.jsx("div",{className:"mt-8 text-gray-400 text-sm animate-pulse",children:"(Tap anywhere to close)"})]})}),!q&&he?b.jsx(KC,{report:he,onClose:fa}):!q&&Ye?b.jsx(YC,{report:Ye,onClose:en}):null,b.jsxs("div",{className:"h-12 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-3 z-30 shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold hidden md:inline",children:"GUILD OF SHADOWS"}),b.jsxs("span",{className:"bg-purple-900/40 text-purple-300 text-[10px] px-2 py-0.5 rounded border border-purple-800/50",children:["Goal: ",xo," ",b.jsx(na,{size:8,className:"inline"})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>I(!w),className:"p-1.5 text-gray-400 hover:bg-gray-800 rounded relative",children:[b.jsx(pC,{size:18}),p.logs.length>0&&b.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]}),b.jsx("button",{onClick:()=>C(!0),className:"p-1.5 text-gray-400 hover:bg-gray-800 rounded",children:b.jsx(bm,{size:18})}),b.jsx("button",{onClick:()=>N(!0),className:"p-1.5 text-red-400 hover:bg-red-900/30 rounded",children:b.jsx(Am,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-2 pb-32",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:p.players.map((F,W)=>{if(F.id===r.uid)return null;const fe=p.turnIndex===W,ue=V==="PLAYER",Ge=nt===F.id;return b.jsxs("div",{onClick:()=>ue?Xi(F.id):null,className:`
                        relative bg-gray-900/60 p-2 rounded-lg border transition-all
                        ${fe?"border-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.3)]":"border-gray-800"}
                        ${ue?"cursor-pointer hover:border-red-400 hover:bg-red-900/10 ring-2 ring-transparent hover:ring-red-500/50":""}
                        ${Ge?"ring-2 ring-red-500 bg-red-900/20":""}
                      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-bold text-gray-300 flex items-center gap-1",children:F.name}),b.jsxs("span",{className:"text-[10px] text-yellow-500 flex items-center gap-1 font-mono bg-black/30 px-1 rounded w-fit mt-0.5",children:[F.gold," ",b.jsx(na,{size:8})]})]}),b.jsx("div",{className:"flex gap-0.5",children:F.hand.map((Ce,Pe)=>b.jsx("div",{className:"w-2 h-3 bg-purple-900 rounded-[1px] border border-purple-700/50"},Pe))})]}),b.jsxs("div",{className:"flex flex-wrap gap-1",children:[F.tableau.map((Ce,Pe)=>b.jsx("div",{onClick:Ze=>{Ze.stopPropagation(),Rr(Pe)},className:`${V==="CARD"&&Ge?"animate-pulse cursor-pointer ring-1 ring-red-400":""}`,children:b.jsx(kc,{cardId:Ce.cardId,turnsLeft:Ce.turnsLeft,tiny:!0})},Pe)),F.tableau.length===0&&b.jsx("div",{className:"h-8 w-full flex items-center justify-center text-[9px] text-gray-700 italic",children:"Empty Hall"})]})]},F.id)})}),b.jsx("div",{className:"mt-4 flex flex-col items-center space-y-1 opacity-70 pointer-events-none",children:p.logs.slice(-3).reverse().map(F=>b.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded-full backdrop-blur-sm ${F.type==="danger"?"bg-red-900/50 text-red-200":"bg-gray-800/50 text-gray-300"}`,children:F.text},F.id))})]}),b.jsxs("div",{className:"bg-gray-900 border-t border-purple-900/30 p-2 pb-safe z-40 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-yellow-400 font-black text-xl flex items-center gap-1.5 drop-shadow-sm",children:[b.jsx(na,{className:"fill-yellow-400/20",size:20})," ",pn.gold]}),si>0&&b.jsxs("div",{className:"text-[10px] text-red-400 flex items-center gap-0.5 bg-red-900/20 px-1.5 py-0.5 rounded border border-red-900/50",children:["Taxed: +",si," ",b.jsx(na,{size:8})]})]}),b.jsx("div",{className:"flex gap-1 overflow-x-auto max-w-[50%] no-scrollbar items-center",children:pn.tableau.map((F,W)=>b.jsx("div",{className:"shrink-0",children:b.jsx(kc,{cardId:F.cardId,turnsLeft:F.turnsLeft,tiny:!0})},W))})]}),b.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 px-1 min-h-[140px] items-end no-scrollbar",children:[pn.hand.length===0&&b.jsx("div",{className:"text-gray-600 text-xs italic w-full text-center py-4",children:"Hand Empty"}),pn.hand.map((F,W)=>b.jsx("div",{className:`transition-transform duration-200 ${me===W?"-translate-y-4":""}`,children:b.jsx(kc,{cardId:F,small:!0,onClick:()=>$i?wr(W):null,disabled:!$i||V!==null&&V!=="SCOUT"&&V!=="DISCARD"&&me!==W,highlight:me===W})},W))]}),$i&&b.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 w-full px-4 pointer-events-none",children:[V==="SCOUT"&&b.jsxs("div",{className:"pointer-events-auto bg-black/90 backdrop-blur text-white px-6 py-4 rounded-xl border border-blue-500 shadow-2xl animate-in zoom-in flex flex-col items-center gap-2",children:[b.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-400",children:[b.jsx(_v,{size:20})," Scout Mode"]}),b.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Tap a card in your hand to discard it and draw a new one."}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-full text-xs mt-2",children:"Cancel"})]}),V==="DISCARD"&&b.jsxs("div",{className:"pointer-events-auto bg-black/90 backdrop-blur text-white px-6 py-4 rounded-xl border border-red-500 shadow-2xl animate-in zoom-in flex flex-col items-center gap-2",children:[b.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-red-400",children:[b.jsx(Vc,{size:20})," Discard Mode"]}),b.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Your hand is full. Select a card to discard and end your turn."}),b.jsx("button",{onClick:()=>R(null),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-1 rounded-full text-xs mt-2",children:"Cancel"})]}),V==="PLAYER"&&b.jsxs("div",{className:"pointer-events-auto bg-black/80 backdrop-blur text-white px-4 py-2 rounded-full border border-red-500 shadow-lg animate-bounce text-sm font-bold flex items-center gap-2",children:[b.jsx(XE,{size:16,className:"text-red-500"})," Tap a Player to Target",b.jsx("button",{onClick:()=>{R(null),pe(null)},className:"bg-gray-700 rounded-full p-1 ml-2",children:b.jsx(fh,{size:12})})]}),V==="CARD"&&b.jsxs("div",{className:"pointer-events-auto bg-black/80 backdrop-blur text-white px-4 py-2 rounded-full border border-red-500 shadow-lg text-sm font-bold",children:["Select an Agent to Destroy",b.jsx("button",{onClick:()=>{R("PLAYER"),vt(null)},className:"text-[10px] underline ml-2 text-gray-400",children:"Back"})]}),V==="OPTION"&&b.jsxs("div",{className:"pointer-events-auto flex gap-2 animate-in slide-in-from-bottom-5",children:[b.jsxs("button",{onClick:()=>xr("GOLD"),className:"bg-yellow-700 hover:bg-yellow-600 text-white px-4 py-3 rounded-xl font-bold shadow-lg flex flex-col items-center leading-tight border border-yellow-500",children:[b.jsx("span",{className:"text-xs font-normal",children:"Steal"}),b.jsx("span",{children:"4 Gold"})]}),b.jsxs("button",{onClick:()=>R("CARD"),className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold shadow-lg flex flex-col items-center leading-tight border border-blue-500",children:[b.jsx("span",{className:"text-xs font-normal",children:"Steal"}),b.jsx("span",{children:"Agent"})]})]}),!V&&me===null&&b.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[da&&b.jsxs("button",{onClick:Ro,className:"bg-indigo-900 hover:bg-indigo-800 text-indigo-200 border border-indigo-500/50 px-4 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 text-sm",children:[b.jsx(YE,{size:14})," Peek"]}),pn.hand.length>5?b.jsxs("button",{onClick:()=>{R("DISCARD"),Y("neutral","Discard Mode","Hand limit reached",Vc)},className:"bg-red-900/90 backdrop-blur hover:bg-red-800 text-red-100 border border-red-500/50 px-6 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 text-sm",children:["Discard & Pass ",b.jsx(Vc,{size:14})]}):b.jsxs("button",{onClick:Ct,className:"bg-gray-800/90 backdrop-blur hover:bg-gray-700 text-gray-300 border border-gray-600 px-6 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 text-sm",children:["Pass & Scout ",b.jsx(YI,{size:14})]})]}),me!==null&&!V&&b.jsx("button",{onClick:()=>pe(null),className:"pointer-events-auto bg-black/60 text-white px-4 py-1 rounded-full text-xs mb-2",children:"Cancel"})]})]})]}),w&&b.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[100] p-6 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Shadow Log"}),b.jsx("button",{onClick:()=>I(!1),children:b.jsx(fh,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:[...p.logs].reverse().map(F=>b.jsxs("div",{className:`p-3 rounded border-l-4 text-sm ${F.type==="danger"?"bg-red-900/20 border-red-500":F.type==="success"?"bg-green-900/20 border-green-500":"bg-gray-800 border-gray-600"}`,children:[b.jsx("span",{className:"opacity-70 text-[10px] block mb-1",children:new Date(F.id).toLocaleTimeString()}),F.text]},F.id))})]}),k&&b.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-sm text-center",children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Abandon the Guild?"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>N(!1),className:"bg-gray-700 py-3 rounded font-bold",children:"Cancel"}),p.hostId===r.uid&&b.jsx("button",{onClick:dt,className:"bg-purple-700 py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:Se,className:"bg-red-600 py-3 rounded font-bold",children:p.hostId===r.uid?"Leave (Delete Room)":"Leave Game"})]})]})}),p.status==="finished"&&b.jsxs("div",{className:"absolute inset-0 z-[150] bg-black/90 flex flex-col items-center justify-center p-6 text-center animate-in fade-in",children:[b.jsx($E,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"GAME OVER"}),b.jsxs("p",{className:"text-2xl text-purple-400 font-serif mb-8",children:[p.players.find(F=>F.id===p.winnerId)?.name," ","is the new Guild Master!"]}),b.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 w-full max-w-sm",children:[b.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Rematch Status"}),b.jsx("div",{className:"space-y-2",children:p.players.map(F=>b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:F.name}),b.jsx("span",{className:F.ready?"text-green-400 font-bold":"text-gray-500",children:F.ready?"READY":"WAITING"})]},F.id))})]}),b.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[pn.ready?b.jsx("div",{className:"text-green-500 font-bold mb-2",children:"You are ready!"}):b.jsx("button",{onClick:It,className:"bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Ready for Rematch"}),p.hostId===r.uid&&b.jsx("button",{onClick:dt,disabled:!p.players.every(F=>F.ready),className:`py-3 rounded-lg font-bold transition-all ${p.players.every(F=>F.ready)?"bg-white text-black hover:scale-105":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Return to Lobby"})]})]}),b.jsx(bv,{}),Ue&&b.jsx(Sv,{onClose:()=>C(!1)})]})}Pb.createRoot(document.getElementById("root")).render(b.jsx(ft.StrictMode,{children:b.jsx(XC,{})}));
